"use strict";var _as=(()=>{var Qu=Object.create;var Di=Object.defineProperty;var ku=Object.getOwnPropertyDescriptor;var Lu=Object.getOwnPropertyNames;var Nu=Object.getPrototypeOf,Du=Object.prototype.hasOwnProperty;var Fi=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var Fu=(r,e,t,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Lu(e))!Du.call(r,s)&&s!==t&&Di(r,s,{get:()=>e[s],enumerable:!(o=ku(e,s))||o.enumerable});return r};var _t=(r,e,t)=>(t=r!=null?Qu(Nu(r)):{},Fu(e||!r||!r.__esModule?Di(t,"default",{value:r,enumerable:!0}):t,r));var xt=Fi((Pr,ac)=>{(function(r,e){if(typeof define=="function"&&define.amd)define("webextension-polyfill",["module"],e);else if(typeof Pr<"u")e(ac);else{var t={exports:{}};e(t),r.browser=t.exports}})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:Pr,function(r){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){let e="The message port closed before a response was received.",t=o=>{let s={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(s).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class n extends WeakMap{constructor(k,N=void 0){super(N),this.createItem=k}get(k){return this.has(k)||this.set(k,this.createItem(k)),super.get(k)}}let i=S=>S&&typeof S=="object"&&typeof S.then=="function",a=(S,k)=>(...N)=>{o.runtime.lastError?S.reject(new Error(o.runtime.lastError.message)):k.singleCallbackArg||N.length<=1&&k.singleCallbackArg!==!1?S.resolve(N[0]):S.resolve(N)},c=S=>S==1?"argument":"arguments",l=(S,k)=>function(U,...F){if(F.length<k.minArgs)throw new Error(`Expected at least ${k.minArgs} ${c(k.minArgs)} for ${S}(), got ${F.length}`);if(F.length>k.maxArgs)throw new Error(`Expected at most ${k.maxArgs} ${c(k.maxArgs)} for ${S}(), got ${F.length}`);return new Promise((z,X)=>{if(k.fallbackToNoCallback)try{U[S](...F,a({resolve:z,reject:X},k))}catch(q){console.warn(`${S} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,q),U[S](...F),k.fallbackToNoCallback=!1,k.noCallback=!0,z()}else k.noCallback?(U[S](...F),z()):U[S](...F,a({resolve:z,reject:X},k))})},p=(S,k,N)=>new Proxy(k,{apply(U,F,z){return N.call(F,S,...z)}}),_=Function.call.bind(Object.prototype.hasOwnProperty),u=(S,k={},N={})=>{let U=Object.create(null),F={has(X,q){return q in S||q in U},get(X,q,de){if(q in U)return U[q];if(!(q in S))return;let ee=S[q];if(typeof ee=="function")if(typeof k[q]=="function")ee=p(S,S[q],k[q]);else if(_(N,q)){let Le=l(q,N[q]);ee=p(S,S[q],Le)}else ee=ee.bind(S);else if(typeof ee=="object"&&ee!==null&&(_(k,q)||_(N,q)))ee=u(ee,k[q],N[q]);else if(_(N,"*"))ee=u(ee,k[q],N["*"]);else return Object.defineProperty(U,q,{configurable:!0,enumerable:!0,get(){return S[q]},set(Le){S[q]=Le}}),ee;return U[q]=ee,ee},set(X,q,de,ee){return q in U?U[q]=de:S[q]=de,!0},defineProperty(X,q,de){return Reflect.defineProperty(U,q,de)},deleteProperty(X,q){return Reflect.deleteProperty(U,q)}},z=Object.create(S);return new Proxy(z,F)},x=S=>({addListener(k,N,...U){k.addListener(S.get(N),...U)},hasListener(k,N){return k.hasListener(S.get(N))},removeListener(k,N){k.removeListener(S.get(N))}}),g=new n(S=>typeof S!="function"?S:function(N){let U=u(N,{},{getContent:{minArgs:0,maxArgs:0}});S(U)}),E=new n(S=>typeof S!="function"?S:function(N,U,F){let z=!1,X,q=new Promise(ge=>{X=function(ne){z=!0,ge(ne)}}),de;try{de=S(N,U,X)}catch(ge){de=Promise.reject(ge)}let ee=de!==!0&&i(de);if(de!==!0&&!ee&&!z)return!1;let Le=ge=>{ge.then(ne=>{F(ne)},ne=>{let oe;ne&&(ne instanceof Error||typeof ne.message=="string")?oe=ne.message:oe="An unexpected error occurred",F({__mozWebExtensionPolyfillReject__:!0,message:oe})}).catch(ne=>{console.error("Failed to send onMessage rejected reply",ne)})};return Le(ee?de:q),!0}),L=({reject:S,resolve:k},N)=>{o.runtime.lastError?o.runtime.lastError.message===e?k():S(new Error(o.runtime.lastError.message)):N&&N.__mozWebExtensionPolyfillReject__?S(new Error(N.message)):k(N)},A=(S,k,N,...U)=>{if(U.length<k.minArgs)throw new Error(`Expected at least ${k.minArgs} ${c(k.minArgs)} for ${S}(), got ${U.length}`);if(U.length>k.maxArgs)throw new Error(`Expected at most ${k.maxArgs} ${c(k.maxArgs)} for ${S}(), got ${U.length}`);return new Promise((F,z)=>{let X=L.bind(null,{resolve:F,reject:z});U.push(X),N.sendMessage(...U)})},Q={devtools:{network:{onRequestFinished:x(g)}},runtime:{onMessage:x(E),onMessageExternal:x(E),sendMessage:A.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:A.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},D={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return s.privacy={network:{"*":D},services:{"*":D},websites:{"*":D}},u(o,Q,s)};r.exports=t(chrome)}else r.exports=globalThis.browser})});var Or=Fi((Rr,$r)=>{(function(r,e){typeof Rr=="object"&&typeof $r<"u"?$r.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self,r.DOMPurify=e())})(Rr,function(){"use strict";let{entries:r,setPrototypeOf:e,isFrozen:t,getPrototypeOf:o,getOwnPropertyDescriptor:s}=Object,{freeze:n,seal:i,create:a}=Object,{apply:c,construct:l}=typeof Reflect<"u"&&Reflect;n||(n=function(G){return G}),i||(i=function(G){return G}),c||(c=function(G,ie,se){return G.apply(ie,se)}),l||(l=function(G,ie){return new G(...ie)});let p=N(Array.prototype.forEach),_=N(Array.prototype.pop),u=N(Array.prototype.push),x=N(String.prototype.toLowerCase),g=N(String.prototype.toString),E=N(String.prototype.match),L=N(String.prototype.replace),A=N(String.prototype.indexOf),Q=N(String.prototype.trim),D=N(Object.prototype.hasOwnProperty),S=N(RegExp.prototype.test),k=U(TypeError);function N(re){return function(G){for(var ie=arguments.length,se=new Array(ie>1?ie-1:0),Me=1;Me<ie;Me++)se[Me-1]=arguments[Me];return c(re,G,se)}}function U(re){return function(){for(var G=arguments.length,ie=new Array(G),se=0;se<G;se++)ie[se]=arguments[se];return l(re,ie)}}function F(re,G){let ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x;e&&e(re,null);let se=G.length;for(;se--;){let Me=G[se];if(typeof Me=="string"){let ct=ie(Me);ct!==Me&&(t(G)||(G[se]=ct),Me=ct)}re[Me]=!0}return re}function z(re){for(let G=0;G<re.length;G++)D(re,G)||(re[G]=null);return re}function X(re){let G=a(null);for(let[ie,se]of r(re))D(re,ie)&&(Array.isArray(se)?G[ie]=z(se):se&&typeof se=="object"&&se.constructor===Object?G[ie]=X(se):G[ie]=se);return G}function q(re,G){for(;re!==null;){let se=s(re,G);if(se){if(se.get)return N(se.get);if(typeof se.value=="function")return N(se.value)}re=o(re)}function ie(){return null}return ie}let de=n(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ee=n(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Le=n(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ge=n(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ne=n(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),oe=n(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Qe=n(["#text"]),ue=n(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),et=n(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Zn=n(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ds=n(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Gp=i(/\{\{[\w\W]*|[\w\W]*\}\}/gm),jp=i(/<%[\w\W]*|[\w\W]*%>/gm),R=i(/\${[\w\W]*}/gm),Zp=i(/^data-[\-\w.\u00B7-\uFFFF]/),Vp=i(/^aria-[\-\w]+$/),Vn=i(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Kp=i(/^(?:\w+script|data):/i),Xp=i(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Kn=i(/^html$/i);var Xn=Object.freeze({__proto__:null,MUSTACHE_EXPR:Gp,ERB_EXPR:jp,TMPLIT_EXPR:R,DATA_ATTR:Zp,ARIA_ATTR:Vp,IS_ALLOWED_URI:Vn,IS_SCRIPT_OR_DATA:Kp,ATTR_WHITESPACE:Xp,DOCTYPE_NAME:Kn});let Yp=function(){return typeof window>"u"?null:window},eu=function(G,ie){if(typeof G!="object"||typeof G.createPolicy!="function")return null;let se=null,Me="data-tt-policy-suffix";ie&&ie.hasAttribute(Me)&&(se=ie.getAttribute(Me));let ct="dompurify"+(se?"#"+se:"");try{return G.createPolicy(ct,{createHTML(Pt){return Pt},createScriptURL(Pt){return Pt}})}catch{return console.warn("TrustedTypes policy "+ct+" could not be created."),null}};function Yn(){let re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Yp(),G=j=>Yn(j);if(G.version="3.0.9",G.removed=[],!re||!re.document||re.document.nodeType!==9)return G.isSupported=!1,G;let{document:ie}=re,se=ie,Me=se.currentScript,{DocumentFragment:ct,HTMLTemplateElement:Pt,Node:nr,Element:ei,NodeFilter:ir,NamedNodeMap:ou=re.NamedNodeMap||re.MozNamedAttrMap,HTMLFormElement:su,DOMParser:ru,trustedTypes:Fs}=re,Es=ei.prototype,nu=q(Es,"cloneNode"),iu=q(Es,"nextSibling"),au=q(Es,"childNodes"),ar=q(Es,"parentNode");if(typeof Pt=="function"){let j=ie.createElement("template");j.content&&j.content.ownerDocument&&(ie=j.content.ownerDocument)}let We,so="",{implementation:lr,createNodeIterator:lu,createDocumentFragment:cu,getElementsByTagName:pu}=ie,{importNode:uu}=se,nt={};G.isSupported=typeof r=="function"&&typeof ar=="function"&&lr&&lr.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:cr,ERB_EXPR:pr,TMPLIT_EXPR:ur,DATA_ATTR:_u,ARIA_ATTR:mu,IS_SCRIPT_OR_DATA:du,ATTR_WHITESPACE:ti}=Xn,{IS_ALLOWED_URI:oi}=Xn,Ee=null,si=F({},[...de,...ee,...Le,...ne,...Qe]),Ce=null,ri=F({},[...ue,...et,...Zn,...Ds]),Se=Object.seal(a(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ro=null,_r=null,ni=!0,mr=!0,ii=!1,ai=!0,Mt=!1,Lt=!1,dr=!1,fr=!1,Rt=!1,Cs=!1,As=!1,li=!0,ci=!1,fu="user-content-",gr=!0,no=!1,$t={},Ot=null,pi=F({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ui=null,_i=F({},["audio","video","img","source","image","track"]),hr=null,mi=F({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Bs="http://www.w3.org/1998/Math/MathML",Us="http://www.w3.org/2000/svg",pt="http://www.w3.org/1999/xhtml",Wt=pt,br=!1,xr=null,gu=F({},[Bs,Us,pt],g),io=null,hu=["application/xhtml+xml","text/html"],bu="text/html",Ae=null,qt=null,xu=ie.createElement("form"),di=function(y){return y instanceof RegExp||y instanceof Function},vr=function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(qt&&qt===y)){if((!y||typeof y!="object")&&(y={}),y=X(y),io=hu.indexOf(y.PARSER_MEDIA_TYPE)===-1?bu:y.PARSER_MEDIA_TYPE,Ae=io==="application/xhtml+xml"?g:x,Ee=D(y,"ALLOWED_TAGS")?F({},y.ALLOWED_TAGS,Ae):si,Ce=D(y,"ALLOWED_ATTR")?F({},y.ALLOWED_ATTR,Ae):ri,xr=D(y,"ALLOWED_NAMESPACES")?F({},y.ALLOWED_NAMESPACES,g):gu,hr=D(y,"ADD_URI_SAFE_ATTR")?F(X(mi),y.ADD_URI_SAFE_ATTR,Ae):mi,ui=D(y,"ADD_DATA_URI_TAGS")?F(X(_i),y.ADD_DATA_URI_TAGS,Ae):_i,Ot=D(y,"FORBID_CONTENTS")?F({},y.FORBID_CONTENTS,Ae):pi,ro=D(y,"FORBID_TAGS")?F({},y.FORBID_TAGS,Ae):{},_r=D(y,"FORBID_ATTR")?F({},y.FORBID_ATTR,Ae):{},$t=D(y,"USE_PROFILES")?y.USE_PROFILES:!1,ni=y.ALLOW_ARIA_ATTR!==!1,mr=y.ALLOW_DATA_ATTR!==!1,ii=y.ALLOW_UNKNOWN_PROTOCOLS||!1,ai=y.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Mt=y.SAFE_FOR_TEMPLATES||!1,Lt=y.WHOLE_DOCUMENT||!1,Rt=y.RETURN_DOM||!1,Cs=y.RETURN_DOM_FRAGMENT||!1,As=y.RETURN_TRUSTED_TYPE||!1,fr=y.FORCE_BODY||!1,li=y.SANITIZE_DOM!==!1,ci=y.SANITIZE_NAMED_PROPS||!1,gr=y.KEEP_CONTENT!==!1,no=y.IN_PLACE||!1,oi=y.ALLOWED_URI_REGEXP||Vn,Wt=y.NAMESPACE||pt,Se=y.CUSTOM_ELEMENT_HANDLING||{},y.CUSTOM_ELEMENT_HANDLING&&di(y.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Se.tagNameCheck=y.CUSTOM_ELEMENT_HANDLING.tagNameCheck),y.CUSTOM_ELEMENT_HANDLING&&di(y.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Se.attributeNameCheck=y.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),y.CUSTOM_ELEMENT_HANDLING&&typeof y.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Se.allowCustomizedBuiltInElements=y.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Mt&&(mr=!1),Cs&&(Rt=!0),$t&&(Ee=F({},Qe),Ce=[],$t.html===!0&&(F(Ee,de),F(Ce,ue)),$t.svg===!0&&(F(Ee,ee),F(Ce,et),F(Ce,Ds)),$t.svgFilters===!0&&(F(Ee,Le),F(Ce,et),F(Ce,Ds)),$t.mathMl===!0&&(F(Ee,ne),F(Ce,Zn),F(Ce,Ds))),y.ADD_TAGS&&(Ee===si&&(Ee=X(Ee)),F(Ee,y.ADD_TAGS,Ae)),y.ADD_ATTR&&(Ce===ri&&(Ce=X(Ce)),F(Ce,y.ADD_ATTR,Ae)),y.ADD_URI_SAFE_ATTR&&F(hr,y.ADD_URI_SAFE_ATTR,Ae),y.FORBID_CONTENTS&&(Ot===pi&&(Ot=X(Ot)),F(Ot,y.FORBID_CONTENTS,Ae)),gr&&(Ee["#text"]=!0),Lt&&F(Ee,["html","head","body"]),Ee.table&&(F(Ee,["tbody"]),delete ro.tbody),y.TRUSTED_TYPES_POLICY){if(typeof y.TRUSTED_TYPES_POLICY.createHTML!="function")throw k('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof y.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw k('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');We=y.TRUSTED_TYPES_POLICY,so=We.createHTML("")}else We===void 0&&(We=eu(Fs,Me)),We!==null&&typeof so=="string"&&(so=We.createHTML(""));n&&n(y),qt=y}},fi=F({},["mi","mo","mn","ms","mtext"]),gi=F({},["foreignobject","desc","title","annotation-xml"]),vu=F({},["title","style","font","a","script"]),hi=F({},[...ee,...Le,...ge]),bi=F({},[...ne,...oe]),wu=function(y){let P=ar(y);(!P||!P.tagName)&&(P={namespaceURI:Wt,tagName:"template"});let H=x(y.tagName),he=x(P.tagName);return xr[y.namespaceURI]?y.namespaceURI===Us?P.namespaceURI===pt?H==="svg":P.namespaceURI===Bs?H==="svg"&&(he==="annotation-xml"||fi[he]):!!hi[H]:y.namespaceURI===Bs?P.namespaceURI===pt?H==="math":P.namespaceURI===Us?H==="math"&&gi[he]:!!bi[H]:y.namespaceURI===pt?P.namespaceURI===Us&&!gi[he]||P.namespaceURI===Bs&&!fi[he]?!1:!bi[H]&&(vu[H]||!hi[H]):!!(io==="application/xhtml+xml"&&xr[y.namespaceURI]):!1},Nt=function(y){u(G.removed,{element:y});try{y.parentNode.removeChild(y)}catch{y.remove()}},wr=function(y,P){try{u(G.removed,{attribute:P.getAttributeNode(y),from:P})}catch{u(G.removed,{attribute:null,from:P})}if(P.removeAttribute(y),y==="is"&&!Ce[y])if(Rt||Cs)try{Nt(P)}catch{}else try{P.setAttribute(y,"")}catch{}},xi=function(y){let P=null,H=null;if(fr)y="<remove></remove>"+y;else{let $e=E(y,/^[\r\n\t ]+/);H=$e&&$e[0]}io==="application/xhtml+xml"&&Wt===pt&&(y='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+y+"</body></html>");let he=We?We.createHTML(y):y;if(Wt===pt)try{P=new ru().parseFromString(he,io)}catch{}if(!P||!P.documentElement){P=lr.createDocument(Wt,"template",null);try{P.documentElement.innerHTML=br?so:he}catch{}}let Re=P.body||P.documentElement;return y&&H&&Re.insertBefore(ie.createTextNode(H),Re.childNodes[0]||null),Wt===pt?pu.call(P,Lt?"html":"body")[0]:Lt?P.documentElement:Re},vi=function(y){return lu.call(y.ownerDocument||y,y,ir.SHOW_ELEMENT|ir.SHOW_COMMENT|ir.SHOW_TEXT,null)},yu=function(y){return y instanceof su&&(typeof y.nodeName!="string"||typeof y.textContent!="string"||typeof y.removeChild!="function"||!(y.attributes instanceof ou)||typeof y.removeAttribute!="function"||typeof y.setAttribute!="function"||typeof y.namespaceURI!="string"||typeof y.insertBefore!="function"||typeof y.hasChildNodes!="function")},wi=function(y){return typeof nr=="function"&&y instanceof nr},ut=function(y,P,H){nt[y]&&p(nt[y],he=>{he.call(G,P,H,qt)})},yi=function(y){let P=null;if(ut("beforeSanitizeElements",y,null),yu(y))return Nt(y),!0;let H=Ae(y.nodeName);if(ut("uponSanitizeElement",y,{tagName:H,allowedTags:Ee}),y.hasChildNodes()&&!wi(y.firstElementChild)&&S(/<[/\w]/g,y.innerHTML)&&S(/<[/\w]/g,y.textContent))return Nt(y),!0;if(!Ee[H]||ro[H]){if(!ro[H]&&Qi(H)&&(Se.tagNameCheck instanceof RegExp&&S(Se.tagNameCheck,H)||Se.tagNameCheck instanceof Function&&Se.tagNameCheck(H)))return!1;if(gr&&!Ot[H]){let he=ar(y)||y.parentNode,Re=au(y)||y.childNodes;if(Re&&he){let $e=Re.length;for(let ze=$e-1;ze>=0;--ze)he.insertBefore(nu(Re[ze],!0),iu(y))}}return Nt(y),!0}return y instanceof ei&&!wu(y)||(H==="noscript"||H==="noembed"||H==="noframes")&&S(/<\/no(script|embed|frames)/i,y.innerHTML)?(Nt(y),!0):(Mt&&y.nodeType===3&&(P=y.textContent,p([cr,pr,ur],he=>{P=L(P,he," ")}),y.textContent!==P&&(u(G.removed,{element:y.cloneNode()}),y.textContent=P)),ut("afterSanitizeElements",y,null),!1)},Si=function(y,P,H){if(li&&(P==="id"||P==="name")&&(H in ie||H in xu))return!1;if(!(mr&&!_r[P]&&S(_u,P))){if(!(ni&&S(mu,P))){if(!Ce[P]||_r[P]){if(!(Qi(y)&&(Se.tagNameCheck instanceof RegExp&&S(Se.tagNameCheck,y)||Se.tagNameCheck instanceof Function&&Se.tagNameCheck(y))&&(Se.attributeNameCheck instanceof RegExp&&S(Se.attributeNameCheck,P)||Se.attributeNameCheck instanceof Function&&Se.attributeNameCheck(P))||P==="is"&&Se.allowCustomizedBuiltInElements&&(Se.tagNameCheck instanceof RegExp&&S(Se.tagNameCheck,H)||Se.tagNameCheck instanceof Function&&Se.tagNameCheck(H))))return!1}else if(!hr[P]){if(!S(oi,L(H,ti,""))){if(!((P==="src"||P==="xlink:href"||P==="href")&&y!=="script"&&A(H,"data:")===0&&ui[y])){if(!(ii&&!S(du,L(H,ti,"")))){if(H)return!1}}}}}}return!0},Qi=function(y){return y!=="annotation-xml"&&y.indexOf("-")>0},ki=function(y){ut("beforeSanitizeAttributes",y,null);let{attributes:P}=y;if(!P)return;let H={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ce},he=P.length;for(;he--;){let Re=P[he],{name:$e,namespaceURI:ze,value:Dt}=Re,ao=Ae($e),Je=$e==="value"?Dt:Q(Dt);if(H.attrName=ao,H.attrValue=Je,H.keepAttr=!0,H.forceKeepAttr=void 0,ut("uponSanitizeAttribute",y,H),Je=H.attrValue,H.forceKeepAttr||(wr($e,y),!H.keepAttr))continue;if(!ai&&S(/\/>/i,Je)){wr($e,y);continue}Mt&&p([cr,pr,ur],Ni=>{Je=L(Je,Ni," ")});let Li=Ae(y.nodeName);if(Si(Li,ao,Je)){if(ci&&(ao==="id"||ao==="name")&&(wr($e,y),Je=fu+Je),We&&typeof Fs=="object"&&typeof Fs.getAttributeType=="function"&&!ze)switch(Fs.getAttributeType(Li,ao)){case"TrustedHTML":{Je=We.createHTML(Je);break}case"TrustedScriptURL":{Je=We.createScriptURL(Je);break}}try{ze?y.setAttributeNS(ze,$e,Je):y.setAttribute($e,Je),_(G.removed)}catch{}}}ut("afterSanitizeAttributes",y,null)},Su=function j(y){let P=null,H=vi(y);for(ut("beforeSanitizeShadowDOM",y,null);P=H.nextNode();)ut("uponSanitizeShadowNode",P,null),!yi(P)&&(P.content instanceof ct&&j(P.content),ki(P));ut("afterSanitizeShadowDOM",y,null)};return G.sanitize=function(j){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=null,H=null,he=null,Re=null;if(br=!j,br&&(j="<!-->"),typeof j!="string"&&!wi(j))if(typeof j.toString=="function"){if(j=j.toString(),typeof j!="string")throw k("dirty is not a string, aborting")}else throw k("toString is not a function");if(!G.isSupported)return j;if(dr||vr(y),G.removed=[],typeof j=="string"&&(no=!1),no){if(j.nodeName){let Dt=Ae(j.nodeName);if(!Ee[Dt]||ro[Dt])throw k("root node is forbidden and cannot be sanitized in-place")}}else if(j instanceof nr)P=xi("<!---->"),H=P.ownerDocument.importNode(j,!0),H.nodeType===1&&H.nodeName==="BODY"||H.nodeName==="HTML"?P=H:P.appendChild(H);else{if(!Rt&&!Mt&&!Lt&&j.indexOf("<")===-1)return We&&As?We.createHTML(j):j;if(P=xi(j),!P)return Rt?null:As?so:""}P&&fr&&Nt(P.firstChild);let $e=vi(no?j:P);for(;he=$e.nextNode();)yi(he)||(he.content instanceof ct&&Su(he.content),ki(he));if(no)return j;if(Rt){if(Cs)for(Re=cu.call(P.ownerDocument);P.firstChild;)Re.appendChild(P.firstChild);else Re=P;return(Ce.shadowroot||Ce.shadowrootmode)&&(Re=uu.call(se,Re,!0)),Re}let ze=Lt?P.outerHTML:P.innerHTML;return Lt&&Ee["!doctype"]&&P.ownerDocument&&P.ownerDocument.doctype&&P.ownerDocument.doctype.name&&S(Kn,P.ownerDocument.doctype.name)&&(ze="<!DOCTYPE "+P.ownerDocument.doctype.name+`>
`+ze),Mt&&p([cr,pr,ur],Dt=>{ze=L(ze,Dt," ")}),We&&As?We.createHTML(ze):ze},G.setConfig=function(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};vr(j),dr=!0},G.clearConfig=function(){qt=null,dr=!1},G.isValidAttribute=function(j,y,P){qt||vr({});let H=Ae(j),he=Ae(y);return Si(H,he,P)},G.addHook=function(j,y){typeof y=="function"&&(nt[j]=nt[j]||[],u(nt[j],y))},G.removeHook=function(j){if(nt[j])return _(nt[j])},G.removeHooks=function(j){nt[j]&&(nt[j]=[])},G.removeAllHooks=function(){nt={}},G}var tu=Yn();return tu})});var Ie=class{static fromUrl(e){let t=e.match(/(?:store\.steampowered|steamcommunity)\.com\/(?:app|games|market\/listings)\/(\d+)\/?/);return t&&t[1]!==void 0?Number(t[1]):null}static fromCDNUrl(e){let t=/(?:cdn\.(?:akamai|cloudflare)\.steamstatic\.com\/steam|steamcdn-a\.akamaihd\.net\/steam|steamcommunity\/public\/images)\/apps\/(\d+)\//,o=/shared\.(?:akamai|cloudflare)\.steamstatic\.com\/store_item_assets\/steam\/apps\/(\d+)\//,s=e.match(t)??e.match(o);return s&&s[1]!==void 0?Number(s[1]):null}static fromGameCardUrl(e){let t=e.match(/\/gamecards\/(\d+)/);return t&&t[1]!==void 0?Number(t[1]):null}static fromElement(e){if(!e)return null;let t=e.dataset.dsAppid;if(t)return Number(t);let o=e.getAttribute("href");return o?this.fromUrl(o):null}static fromImageElement(e){if(!e)return null;let t=e.getAttribute("src");return t?this.fromCDNUrl(t):e.dataset.imageUrl?this.fromCDNUrl(e.dataset.imageUrl):null}static fromText(e){let t=/(?:store\.steampowered|steamcommunity)\.com\/app\/(\d+)\/?/g,o=[],s;for(;(s=t.exec(e))!==null;)o.push(Number(s[1]));return o}};var Ei="downloadDemoHeader",Ci="deckCompat_header",Ai="deckCompat_unknown",Bi="deckCompat_unsupported",Ui="deckCompat_playable",Ti="deckCompat_verified";var Ii="thewordunknown";var Pi="cart";var Mi="moreOnSteampeek";var Ri="viewInLibrary",$i="support",Oi="email",Wi="contact";var qi="dlcDetails",Hi="badgeNotUnlocked",yr="badgeLevel",zi="each";var Ji="getHelp",Gi="addSelectedDlcToCart";var ji="activate";var Zi="couponApplicationNote",Vi="hide";var Ki="cardsOwned";var Xi="clearCache";var Sr="viewBadgeProgress",Yi="badgeProgress";var ea="apppageSections",Ts="website",ta="games";var oa="loading";var sa="homepageTabs";var ra="communityHub",Ge="viewOnWebsite",na="drmThirdParty",ia="hoursShort";var aa="addToWishlist",la="addFullgameToWishlist",ca="addToWaitlist",pa="addFullgameToWaitlist",ua="removeFromWaitlistTooltip",_a="removeFullgameFromWaitlistTooltip",ma="removeFromWishlistAndWaitlistTooltip",da="removeFullgameFromWishlistAndWaitlistTooltip";var fa="theworddefault";var ga="couponLearnMore_linkText",ha="couponLearnMore_fullText";var Qr="ownedCollection",kr="viewBadge";var ba="viewAstats",xa="contribute",va="reviews",wa="readReviews";var ya="youtubeGameplay",Sa="youtubeReviews",Qa="packageInfo";var Lr="homepageCurators",ka="homepageTopnewreleases",La="homepageSidebar";var Na="usingLanguageReturn";var Da="save";var Is="viewinclient";var Fa="apppageRecentupdates",Ea="apppageEaheader",Ca="apppageEabanner",Aa="apppageWorkshop",Ba="apppageGreenlight",Ua="apppageLegal",Ta="apppageFranchise",Ia="apppageMorefromfranchise",Pa="bugFeature";var Ma="ratingDetails";var Ra="familySharingNotice_notice",$a="familySharingNotice_desc",Oa="visitStore";var Wa="usingLanguage",Nr="loginWarning";var qa="purchaseDate";var Ha="buy",Dr="buyPackage",za="moreInformation",Ja="regionUnavailable";var Ga="export_download";var lo="never",ja="couponAvailable",Za="launchRandom",Va="playGame";var Ps="wishlist";var Ka="onWaitlist",Xa="onWishlistAndWaitlist",Ya="cancel",el="wikiArticle";var tl="drmThirdPartySub",ol="customize";var sl="thewordoptions";var rl="pricing_lowestPrice",nl="pricing_historicalLow",il="pricing_bundled",Fr="pricing_withVoucher",co="pricing_store",Er="pricing_bundleCount";var Ms="expandSlider",Rs="contractSlider",al="earlyAccess";var ll="userScore";var cl="achievements_summary",pl="bundle_offerEnds",Cr="bundle_includes",Ar="bundle_tierIncludes",Br="bundle_tier",ul="bundle_header",_l="bundle_info",ml="charts_peakall",dl="charts_current",fl="charts_playingNow",gl="charts_peaktoday",hl="hltb_title",bl="hltb_mainE",xl="hltb_compl",vl="hltb_main";var wl="options_homepage";var Ur="ready_loading",Tr="ready_ready",Ir="ready_failed",yl="ready_serverOutage";var Sl="dlcSelect_wishlistedDlc",Ql="dlcSelect_none",kl="dlcSelect_unownedDlc",Ll="tag_wishlist",Nl="tag_coupon",Dl="tag_invGift",Fl="tag_invGuestpass",El="tag_owned",Cl="tag_notinterested",Al="tag_ignoredOwned",Bl="tag_collection",Ul="tag_waitlist";var Tl="wsgf_incomplete",Il="wsgf_unsupported",Pl="wsgf_gold",Ml="wsgf_silver",Rl="wsgf_limited",$l="wsgf_certifications";var Ol="itad_lastImport",Wl="itad_from",ql="itad_to",Hl="itad_syncNow";var zl="update_dontShow",Jl="update_updated",Gl="update_changes";var jl="coll_inCollection";var $s="userNote_add",Zl="userNote_update",Vl="userNote_addForGame",Kl="userNote_notEnoughSpace",Xl="userNote_notEnoughSpaceDesc",Yl="userNote_closeOnStorage",ec="userNote_closeOnStorageDesc",tc="userNote_storageWarningDesc",oc="userNote_saveSyncedStorage",sc="userNote_saveLocal";var rc="userNote_syncError";var nc="queue_new",ic="queue_newTooltip";var lc=_t(xt()),Ze={version:lc.default.runtime.getManifest().version,db_version:6};var Mr=_t(xt());var Om=_t(xt()),Ft=class{constructor(e){this.storageArea=e}get onChanged(){return this.storageArea.onChanged}async get(e){return(await this.storageArea.get(e))[e]??void 0}getObject(e){return this.storageArea.get(e)}set(e,t){return this.storageArea.set({[e]:t})}setObject(e){return this.storageArea.set(e)}remove(...e){return this.storageArea.remove(e)}};var po=class extends Ft{constructor(){super(Mr.default.storage.sync)}get QUOTA_BYTES_PER_ITEM(){return Mr.default.storage.sync.QUOTA_BYTES_PER_ITEM}},it=new po;var Os={language:"english",version:Ze.version,version_show:!0,highlight_owned_color:"#00ce67",highlight_wishlist_color:"#0491bf",highlight_coupon_color:"#a26426",highlight_inv_gift_color:"#800040",highlight_inv_guestpass_color:"#513c73",highlight_notinterested_color:"#4f4f4f",highlight_ignored_owned_color:"#4f4f4f",highlight_collection_color:"#856d0e",highlight_waitlist_color:"#4c7521",tag_owned_color:"#00b75b",tag_wishlist_color:"#0383b4",tag_coupon_color:"#c27120",tag_inv_gift_color:"#b10059",tag_inv_guestpass_color:"#65449a",tag_notinterested_color:"#4f4f4f",tag_ignored_owned_color:"#4f4f4f",tag_collection_color:"#856d0e",tag_waitlist_color:"#4c7521",highlight_owned:!0,highlight_wishlist:!0,highlight_coupon:!1,highlight_inv_gift:!1,highlight_inv_guestpass:!1,highlight_notinterested:!1,highlight_ignored_owned:!1,highlight_excludef2p:!1,highlight_collection:!0,highlight_waitlist:!0,tag_owned:!1,tag_wishlist:!1,tag_coupon:!1,tag_inv_gift:!1,tag_inv_guestpass:!1,tag_notinterested:!0,tag_ignored_owned:!0,tag_collection:!1,tag_waitlist:!1,tag_short:!1,hidetmsymbols:!1,showlowestprice:!0,showlowestprice_onwishlist:!0,showlowestpricecoupon:!0,showallstores:!0,excluded_stores:[],override_price:"auto",showregionalprice:"mouse",regional_countries:["us","gb","fr","br","au","jp"],show_es_homepagetabs:!0,showmarkettotal:!1,showsteamrepapi:!0,showmcus:!0,showoc:!0,showhltb:!0,showyoutube:!0,showtwitch:!0,showpcgw:!0,showcompletionistme:!1,showprotondb:!1,showviewinlibrary:!1,showsteamcardexchange:!1,showitadlinks:!0,showsteamdb:!0,showbartervg:!1,showastatslink:!0,showyoutubegameplay:!0,showyoutubereviews:!0,showwsgf:!0,exfgls:!0,app_custom_link:[{enabled:!0,name:"Google",url:"https://www.google.com/search?q=[ID]+[NAME]",icon:"https://www.google.com/images/branding/product/ico/googleg_lodp.ico"}],customize_apppage:{},customize_frontpage:{},show_package_info:!1,show_players_info:!0,show_early_access:!0,show_alternative_linux_icon:!1,show_itad_button:!1,skip_got_steam:!1,installsteam:"show",openinnewtab:!1,keepssachecked:!1,showemptywishlist:!0,user_notes_app:!0,user_notes_wishlist:!0,showwishliststats:!0,oneclickremovewl:!1,user_notes_adapter:"idb",showlanguagewarning:!0,showlanguagewarninglanguage:"english",homepage_tab_selection:"remember",send_age_info:!0,showdeckcompat:!1,removebroadcasts:!1,mp4video:!1,horizontalscrolling:!0,showsupportinfo:!0,showdrm:!0,regional_hideworld:!1,showinvnav:!0,quickinv:!0,quickinv_diff:-.01,community_default_tab:"",showallstats:!0,replacecommunityhublinks:!1,hideannouncementcomments:!1,showachinstore:!0,hideactivelistings:!1,showlowestmarketprice:!0,hidespamcomments:!1,spamcommentregex:"[\\u2500-\\u25FF]",wlbuttoncommunityapp:!0,removeguideslanguagefilter:!1,confirmdeletecomment:!0,disablelinkfilter:!1,show1clickgoo:!0,show_profile_link_images:"gray",show_custom_themes:!0,profile_pinned_bg:!1,friends_append_nickname:!1,profile_steamrepcn:!0,profile_steamgifts:!0,profile_steamtrades:!0,profile_bartervg:!0,profile_steamrep:!0,profile_steamdbcalc:!0,profile_astats:!0,profile_backpacktf:!0,profile_astatsnl:!0,profile_steamid:!0,profile_custom_link:[{enabled:!0,name:"Google",url:"https://www.google.com/search?q=[ID]",icon:"https://www.google.com/images/branding/product/ico/googleg_lodp.ico"}],group_steamgifts:!0,steamcardexchange:!0,purchase_dates:!0,show_badge_progress:!0,show_coupon:!0,show_wishlist_link:!0,show_wishlist_count:!0,show_progressbar:!0,show_backtotop:!1,profile_showcase_twitch:!0,profile_showcase_own_twitch:!1,profile_showcase_twitch_profileonly:!1,itad_sync_library:!0,itad_sync_wishlist:!0,add_to_waitlist:!1,collection_banner_notowned:!1,itad_sync_notes:!1,context_steam_store:!1,context_steam_market:!1,context_itad:!1,context_bartervg:!1,context_steamdb:!1,context_steamdb_instant:!1,context_steam_keys:!1},Ws=class{constructor(){this.listeners=new Set}addListener(e){this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}invoke(){for(let e of this.listeners)e()}},Et=class{static{this.storage=new po}static{this.onSaveStart=new Ws}static{this.onSaveEnd=new Ws}static async load(){this.data=await this.storage.getObject(Os)}static init(){return this.promise||(this.promise=this.load()),this.promise}static getDefault(e){return Os[e]}static get(e){if(!this.data)throw new Error("Settings have not been loaded");return this.data[e]}static async set(e,t){this.onSaveStart.invoke(),this.data[e]=t,await this.storage.set(e,t),this.onSaveEnd.invoke()}static remove(e){this.storage.remove(e),this.data[e]=structuredClone(Os[e])}static clear(){this.storage.remove(...Object.keys(this.data)),this.data=structuredClone(Os)}static async import(e){await this.storage.setObject(e),await this.load()}static asObject(){return structuredClone(this.data)}},h=new Proxy(Et,{get(r,e){return r.get(e)},set(r,e,t){return r.set(e,t),!0}});var cc=_t(xt()),_e=class r{static getURL(e){return cc.default.runtime.getURL(e)}static get(e){return fetch(r.getURL(e))}static async getJSON(e){return await(await r.get(e)).json()}static async getText(e){return await(await r.get(e)).text()}};var uo=class{static{this.loaded=!1}static loadConfig(){if(this.loaded)return;let e=document.querySelector("#application_config");if(!e)throw new Error("Could not find config node");if(!e.dataset.config)throw new Error("Could not find config");if(this.config=JSON.parse(e.dataset.config),!e.dataset.userinfo)throw new Error("Could not find userinfo");if(this.userInfo=JSON.parse(e.dataset.userinfo),!e.dataset.store_user_config)throw new Error("Could not find store_user_config");this.storeUserConfig=JSON.parse(e.dataset.store_user_config)}static language(){return this.loadConfig(),this.config.LANGUAGE}static countryCode(){return this.loadConfig(),this.userInfo.country_code}static webApiToken(){return this.loadConfig(),this.storeUserConfig.webapi_token}};var mt=class{static{this.currentContext=0}static set CurrentContext(e){this.currentContext=e}static isBackgroundScript(){return this.currentContext===1}static isContentScript(){return this.currentContext===2}static isOptions(){return this.currentContext===3}};var _o=class{static load(){if(this.cache=new Map,!mt.isBackgroundScript()&&typeof document<"u")for(let[e,t]of document.cookie.split(";").map(o=>o.split("=",2)))e=e.trim(),this.cache.set(e,decodeURIComponent(t))}static get(e,t=null){return this.cache===null&&this.load(),this.cache.get(e.trim())??t}};var qe=class{static{this._currentSteamLanguage=null}static{this.map={english:"en",bulgarian:"bg",czech:"cs",danish:"da",dutch:"nl",finnish:"fi",french:"fr",greek:"el",german:"de",hungarian:"hu",italian:"it",japanese:"ja",koreana:"ko",norwegian:"no",polish:"pl",portuguese:"pt-PT",brazilian:"pt-BR",russian:"ru",romanian:"ro",schinese:"zh-CN",spanish:"es-ES",latam:"es-419",swedish:"sv-SE",tchinese:"zh-TW",thai:"th",turkish:"tr",ukrainian:"ua",vietnamese:"vi"}}static getCurrentSteamLanguage(){if(!mt.isContentScript())return null;if(this._currentSteamLanguage!==null)return this._currentSteamLanguage;try{return this._currentSteamLanguage=uo.language(),this._currentSteamLanguage}catch{}for(let e of document.querySelectorAll("script[src]")){let t=new URL(e.src).searchParams.get("l");if(t)return this._currentSteamLanguage=t,this._currentSteamLanguage}return this._currentSteamLanguage=_o.get("Steam_Language",null),this._currentSteamLanguage}static getLanguageCode(e){return this.map[e]??"en"}static isCurrentLanguageOneOf(...e){return e.includes(this.getCurrentSteamLanguage()??"")}};var pc=_t(xt());var mo=class{static parse(e){let t=e.match(/(.*):\s(.+)/);return t?{name:t[1]??"",message:t[2]??""}:{name:null,message:null}}};var W=class{static async send(e,t={}){document.dispatchEvent(new CustomEvent("asRequestStart"));try{let o=await pc.default.runtime.sendMessage({action:e,params:t});return document.dispatchEvent(new CustomEvent("asRequestDone")),o}catch(o){let s=mo.parse(o.message??"");throw document.dispatchEvent(new CustomEvent("asRequestError",{detail:s})),o}}};var Be=class{static wishlistAdd(e){return W.send("wishlist.add",{appid:e})}static wishlistRemove(e){return W.send("wishlist.remove",{appid:e})}static fetchWishlistCount(e){return W.send("wishlists",{path:e})}static fetchAppDetails(e,t=void 0){return W.send("appdetails",{appid:e,filter:t})}static getPurchaseDate(e,t){return W.send("purchases",{appName:e,lang:t})}static getCurrency(){return W.send("currency")}static clearPurchases(){return W.send("clearpurchases")}static clearDynamicStore(){return W.send("dynamicstore.clear")}static getDynamicStoreStatus(e){return W.send("dynamicstore.status",{ids:e})}static getDynamicStoreRandomApp(){return W.send("dynamicstore.randomapp")}};var vt=class{static load(e){return _e.getJSON(`/localization/compiled/${e}.json`)}static init(){return this.promise||(this.promise=(async()=>{let e=h.language,t=qe.getCurrentSteamLanguage();t===null?t=e:t!==e&&(h.language=t,Be.clearPurchases());let o=qe.getLanguageCode(t);try{this.locale=await this.load(o)}catch{console.error(`Failed to load ${o}`),this.locale=await this.load("en")}})()),this.promise}};function f(r,e=null){let t=vt.locale.strings[r]??"<<missing text>>";if(e!==null)for(let[o,s]of Object.entries(e))t=t.replaceAll(`__${o}__`,String(s));return t}var B=class{constructor(e){this.context=e}checkPrerequisites(){return!0}logError(e,t,...o){console.group(this.constructor.name),console.error(t,...o),console.error(e),console.groupEnd()}};var qs=_t(Or()),M=class r{static formatUrl(e){let o=/^[a-z]+:\/\//.test(e)?e:`//${e}`;return this.escape(o)}static escape(e){let t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,o=>{if(!t[o])throw new Error;return t[o]})}static toDom(e){let t=document.createElement("template");return t.innerHTML=qs.default.sanitize(e),t.content}static toElement(e){return r.toDom(e).firstElementChild}static _getNode(e){let t=typeof e=="string"?document.querySelector(e):e;return t instanceof Element?t:(console.warn(`${t} is not an Element.`),console.trace(),null)}static inner(e,t){let o=r._getNode(e);return o&&(o.innerHTML=qs.default.sanitize(t)),o}static replace(e,t){let o=r._getNode(e);if(!o)return null;let s=r.toDom(t),n=s.firstElementChild;return o.replaceWith(s),n}static wrap(e,t,o=t){let s=r._getNode(t);if(!s)return null;let n=o===null?s.parentElement?.lastElementChild??null:r._getNode(o),i=[s];for(let c=s;c.nextElementSibling!==null&&c!==n;c=c.nextElementSibling)i.push(c.nextElementSibling);let a=r.toElement(e);return a?(s.replaceWith(a),a.append(...i),a):null}static _adjacent(e,t,o){let s=r._getNode(e);return s&&s.insertAdjacentHTML(t,qs.default.sanitize(o)),s}static beforeBegin(e,t){e&&r._adjacent(e,"beforebegin",t)}static afterBegin(e,t){e&&r._adjacent(e,"afterbegin",t)}static beforeEnd(e,t){e&&r._adjacent(e,"beforeend",t)}static afterEnd(e,t){e&&r._adjacent(e,"afterend",t)}};var uc=_t(xt());var Wr=class extends Ft{constructor(){super(uc.default.storage.local)}},fe=new Wr;var _c=(R=>(R[R.ACCOUNT=0]="ACCOUNT",R[R.APP=1]="APP",R[R.BUNDLE=2]="BUNDLE",R[R.STORE_DEFAULT=3]="STORE_DEFAULT",R[R.FUNDS=4]="FUNDS",R[R.REGISTER_KEY=5]="REGISTER_KEY",R[R.CART=6]="CART",R[R.SEARCH=7]="SEARCH",R[R.CHARTS=8]="CHARTS",R[R.STORE_FRONT=9]="STORE_FRONT",R[R.SUB=10]="SUB",R[R.WISHLIST=11]="WISHLIST",R[R.AGECHECK=12]="AGECHECK",R[R.COMMUNITY_DEFAULT=13]="COMMUNITY_DEFAULT",R[R.WORKSHOP=14]="WORKSHOP",R[R.PROFILE_ACTIVITY=15]="PROFILE_ACTIVITY",R[R.GAMES=16]="GAMES",R[R.PROFILE_EDIT=17]="PROFILE_EDIT",R[R.BADGES=18]="BADGES",R[R.GAME_CARD=19]="GAME_CARD",R[R.FRIENDS_THAT_PLAY=20]="FRIENDS_THAT_PLAY",R[R.GLOBAL_STATS=21]="GLOBAL_STATS",R[R.MARKET_SEARCH=22]="MARKET_SEARCH",R[R.INVENTORY=23]="INVENTORY",R[R.MARKET_LISTING=24]="MARKET_LISTING",R[R.MARKET_HOME=25]="MARKET_HOME",R[R.PROFILE_HOME=26]="PROFILE_HOME",R[R.GROUP_HOME=27]="GROUP_HOME",R[R.GUIDES=28]="GUIDES",R[R.COMMUNITY_APP=29]="COMMUNITY_APP",R[R.PROFILE_STATS=30]="PROFILE_STATS",R[R.MY_WORKSHOP=31]="MY_WORKSHOP",R[R.SHARED_FILES=32]="SHARED_FILES",R[R.WORKSHOP_BROWSE=33]="WORKSHOP_BROWSE",R[R.EDIT_GUIDE=34]="EDIT_GUIDE",R[R.RECOMMENDED=35]="RECOMMENDED",R[R.BOOSTER_CREATOR=36]="BOOSTER_CREATOR",R[R.TRADE_OFFER=37]="TRADE_OFFER",R[R.FRIENDS_AND_GROUPS=38]="FRIENDS_AND_GROUPS",R[R.POINTS_SHOP=39]="POINTS_SHOP",R[R.LICENSES=40]="LICENSES",R))(_c||{}),Oe=_c;var mc=_t(xt());var Y=class{static selectLastNode(e,t){let o=e.querySelectorAll(t);return o[o.length-1]??null}static insertRemoteStylesheet(e){let t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=e,document.head.appendChild(t)}static insertStylesheet(e){let t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=_e.getURL(e),document.head.appendChild(t)}static insertCSS(e){let t=document.createElement("style");t.textContent=e,document.head.appendChild(t)}static insertScript(e,t=void 0){let o=document.createElement("script");o.src=mc.default.runtime.getURL(e),o.onload=function(){this.remove()},t&&(o.dataset.params=JSON.stringify(t)),(document.head||document.documentElement).appendChild(o)}};var fo=class extends B{constructor(){super(...arguments);this._details=null;this._sliderToggle=null}checkPrerequisites(){return this._details=document.querySelector("#game_highlights .rightcol, .workshop_item_header .col_right"),this._details!==null}async apply(){let t=this._details;M.beforeEnd("#highlight_player_area",`<div class="es_slider_toggle btnv6_blue_hoverfade btn_medium">
                <div data-tooltip-text="${f(Ms)}" class="es_slider_expand"><i class="es_slider_toggle_icon"></i></div>
                <div data-tooltip-text="${f(Rs)}" class="es_slider_contract"><i class="es_slider_toggle_icon"></i></div>
            </div>`),t.classList.add("as-side-details"),this._sliderToggle=document.querySelector(".es_slider_toggle"),this._sliderToggle.addEventListener("click",()=>this._toggleView()),await fe.get("expand_slider")&&this._toggleView();let o=document.querySelector(".highlight_sketchfab_model");if(o){let s=document.getElementById("highlight_player_area");s.addEventListener("mouseenter",()=>{o.style.display!=="none"&&(this._sliderToggle.style.top="32px")}),s.addEventListener("mouseleave",()=>{this._sliderToggle.style.top=""})}}_toggleView(){let t=this._details,s=!this._sliderToggle.classList.contains("es_expanded");fe.set("expand_slider",s);for(let n of document.querySelectorAll(".es_slider_toggle, #game_highlights, .workshop_item_header, .as-side-details"))n.classList.toggle("es_expanded",s);this._details.addEventListener("transitionend",()=>{this.context.type===Oe.APP?this._handleApp(s):this.context.type===Oe.SHARED_FILES&&this._handleWorkshop(s),setTimeout(()=>{t.style.opacity=""},0)},{once:!0}),this._details.style.opacity="0"}_handleApp(t){let o=this._details,s=o.classList;s.toggle("block",t),s.toggle("responsive_apppage_details_left",t),s.toggle("rightcol",!t),t?document.querySelector(".rightcol.game_meta_data")?.insertAdjacentElement("afterbegin",o):document.getElementById("game_highlights")?.insertAdjacentElement("afterbegin",o),Y.insertScript("scriptlets/Common/mediaExpander_app.js")}_handleWorkshop(t){let o=this._details;o.classList.toggle("panel",t),t?document.querySelector(".sidebar")?.insertAdjacentElement("afterbegin",o):document.querySelector(".highlight_ctn")?.insertAdjacentElement("afterend",o),o.addEventListener("transitionend",()=>{Y.insertScript("scriptlets/Common/mediaExpander_workshop.js")},{once:!0})}};function I(){}var zt=r=>r;function dc(r,e){for(let t in e)r[t]=e[t];return r}function qr(r){return r()}function zs(){return Object.create(null)}function we(r){r.forEach(qr)}function Ct(r){return typeof r=="function"}function fc(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}var Hs;function Ve(r,e){return r===e?!0:(Hs||(Hs=document.createElement("a")),Hs.href=e,r===Hs.href)}function K(r,e){return r!=r?e==e:r!==e}function gc(r){return Object.keys(r).length===0}function Js(r,e,t,o){if(r){let s=hc(r,e,t,o);return r[0](s)}}function hc(r,e,t,o){return r[1]&&o?dc(t.ctx.slice(),r[1](o(e))):t.ctx}function Gs(r,e,t,o){if(r[2]&&o){let s=r[2](o(t));if(e.dirty===void 0)return s;if(typeof s=="object"){let n=[],i=Math.max(e.dirty.length,s.length);for(let a=0;a<i;a+=1)n[a]=e.dirty[a]|s[a];return n}return e.dirty|s}return e.dirty}function js(r,e,t,o,s,n){if(s){let i=hc(e,t,o,n);r.p(i,s)}}function Zs(r){if(r.ctx.length>32){let e=[],t=r.ctx.length/32;for(let o=0;o<t;o++)e[o]=-1;return e}return-1}function Ne(r){return r&&Ct(r.destroy)?r.destroy:I}var bc=typeof window<"u",Hr=bc?()=>window.performance.now():()=>Date.now(),go=bc?r=>requestAnimationFrame(r):I;var Jt=new Set;function xc(r){Jt.forEach(e=>{e.c(r)||(Jt.delete(e),e.f())}),Jt.size!==0&&go(xc)}function zr(r){let e;return Jt.size===0&&go(xc),{promise:new Promise(t=>{Jt.add(e={c:r,f:t})}),abort(){Jt.delete(e)}}}var ho=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;var Vs=class r{_listeners="WeakMap"in ho?new WeakMap:void 0;_observer=void 0;options;constructor(e){this.options=e}observe(e,t){return this._listeners.set(e,t),this._getObserver().observe(e,this.options),()=>{this._listeners.delete(e),this._observer.unobserve(e)}}_getObserver(){return this._observer??(this._observer=new ResizeObserver(e=>{for(let t of e)r.entries.set(t.target,t),this._listeners.get(t.target)?.(t)}))}};Vs.entries="WeakMap"in ho?new WeakMap:void 0;var vc=!1;function wc(){vc=!0}function yc(){vc=!1}function d(r,e){r.appendChild(e)}function Jr(r){if(!r)return document;let e=r.getRootNode?r.getRootNode():r.ownerDocument;return e&&e.host?e:r.ownerDocument}function Sc(r){let e=b("style");return e.textContent="/* empty */",Cu(Jr(r),e),e.sheet}function Cu(r,e){return d(r.head||r,e),e.sheet}function w(r,e,t){r.insertBefore(e,t||null)}function v(r){r.parentNode&&r.parentNode.removeChild(r)}function Ke(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function b(r){return document.createElement(r)}function Au(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function T(r){return document.createTextNode(r)}function C(){return T(" ")}function Pe(){return T("")}function ye(r,e,t,o){return r.addEventListener(e,t,o),()=>r.removeEventListener(e,t,o)}function Ks(r){return function(e){return e.preventDefault(),r.call(this,e)}}function Qc(r){return function(e){return e.stopPropagation(),r.call(this,e)}}function m(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function kc(r){return Array.from(r.childNodes)}function V(r,e){e=""+e,r.data!==e&&(r.data=e)}function at(r,e,t,o){t==null?r.style.removeProperty(e):r.style.setProperty(e,t,o?"important":"")}function te(r,e,t){r.classList.toggle(e,!!t)}function bo(r,e,{bubbles:t=!1,cancelable:o=!1}={}){return new CustomEvent(r,{detail:e,bubbles:t,cancelable:o})}var At=class{is_svg=!1;e=void 0;n=void 0;t=void 0;a=void 0;constructor(e=!1){this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,o=null){this.e||(this.is_svg?this.e=Au(t.nodeName):this.e=b(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)w(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(v)}};function Lc(r){let e={};return r.childNodes.forEach(t=>{e[t.slot||"default"]=!0}),e}var Xs=new Map,Ys=0;function Bu(r){let e=5381,t=r.length;for(;t--;)e=(e<<5)-e^r.charCodeAt(t);return e>>>0}function Uu(r,e){let t={stylesheet:Sc(e),rules:{}};return Xs.set(r,t),t}function er(r,e,t,o,s,n,i,a=0){let c=16.666/o,l=`{
`;for(let L=0;L<=1;L+=c){let A=e+(t-e)*n(L);l+=L*100+`%{${i(A,1-A)}}
`}let p=l+`100% {${i(t,1-t)}}
}`,_=`__svelte_${Bu(p)}_${a}`,u=Jr(r),{stylesheet:x,rules:g}=Xs.get(u)||Uu(u,r);g[_]||(g[_]=!0,x.insertRule(`@keyframes ${_} ${p}`,x.cssRules.length));let E=r.style.animation||"";return r.style.animation=`${E?`${E}, `:""}${_} ${o}ms linear ${s}ms 1 both`,Ys+=1,_}function Gr(r,e){let t=(r.style.animation||"").split(", "),o=t.filter(e?n=>n.indexOf(e)<0:n=>n.indexOf("__svelte")===-1),s=t.length-o.length;s&&(r.style.animation=o.join(", "),Ys-=s,Ys||Tu())}function Tu(){go(()=>{Ys||(Xs.forEach(r=>{let{ownerNode:e}=r.stylesheet;e&&v(e)}),Xs.clear())})}var wt;function dt(r){wt=r}function tr(){if(!wt)throw new Error("Function called outside component initialization");return wt}function tt(r){tr().$$.on_mount.push(r)}function jr(r){tr().$$.after_update.push(r)}function Zr(){let r=tr();return(e,t,{cancelable:o=!1}={})=>{let s=r.$$.callbacks[e];if(s){let n=bo(e,t,{cancelable:o});return s.slice().forEach(i=>{i.call(r,n)}),!n.defaultPrevented}return!0}}function Nc(r,e){let t=r.$$.callbacks[e.type];t&&t.slice().forEach(o=>o.call(this,e))}var Bt=[];var ot=[],jt=[],Kr=[],Iu=Promise.resolve(),Xr=!1;function Dc(){Xr||(Xr=!0,Iu.then(St))}function yt(r){jt.push(r)}function Fc(r){Kr.push(r)}var Vr=new Set,Gt=0;function St(){if(Gt!==0)return;let r=wt;do{try{for(;Gt<Bt.length;){let e=Bt[Gt];Gt++,dt(e),Pu(e.$$)}}catch(e){throw Bt.length=0,Gt=0,e}for(dt(null),Bt.length=0,Gt=0;ot.length;)ot.pop()();for(let e=0;e<jt.length;e+=1){let t=jt[e];Vr.has(t)||(Vr.add(t),t())}jt.length=0}while(Bt.length);for(;Kr.length;)Kr.pop()();Xr=!1,Vr.clear(),dt(r)}function Pu(r){if(r.fragment!==null){r.update(),we(r.before_update);let e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(yt)}}function Ec(r){let e=[],t=[];jt.forEach(o=>r.indexOf(o)===-1?e.push(o):t.push(o)),t.forEach(o=>o()),jt=e}var xo;function Mu(){return xo||(xo=Promise.resolve(),xo.then(()=>{xo=null})),xo}function Yr(r,e,t){r.dispatchEvent(bo(`${e?"intro":"outro"}${t}`))}var or=new Set,ft;function Ue(){ft={r:0,c:[],p:ft}}function Te(){ft.r||we(ft.c),ft=ft.p}function $(r,e){r&&r.i&&(or.delete(r),r.i(e))}function O(r,e,t,o){if(r&&r.o){if(or.has(r))return;or.add(r),ft.c.push(()=>{or.delete(r),o&&(t&&r.d(1),o())}),r.o(e)}else o&&o()}var Ru={duration:0};function en(r,e,t,o){let n=e(r,t,{direction:"both"}),i=o?0:1,a=null,c=null,l=null,p;function _(){l&&Gr(r,l)}function u(g,E){let L=g.b-i;return E*=Math.abs(L),{a:i,b:g.b,d:L,duration:E,start:g.start,end:g.start+E,group:g.group}}function x(g){let{delay:E=0,duration:L=300,easing:A=zt,tick:Q=I,css:D}=n||Ru,S={start:Hr()+E,b:g};g||(S.group=ft,ft.r+=1),"inert"in r&&(g?p!==void 0&&(r.inert=p):(p=r.inert,r.inert=!0)),a||c?c=S:(D&&(_(),l=er(r,i,g,L,E,A,D)),g&&Q(0,1),a=u(S,L),yt(()=>Yr(r,g,"start")),zr(k=>{if(c&&k>c.start&&(a=u(c,L),c=null,Yr(r,a.b,"start"),D&&(_(),l=er(r,i,a.b,a.duration,0,A,n.css))),a){if(k>=a.end)Q(i=a.b,1-i),Yr(r,a.b,"end"),c||(a.b?_():--a.group.r||we(a.group.c)),a=null;else if(k>=a.start){let N=k-a.start;i=a.a+a.d*A(N/a.duration),Q(i,1-i)}}return!!(a||c)}))}return{run(g){Ct(n)?Mu().then(()=>{n=n({direction:g?"in":"out"}),x(g)}):x(g)},end(){_(),a=c=null}}}function be(r){return r?.length!==void 0?r:Array.from(r)}function Cc(r,e){r.d(1),e.delete(r.key)}function Ac(r,e,t,o,s,n,i,a,c,l,p,_){let u=r.length,x=n.length,g=u,E={};for(;g--;)E[r[g].key]=g;let L=[],A=new Map,Q=new Map,D=[];for(g=x;g--;){let U=_(s,n,g),F=t(U),z=i.get(F);z?o&&D.push(()=>z.p(U,e)):(z=l(F,U),z.c()),A.set(F,L[g]=z),F in E&&Q.set(F,Math.abs(g-E[F]))}let S=new Set,k=new Set;function N(U){$(U,1),U.m(a,p),i.set(U.key,U),p=U.first,x--}for(;u&&x;){let U=L[x-1],F=r[u-1],z=U.key,X=F.key;U===F?(p=U.first,u--,x--):A.has(X)?!i.has(z)||S.has(z)?N(U):k.has(X)?u--:Q.get(z)>Q.get(X)?(k.add(z),N(U)):(S.add(X),u--):(c(F,i),u--)}for(;u--;){let U=r[u];A.has(U.key)||c(U,i)}for(;x;)N(L[x-1]);return we(D),L}var $u=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],Ou=new Set([...$u]);function Bc(r,e,t){let o=r.$$.props[e];o!==void 0&&(r.$$.bound[o]=t,t(r.$$.ctx[o]))}function ce(r){r&&r.c()}function ae(r,e,t){let{fragment:o,after_update:s}=r.$$;o&&o.m(e,t),yt(()=>{let n=r.$$.on_mount.map(qr).filter(Ct);r.$$.on_destroy?r.$$.on_destroy.push(...n):we(n),r.$$.on_mount=[]}),s.forEach(yt)}function le(r,e){let t=r.$$;t.fragment!==null&&(Ec(t.after_update),we(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function qu(r,e){r.$$.dirty[0]===-1&&(Bt.push(r),Dc(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function Z(r,e,t,o,s,n,i=null,a=[-1]){let c=wt;dt(r);let l=r.$$={fragment:null,ctx:[],props:n,update:I,not_equal:s,bound:zs(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:zs(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};i&&i(l.root);let p=!1;if(l.ctx=t?t(r,e.props||{},(_,u,...x)=>{let g=x.length?x[0]:u;return l.ctx&&s(l.ctx[_],l.ctx[_]=g)&&(!l.skip_bound&&l.bound[_]&&l.bound[_](g),p&&qu(r,_)),u}):[],l.update(),p=!0,we(l.before_update),l.fragment=o?o(l.ctx):!1,e.target){if(e.hydrate){wc();let _=kc(e.target);l.fragment&&l.fragment.l(_),_.forEach(v)}else l.fragment&&l.fragment.c();e.intro&&$(r.$$.fragment),ae(r,e.target,e.anchor),yc(),St()}dt(c)}var Hu;typeof HTMLElement=="function"&&(Hu=class extends HTMLElement{$$ctor;$$s;$$c;$$cn=!1;$$d={};$$r=!1;$$p_d={};$$l={};$$l_u=new Map;constructor(r,e,t){super(),this.$$ctor=r,this.$$s=e,t&&this.attachShadow({mode:"open"})}addEventListener(r,e,t){if(this.$$l[r]=this.$$l[r]||[],this.$$l[r].push(e),this.$$c){let o=this.$$c.$on(r,e);this.$$l_u.set(e,o)}super.addEventListener(r,e,t)}removeEventListener(r,e,t){if(super.removeEventListener(r,e,t),this.$$c){let o=this.$$l_u.get(e);o&&(o(),this.$$l_u.delete(e))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let r=function(s){return()=>{let n;return{c:function(){n=b("slot"),s!=="default"&&m(n,"name",s)},m:function(c,l){w(c,n,l)},d:function(c){c&&v(n)}}}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let e={},t=Lc(this);for(let s of this.$$s)s in t&&(e[s]=[r(s)]);for(let s of this.attributes){let n=this.$$g_p(s.name);n in this.$$d||(this.$$d[n]=tn(n,s.value,this.$$p_d,"toProp"))}for(let s in this.$$p_d)!(s in this.$$d)&&this[s]!==void 0&&(this.$$d[s]=this[s],delete this[s]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:e,$$scope:{ctx:[]}}});let o=()=>{this.$$r=!0;for(let s in this.$$p_d)if(this.$$d[s]=this.$$c.$$.ctx[this.$$c.$$.props[s]],this.$$p_d[s].reflect){let n=tn(s,this.$$d[s],this.$$p_d,"toAttribute");n==null?this.removeAttribute(this.$$p_d[s].attribute||s):this.setAttribute(this.$$p_d[s].attribute||s,n)}this.$$r=!1};this.$$c.$$.after_update.push(o),o();for(let s in this.$$l)for(let n of this.$$l[s]){let i=this.$$c.$on(s,n);this.$$l_u.set(n,i)}this.$$l={}}}attributeChangedCallback(r,e,t){this.$$r||(r=this.$$g_p(r),this.$$d[r]=tn(r,t,this.$$p_d,"toProp"),this.$$c?.$set({[r]:this.$$d[r]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{this.$$cn||(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(r){return Object.keys(this.$$p_d).find(e=>this.$$p_d[e].attribute===r||!this.$$p_d[e].attribute&&e.toLowerCase()===r)||r}});function tn(r,e,t,o){let s=t[r]?.type;if(e=s==="Boolean"&&typeof e!="boolean"?e!=null:e,!o||!t[r])return e;if(o==="toAttribute")switch(s){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e??null;default:return e}else switch(s){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}var J=class{$$=void 0;$$set=void 0;$destroy(){le(this,1),this.$destroy=I}$on(e,t){if(!Ct(t))return I;let o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(t),()=>{let s=o.indexOf(t);s!==-1&&o.splice(s,1)}}$set(e){this.$$set&&!gc(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var Uc="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Uc);var{Map:zu}=ho;function Tc(r,e,t){let o=r.slice();o[12]=e[t][0],o[13]=e[t][1];let s=o[13][0];o[14]=s;let n=o[13][1];return o[15]=n,o}function Ic(r,e){let t,o,s,n,i=e[14]+"",a,c,l,p;function _(){return e[7](e[12])}return{key:r,first:null,c(){t=b("div"),o=b("div"),s=C(),n=b("div"),a=T(i),c=C(),m(o,"class","home_viewsettings_checkbox svelte-1xzkesz"),te(o,"checked",e[15]),m(n,"class","home_viewsettings_label svelte-1xzkesz"),m(t,"class","home_viewsettings_checkboxrow ellipsis svelte-1xzkesz"),this.first=t},m(u,x){w(u,t,x),d(t,o),d(t,s),d(t,n),d(n,a),d(t,c),l||(p=ye(t,"click",_),l=!0)},p(u,x){e=u,x&1&&te(o,"checked",e[15]),x&1&&i!==(i=e[14]+"")&&V(a,i)},d(u){u&&v(t),l=!1,p()}}}function Ju(r){let e,t,o=f(ol)+"",s,n,i,a,c,l,p,_,u=[],x=new zu,g,E,L=be(r[0].entries()),A=Q=>Q[12];for(let Q=0;Q<L.length;Q+=1){let D=Tc(r,L,Q),S=A(D);x.set(S,u[Q]=Ic(S,D))}return{c(){e=b("div"),t=b("div"),s=T(o),n=C(),i=b("img"),c=C(),l=b("div"),p=b("div"),p.textContent=`${f(ea)}`,_=C();for(let Q=0;Q<u.length;Q+=1)u[Q].c();Ve(i.src,a="//store.cloudflare.steamstatic.com/public/images/v6/btn_arrow_down_padded_white.png")||m(i,"src",a),m(i,"alt",""),m(i,"class","svelte-1xzkesz"),m(t,"class","es_customize_title svelte-1xzkesz"),m(p,"class","home_viewsettings_instructions svelte-1xzkesz"),m(l,"class","home_viewsettings_popup svelte-1xzkesz"),m(e,"class","store_header_btn_gray store_header_btn svelte-1xzkesz"),m(e,"id","es_customize_btn"),te(e,"active",r[1])},m(Q,D){w(Q,e,D),d(e,t),d(t,s),d(t,n),d(t,i),d(e,c),d(e,l),d(l,p),d(l,_);for(let S=0;S<u.length;S+=1)u[S]&&u[S].m(l,null);g||(E=[ye(l,"click",Qc(r[6])),ye(e,"click",r[8]),ye(e,"mouseleave",r[9])],g=!0)},p(Q,[D]){D&5&&(L=be(Q[0].entries()),u=Ac(u,D,A,1,Q,L,x,l,Cc,Ic,null,Tc)),D&2&&te(e,"active",Q[1])},i:I,o:I,d(Q){Q&&v(e);for(let D=0;D<u.length;D+=1)u[D].d();g=!1,we(E)}}}function Pc(r){let e=r.querySelector("h1, h2, .home_title, .home_section_title");if(!e)return"";let t="";for(let o of e.childNodes)o.nodeType===Node.TEXT_NODE&&(t+=o.textContent.trim());return t.toLowerCase()}function Gu(r,e,t){let{type:o}=e,{setup:s=[]}=e,{dynamicSelector:n=void 0}=e,i=new Map,a=!1;function c(g){let E=i.get(g),L=!E[1];E[1]=L,i.set(g,E);for(let A of document.querySelectorAll(`[data-as-customizer='${g}']`))A.classList.toggle("esi-shown",L),A.classList.toggle("esi-hidden",!L);o==="app"?(h.customize_apppage[g]=L,h.customize_apppage=h.customize_apppage):o==="frontpage"&&(h.customize_frontpage[g]=L,h.customize_frontpage=h.customize_frontpage),t(0,i)}function l(g){let E=o==="app"?h.customize_apppage:h.customize_frontpage;for(let[L,A,Q,D]of g){if(!A)continue;let S=E[L]??!0,k=typeof A=="string"?[...document.querySelectorAll(A)]:[A];for(let N of k)getComputedStyle(N).display==="none"&&!D||(typeof Q!="string"||Q==="")&&(Q=Pc(N),Q==="")||(N.classList.toggle("esi-shown",S),N.classList.toggle("esi-hidden",!S),N.dataset.asCustomizer=L);Q&&i.set(L,[Q,S])}t(0,i)}tt(()=>{if(l(s),n){let g=[];for(let E of document.querySelectorAll(n)){if(E.closest("[data-as-customizer]")||E.querySelector("[data-as-customizer]")||E.style.display==="none")continue;let L=Pc(E);if(L==="")return;g.push([`dynamic_${L}`,E])}}});function p(g){Nc.call(this,r,g)}let _=g=>c(g),u=()=>t(1,a=!a),x=()=>t(1,a=!1);return r.$$set=g=>{"type"in g&&t(3,o=g.type),"setup"in g&&t(4,s=g.setup),"dynamicSelector"in g&&t(5,n=g.dynamicSelector)},[i,a,c,o,s,n,p,_,u,x]}var on=class extends J{constructor(e){super(),Z(this,e,Gu,Ju,fc,{type:3,setup:4,dynamicSelector:5})}},sn=on;var vo=class extends B{apply(){let e=document.querySelector("#cart_status_data");if(!e)return;let t=e.firstElementChild??void 0;this.context.type===Oe.APP?new sn({target:e,anchor:t,props:{type:"app",setup:this.getAppPageSetup()}}):this.context.type===Oe.STORE_FRONT&&(document.addEventListener("renderComplete",()=>{new sn({target:e,anchor:t,props:{type:"frontpage",setup:this.getFrontPageSetup(),dynamicSelector:".home_page_body_ctn .home_ctn:not(.esi-customizer), .home_pagecontent_ctn"}})}),Y.insertScript("scriptlets/Store/Common/storeFrontCustomizer.js"))}getAppPageSetup(){function e(t){let o=document.querySelector(t);return o&&o.closest(".game_page_autocollapse_ctn")}return[["franchisenotice",".franchise_notice",f(Ta)],["eaheader",".early_access_header:not(.es_coupon_info)",f(Ea)],["eabanner",".early_access_banner",f(Ca)],["recentupdates","[data-featuretarget=events-row]",f(Fa)],["reviews","#game_area_reviews"],["about",e("#game_area_description")],["contentwarning",e("#game_area_content_descriptors")],["sysreq",e(".sys_req")],["legal",e("#game_area_legal"),f(Ua)],["moredlcfrombasegame","#moredlcfrombasegame_block"],["franchise","#franchise_block",f(Ia)],["morelikethis","#recommended_block"],["recommendedbycurators",".steam_curators_block"],["customerreviews","#app_reviews_hash"],["workshop",e("[href^='https://steamcommunity.com/workshop/browse']"),f(Aa)],["greenlight",e("[href^='https://steamcommunity.com/greenlight']"),f(Ba)]]}getFrontPageSetup(){function e(t){let o=document.querySelector(t);return o&&o.closest(".home_ctn")}return[["featuredrecommended",".home_cluster_ctn"],["trendingamongfriends",".friends_recently_purchased","",!0],["discoveryqueue",".discovery_queue_ctn"],["curators",".steam_curators_ctn",f(Lr)],["morecuratorrecommendations",".apps_recommended_by_curators_ctn",f(Lr)],["fromdevelopersandpublishersthatyouknow",".recommended_creators_ctn"],["popularvrgames",".best_selling_vr_ctn"],["homepagetabs",".tab_container",f(sa)],["gamesstreamingnow",".live_streams_ctn","",!0],["updatesandoffers",".marketingmessage_area","",!0],["topnewreleases",".top_new_releases",f(ka)],["homepagesidebar","body:not(.no_home_gutter) .home_page_gutter",f(La)],["specialoffers",e(".special_offers")],["browsesteam",e(".big_buttons.home_page_content")],["recentlyupdated",e(".recently_updated_block")],["under",e("[class*='specials_under']")]]}};function ju(r){let e,t,o;return{c(){e=b("div"),t=b("span"),o=T(r[0]),m(t,"class","svelte-1iirt72"),m(e,"class","drm_warning svelte-1iirt72")},m(s,n){w(s,e,n),d(e,t),d(t,o)},p(s,[n]){n&1&&V(o,s[0])},i:I,o:I,d(s){s&&v(e)}}}function Zu(r,e,t){let{drmString:o}=e;return r.$$set=s=>{"drmString"in s&&t(0,o=s.drmString)},[o]}var rn=class extends J{constructor(e){super(),Z(this,e,Zu,ju,K,{drmString:0})}},Mc=rn;var wo=class extends B{constructor(){super(...arguments);this.excludedAppids=[21690]}checkPrerequisites(){return h.showdrm&&(!this.context.appid||!this.excludedAppids.includes(this.context.appid))}getTextFromDRMNotices(){let t=[];for(let o of document.querySelectorAll(".DRM_notice")){if(o.querySelector("a[onclick^=ShowEULA]"))continue;let s="";for(let n of o.childNodes)n.nodeType===Node.TEXT_NODE?s+=n.textContent.trim():n.nodeName==="BR"&&(s+=", ");t.push(s)}return t}getTextFromGameDetails(){let t="",o=document.querySelector(".language_list");if(!o)return"";for(o=o.nextSibling;o!==null;)t+=o.textContent,o=o.nextSibling;return t}apply(){let t=this.context.type===Oe.APP,o="";for(let l of document.querySelectorAll(".game_area_sys_req, #game_area_legal"))o+=l.textContent;let s=[],n="";t?(s=this.getTextFromDRMNotices(),o+=s.join("")):(n=this.getTextFromGameDetails(),o+=n),o=o.toLowerCase();let a=[{name:"Games for Windows Live",enabled:o.includes("games for windows live")||o.includes("games for windows - live")||o.includes("online play requires log-in to games for windows")||o.includes("installation of the games for windows live software")||o.includes("multiplayer play and other live features included at no charge")||o.includes("www.gamesforwindows.com/live")},{name:"Ubisoft Connect",enabled:o.includes("uplay")||o.includes("ubisoft account")||o.includes("ubisoft connect")},{name:"SecuROM",enabled:o.includes("securom")},{name:"Tages",enabled:/\b(tages|solidshield)\b/.test(o)&&!/angebote des tages/.test(o)},{name:"Stardock Account required",enabled:o.includes("stardock account")},{name:"Rockstar Social Club",enabled:o.includes("rockstar social club")||o.includes("rockstar games social club")},{name:"Kalypso Launcher",enabled:o.includes("requires a kalypso account")},{name:"Denuvo Anti-Tamper",enabled:o.includes("denuvo")},{name:"EA app (Origin)",enabled:o.includes("origin client")||o.includes("ea account")||o.includes("ea app")},{name:"Microsoft Xbox Live",enabled:o.includes("xbox live")}].flatMap(({name:l,enabled:p})=>p?[l]:[]),c;if(a.length>0)c=f(t?na:tl,{drmlist:`(${a.join(", ")})`});else{let l=/\b(drm|account|steam)\b/i;t?c=s.find(p=>l.test(p)):l.test(n)&&(c=n)}if(c){let l=document.querySelector("#game_area_purchase, #game_area_purchase_top");if(!l)throw new Error("Node not found");new Mc({target:l,anchor:l.firstElementChild,props:{drmString:c}})}}};var st=class{static getVariable(e,t){if(typeof e=="string"){let o=e.match(t);return o&&o[1]?o[1]:null}for(let o of e.querySelectorAll("script"))if(o.textContent){let s=o.textContent.match(t);if(s)return s&&s[1]?s[1]:null}return null}static getStringVariable(e,t=document){let o=typeof e=="string"?new RegExp(`${e}\\s*=\\s*['"](.+?)['"];`):e;return this.getVariable(t,o)}static getIntVariable(e,t=document){let o=typeof e=="string"?new RegExp(`${e}\\s*=\\s*(.+?);`):e,s=this.getVariable(t,o);return s?Number(s):null}static getArrayVariable(e,t=document){let o=typeof e=="string"?new RegExp(`${e}\\s*=\\s*(\\[.+?]);`):e,s=this.getVariable(t,o);return s?JSON.parse(s):null}static getObjectVariable(e,t=document){let o=typeof e=="string"?new RegExp(`${e}\\s*=\\s*(\\{.+?});`):e,s=this.getVariable(t,o);return s?JSON.parse(s):null}};var nn=[{id:1,abbr:"USD",symbol:"$",hint:"United States Dollars",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"$",thousand:",",decimal:".",right:!1}},{id:2,abbr:"GBP",symbol:"\xA3",hint:"British Pound",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"\xA3",thousand:",",decimal:".",right:!1}},{id:3,abbr:"EUR",symbol:"\u20AC",hint:"European Union Euro",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"\u20AC",thousand:" ",decimal:",",right:!0}},{id:4,abbr:"CHF",symbol:"CHF",hint:"Swiss Francs",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"CHF ",thousand:"'",decimal:".",right:!1}},{id:5,abbr:"RUB",symbol:"p\u0443\u0431",hint:"Russian Rouble",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!0,symbolFormat:" p\u0443\u0431.",thousand:"",decimal:",",right:!0}},{id:6,abbr:"PLN",symbol:"z\u0142",hint:"Polish Z\u0142oty",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:" z\u0142",thousand:" ",decimal:",",right:!0}},{id:7,abbr:"BRL",symbol:"R$",hint:"Brazilian Reals",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"R$ ",thousand:".",decimal:",",right:!1}},{id:8,abbr:"JPY",symbol:"\xA5",hint:"Japanese Yen",multiplier:100,unit:100,format:{places:0,hidePlacesWhenZero:!1,symbolFormat:"\xA5 ",thousand:" ",group:4,decimal:".",right:!1}},{id:9,abbr:"NOK",symbol:"kr",hint:"Norwegian Krone",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:" kr",thousand:".",decimal:",",right:!0}},{id:10,abbr:"IDR",symbol:"Rp",hint:"Indonesian Rupiah",multiplier:100,unit:100,format:{places:0,hidePlacesWhenZero:!1,symbolFormat:"Rp ",thousand:" ",decimal:".",right:!1}},{id:11,abbr:"MYR",symbol:"RM",hint:"Malaysian Ringgit",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"RM",thousand:",",decimal:".",right:!1}},{id:12,abbr:"PHP",symbol:"P",hint:"Philippine Pes",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"P",thousand:",",decimal:".",right:!1}},{id:13,abbr:"SGD",symbol:"S$",hint:"Singapore Dollar",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"S$",thousand:",",decimal:".",right:!1}},{id:14,abbr:"THB",symbol:"\u0E3F",hint:"Thai Baht",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"\u0E3F",thousand:",",decimal:".",right:!1}},{id:15,abbr:"VND",symbol:"\u20AB",hint:"Vietnamese Dong",multiplier:100,unit:5e4,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"\u20AB",thousand:",",decimal:".",right:!1}},{id:16,abbr:"KRW",symbol:"\u20A9",hint:"South Korean Won",multiplier:100,unit:1e3,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"\u20A9",thousand:",",decimal:".",right:!1}},{id:17,abbr:"TRY",symbol:"TL",hint:"Turkish Lira",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:" TL",thousand:"",decimal:",",right:!0}},{id:18,abbr:"UAH",symbol:"\u20B4",hint:"Ukrainian Hryvnia",multiplier:100,unit:100,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"\u20B4",thousand:"",decimal:",",right:!0}},{id:19,abbr:"MXN",symbol:"Mex$",hint:"Mexican Peso",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"Mex$ ",thousand:",",decimal:".",right:!1}},{id:20,abbr:"CAD",symbol:"CDN$",hint:"Canadian Dollars",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"CDN$ ",thousand:",",decimal:".",right:!1}},{id:21,abbr:"AUD",symbol:"A$",hint:"Australian Dollars",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"A$ ",thousand:",",decimal:".",right:!1}},{id:22,abbr:"NZD",symbol:"NZ$",hint:"New Zealand Dollar",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"NZ$ ",thousand:",",decimal:".",right:!1}},{id:23,abbr:"CNY",symbol:null,hint:"Chinese Renminbi (yuan)",multiplier:100,unit:100,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"\xA5 ",thousand:",",decimal:".",right:!1}},{id:24,abbr:"INR",symbol:"\u20B9",hint:"Indian Rupee",multiplier:100,unit:100,format:{places:0,hidePlacesWhenZero:!1,symbolFormat:"\u20B9 ",thousand:",",decimal:".",right:!1}},{id:25,abbr:"CLP",symbol:"CLP$",hint:"Chilean Peso",multiplier:100,unit:100,format:{places:0,hidePlacesWhenZero:!0,symbolFormat:"CLP$ ",thousand:".",decimal:",",right:!1}},{id:26,abbr:"PEN",symbol:"S/.",hint:"Peruvian Nuevo Sol",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"S/.",thousand:",",decimal:".",right:!1}},{id:27,abbr:"COP",symbol:"COL$",hint:"Colombian Peso",multiplier:100,unit:100,format:{places:0,hidePlacesWhenZero:!0,symbolFormat:"COL$ ",thousand:".",decimal:",",right:!1}},{id:28,abbr:"ZAR",symbol:"R ",hint:"South African Rand",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"R ",thousand:" ",decimal:".",right:!1}},{id:29,abbr:"HKD",symbol:"HK$",hint:"Hong Kong Dollar",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"HK$ ",thousand:",",decimal:".",right:!1}},{id:30,abbr:"TWD",symbol:"NT$",hint:"New Taiwan Dollar",multiplier:100,unit:100,format:{places:0,hidePlacesWhenZero:!1,symbolFormat:"NT$ ",thousand:",",decimal:".",right:!1}},{id:31,abbr:"SAR",symbol:"SR",hint:"Saudi Riyal",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:" SR",thousand:",",decimal:".",right:!0}},{id:32,abbr:"AED",symbol:"DH",hint:"United Arab Emirates Dirham",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:" DH",thousand:",",decimal:".",right:!0}},{id:34,abbr:"ARS",symbol:"ARS$",hint:"Argentine Peso",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"ARS$ ",thousand:".",decimal:",",right:!1}},{id:35,abbr:"ILS",symbol:"\u20AA",hint:"Israeli New Shekel",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"\u20AA",thousand:",",decimal:".",right:!1}},{id:37,abbr:"KZT",symbol:"\u20B8",hint:"Kazakhstani Tenge",multiplier:100,unit:100,format:{places:2,hidePlacesWhenZero:!0,symbolFormat:"\u20B8 ",thousand:" ",decimal:".",right:!1}},{id:38,abbr:"KWD",symbol:"KD",hint:"Kuwaiti Dinar",multiplier:100,unit:1,format:{places:3,hidePlacesWhenZero:!1,symbolFormat:" KD",thousand:",",decimal:".",right:!0}},{id:39,abbr:"QAR",symbol:"QR",hint:"Qatari Riyal",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:" QR",thousand:",",decimal:".",right:!0}},{id:40,abbr:"CRC",symbol:"\u20A1",hint:"Costa Rican Col\xF3n",multiplier:100,unit:500,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"\u20A1",thousand:".",decimal:",",right:!1}},{id:41,abbr:"UYU",symbol:"$U",hint:"Uruguayan Peso",multiplier:100,unit:100,format:{places:0,hidePlacesWhenZero:!0,symbolFormat:"$U",thousand:",",decimal:".",right:!1}}];var He=class{static fetchPrices(e,t,o,s,n,i){return W.send("prices",{country:e,apps:t,subs:o,bundles:s,voucher:n,shops:i})}static fetchDlcInfo(e){return W.send("dlcinfo",{appid:e})}static getStorePageData(e){return W.send("storepagedata",{appid:e})}static expireStorePageData(e){return W.send("storepagedata.expiry",{appid:e})}static getRates(e){return W.send("rates",{to:e})}static clearRates(){return W.send("clearrates")}static isEarlyAccess(e){return W.send("isea",{appids:e})}static fetchProfileBackground(e){return W.send("profile.background",{appid:e})}static fetchProfileBackgroundGames(){return W.send("profile.background.games")}static fetchTwitchStream(e){return W.send("twitch.stream",{channelId:e})}static fetchMarketCardPrices(e,t){return W.send("market.cardprices",{currency:e,appid:t})}static fetchMarketCardAveragePrices(e,t){return W.send("market.averagecardprices",{currency:e,appids:t})}static fetchSteamPeek(e){return W.send("steampeek",{appid:e})}static async getProfileData(e){return W.send("profile",{steamId:e})}static clearOwn(e){return W.send("clearownprofile",{steamId:e})}};var ve=class{static{this._defaultCurrency="USD"}static get storeCurrency(){return this.storeCurrencyCode}static get customCurrency(){return this.customCurrencyCode}static getRate(e,t){return e===t?1:this._rates?.[e]?.[t]??null}static getCurrencyInfo(e){for(let t of nn)if(t.abbr===e)return t;throw new Error("Unknown currency")}static currencyIdToCode(e){for(let t of nn)if(t.id===e)return t.abbr;throw new Error("Unknown currency")}static _getCurrencyCodeFromDom(){let e=document.querySelector("meta[itemprop=priceCurrency][content]");return e?e.getAttribute("content"):null}static _getCurrencyCodeFromWallet(){let e=st.getObjectVariable("g_rgWalletInfo");return e&&e.wallet_currency?this.currencyIdToCode(e.wallet_currency):null}static async _getStoreCurrency(){let e=this._getCurrencyCodeFromDom()??this._getCurrencyCodeFromWallet();if(e)return e;try{return await Be.getCurrency()}catch(t){console.error(t)}return"USD"}static async _loadCurrency(){let e=h.override_price;this.storeCurrencyCode=await this._getStoreCurrency(),this.customCurrencyCode=e==="auto"?this.storeCurrencyCode:e}static async _loadRates(){let e=[this.storeCurrencyCode];this.customCurrencyCode!==this.storeCurrencyCode&&e.push(this.customCurrencyCode),this._rates=await He.getRates(e)}static init(){return this.promise||(this.promise=(async()=>{try{await this._loadCurrency(),await this._loadRates()}catch(e){console.error("Failed to initialize Currency"),console.error(e)}})()),this.promise}};var De=class r{static parseFromString(e,t=ve.storeCurrency){let s=ve.getCurrencyInfo(t).format,n=e.trim().replace(s.thousand,"");s.decimal!=="."&&(n=n.replace(s.decimal,".")),n=n.replace(/[^\d.]/g,"");let i=parseFloat(n);return Number.isNaN(i)?null:new r(i,t)}constructor(e=0,t=ve.storeCurrency){this.value=e,this.currency=t}inCurrency(e){if(this.currency===e)return this;let t=ve.getRate(this.currency,e);if(t===null)throw new Error(`Could not establish conversion rate between ${this.currency} and ${e}`);return new r(this.value*t,e)}formattedValue(){return this.stringify(!1)}toString(){return this.stringify()}stringify(e=!0){let o=ve.getCurrencyInfo(this.currency).format,s=this.value<0?"-":"",n=Math.abs(this.value).toFixed(o.places).split("."),i=n[0]??"",a=n[1]??"",c=o.group??3,l=[],p;for(p=i.length;p>c;p-=c)l.unshift(i.substring(p-c,p));l.unshift(i.substring(0,p));let _=[s,l.join(o.thousand)];return o.places>0&&(!o.hidePlacesWhenZero||parseInt(a)>0)&&(_.push(o.decimal),_.push(a)),e&&(o.right?_.push(o.symbolFormat):_.unshift(o.symbolFormat)),_.join("")}};function ke(r){h.openinnewtab&&(r.target="_blank",r.rel="noreferrer noopener")}function Rc(r,e,t){let o=r.slice();o[5]=e[t];let s=o[5].expiry?new Date(o[5].expiry):null;return o[6]=s,o}function $c(r,e,t){let o=r.slice();return o[10]=e[t],o[12]=t,o}function Oc(r,e,t){let o=r.slice();return o[13]=e[t],o[15]=t,o}function an(r){let e=r.slice(),t=e[3](e[5]);return e[9]=t,e}function Wc(r){let e,t,o,s=be(r[0]),n=[];for(let i=0;i<s.length;i+=1)n[i]=jc(Rc(r,s,i));return{c(){e=b("h2"),e.textContent=`${f(ul)}`,t=C();for(let i=0;i<n.length;i+=1)n[i].c();o=Pe(),m(e,"class","gradientbg es_external_icon")},m(i,a){w(i,e,a),w(i,t,a);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(i,a);w(i,o,a)},p(i,a){if(a&15){s=be(i[0]);let c;for(c=0;c<s.length;c+=1){let l=Rc(i,s,c);n[c]?n[c].p(l,a):(n[c]=jc(l),n[c].c(),n[c].m(o.parentNode,o))}for(;c<n.length;c+=1)n[c].d(1);n.length=s.length}},d(i){i&&(v(e),v(t),v(o)),Ke(n,i)}}}function qc(r){let e,t,o,s,n=f(Dr,{package:`${r[5].page.name} ${r[5].title}`})+"",i,a,c,l,p,_,u,x,g,E,L,A,Q,D,S,k,N,U,F,z,X,q,de,ee=r[6]&&Hc(r),Le=be(r[5].tiers),ge=[];for(let oe=0;oe<Le.length;oe+=1)ge[oe]=Jc($c(r,Le,oe));let ne=r[9]&&Gc(r);return{c(){e=b("div"),t=b("div"),o=C(),s=b("h1"),i=T(n),a=C(),ee&&ee.c(),c=C(),l=b("p");for(let oe=0;oe<ge.length;oe+=1)ge[oe].c();p=C(),_=b("div"),u=b("div"),x=b("div"),g=b("a"),E=b("span"),E.textContent=`${f(_l)}`,Q=C(),D=b("div"),ne&&ne.c(),S=C(),k=b("div"),N=b("a"),U=b("span"),U.textContent=`${f(Ha)}`,X=C(),m(t,"class","game_area_purchase_platform"),m(l,"class","package_contents"),m(g,"class","btn_blue_steamui btn_medium"),m(g,"href",L=r[5].details),m(x,"class","btn_addtocart btn_packageinfo"),m(u,"class","game_purchase_action_bg"),m(N,"class","btn_green_steamui btn_medium"),m(N,"href",F=r[5].url),m(k,"class","btn_addtocart"),m(D,"class","game_purchase_action_bg"),m(_,"class","game_purchase_action"),m(e,"class","game_area_purchase_game")},m(oe,Qe){w(oe,e,Qe),d(e,t),d(e,o),d(e,s),d(s,i),d(e,a),ee&&ee.m(e,null),d(e,c),d(e,l);for(let ue=0;ue<ge.length;ue+=1)ge[ue]&&ge[ue].m(l,null);d(e,p),d(e,_),d(_,u),d(u,x),d(x,g),d(g,E),d(_,Q),d(_,D),ne&&ne.m(D,null),d(D,S),d(D,k),d(k,N),d(N,U),d(e,X),q||(de=[Ne(A=ke.call(null,g)),Ne(z=ke.call(null,N))],q=!0)},p(oe,Qe){if(Qe&1&&n!==(n=f(Dr,{package:`${oe[5].page.name} ${oe[5].title}`})+"")&&V(i,n),oe[6]?ee?ee.p(oe,Qe):(ee=Hc(oe),ee.c(),ee.m(e,c)):ee&&(ee.d(1),ee=null),Qe&7){Le=be(oe[5].tiers);let ue;for(ue=0;ue<Le.length;ue+=1){let et=$c(oe,Le,ue);ge[ue]?ge[ue].p(et,Qe):(ge[ue]=Jc(et),ge[ue].c(),ge[ue].m(l,null))}for(;ue<ge.length;ue+=1)ge[ue].d(1);ge.length=Le.length}Qe&1&&L!==(L=oe[5].details)&&m(g,"href",L),oe[9]?ne?ne.p(oe,Qe):(ne=Gc(oe),ne.c(),ne.m(D,S)):ne&&(ne.d(1),ne=null),Qe&1&&F!==(F=oe[5].url)&&m(N,"href",F)},d(oe){oe&&v(e),ee&&ee.d(),Ke(ge,oe),ne&&ne.d(),q=!1,we(de)}}}function Hc(r){let e,t=f(pl)+"",o,s,n=r[6].toLocaleDateString()+"",i;return{c(){e=b("p"),o=T(t),s=C(),i=T(n),m(e,"class","game_purchase_discount_countdown")},m(a,c){w(a,e,c),d(e,o),d(e,s),d(e,i)},p(a,c){c&1&&n!==(n=a[6].toLocaleDateString()+"")&&V(i,n)},d(a){a&&v(e)}}}function Vu(r){let e=f(Cr,{num:r[10].games.length})+"",t,o;return{c(){t=T(e),o=T(":")},m(s,n){w(s,t,n),w(s,o,n)},p(s,n){n&1&&e!==(e=f(Cr,{num:s[10].games.length})+"")&&V(t,e)},d(s){s&&(v(t),v(o))}}}function Ku(r){let e=f(Ar,{tier:f(Br,{num:r[12]+1}),price:r[10].price?r[2](r[10].price).toString():"",num:r[10].games.length})+"",t,o;return{c(){t=T(e),o=T(":")},m(s,n){w(s,t,n),w(s,o,n)},p(s,n){n&1&&e!==(e=f(Ar,{tier:f(Br,{num:s[12]+1}),price:s[10].price?s[2](s[10].price).toString():"",num:s[10].games.length})+"")&&V(t,e)},d(s){s&&(v(t),v(o))}}}function Xu(r){let e;return{c(){e=T(",")},m(t,o){w(t,e,o)},d(t){t&&v(e)}}}function zc(r){let e,t,o=r[13].title+"",s,n=r[15]!==0&&Xu(r);return{c(){n&&n.c(),e=C(),t=b("span"),s=T(o),m(t,"class","svelte-1sqt0e0"),te(t,"highlight",r[1]===r[13].title)},m(i,a){n&&n.m(i,a),w(i,e,a),w(i,t,a),d(t,s)},p(i,a){a&1&&o!==(o=i[13].title+"")&&V(s,o),a&3&&te(t,"highlight",i[1]===i[13].title)},d(i){i&&(v(e),v(t)),n&&n.d(i)}}}function Jc(r){let e,t,o,s;function n(p,_){return p[5].tiers.length>1?Ku:Vu}let i=n(r,-1),a=i(r),c=be(r[10].games),l=[];for(let p=0;p<c.length;p+=1)l[p]=zc(Oc(r,c,p));return{c(){e=b("b"),a.c(),t=C();for(let p=0;p<l.length;p+=1)l[p].c();o=C(),s=b("br"),m(e,"class","as_bundle_tier_title")},m(p,_){w(p,e,_),a.m(e,null),w(p,t,_);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(p,_);w(p,o,_),w(p,s,_)},p(p,_){if(i===(i=n(p,_))&&a?a.p(p,_):(a.d(1),a=i(p),a&&(a.c(),a.m(e,null))),_&3){c=be(p[10].games);let u;for(u=0;u<c.length;u+=1){let x=Oc(p,c,u);l[u]?l[u].p(x,_):(l[u]=zc(x),l[u].c(),l[u].m(o.parentNode,o))}for(;u<l.length;u+=1)l[u].d(1);l.length=c.length}},d(p){p&&(v(e),v(t),v(o),v(s)),a.d(),Ke(l,p)}}}function Gc(r){let e,t=r[2](r[9]).toString()+"",o;return{c(){e=b("div"),o=T(t),m(e,"class","game_purchase_price price"),m(e,"itemprop","price")},m(s,n){w(s,e,n),d(e,o)},p(s,n){n&1&&t!==(t=s[2](s[9]).toString()+"")&&V(o,t)},d(s){s&&v(e)}}}function jc(r){let e=r[6]===null||r[6].valueOf()>Date.now(),t,o=e&&qc(an(r));return{c(){o&&o.c(),t=Pe()},m(s,n){o&&o.m(s,n),w(s,t,n)},p(s,n){n&1&&(e=s[6]===null||s[6].valueOf()>Date.now()),e?o?o.p(an(s),n):(o=qc(an(s)),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null)},d(s){s&&v(t),o&&o.d(s)}}}function Yu(r){let e=r[0].length>0&&r[0].some(r[4]),t,o=e&&Wc(r);return{c(){o&&o.c(),t=Pe()},m(s,n){o&&o.m(s,n),w(s,t,n)},p(s,[n]){n&1&&(e=s[0].length>0&&s[0].some(s[4])),e?o?o.p(s,n):(o=Wc(s),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null)},i:I,o:I,d(s){s&&v(t),o&&o.d(s)}}}function e_(r,e,t){let{data:o}=e;function s(c){let l=new De(c.amount,c.currency);try{l=l.inCurrency(ve.customCurrency)}catch{console.warn("Could not convert currency, using country currency")}return l}let n;function i(c){return c.tiers.find(l=>l.games.find(p=>p.title===n))?.price??null}tt(()=>{t(1,n=document.querySelector(".apphub_AppName")?.textContent??null)});let a=c=>!c.expiry||Date.parse(c.expiry)>Date.now();return r.$$set=c=>{"data"in c&&t(0,o=c.data)},[o,n,s,i,a]}var ln=class extends J{constructor(e){super(),Z(this,e,e_,Yu,K,{data:0})}},Zc=ln;function t_(r){let e,t,o;return{c(){e=T("("),t=T(r[1]),o=T(")")},m(s,n){w(s,e,n),w(s,t,n),w(s,o,n)},p:I,d(s){s&&(v(e),v(t),v(o))}}}function o_(r){let e,t,o,s=r[1]&&t_(r);return{c(){e=T(r[0]),t=C(),s&&s.c(),o=Pe()},m(n,i){w(n,e,i),w(n,t,i),s&&s.m(n,i),w(n,o,i)},p(n,[i]){n[1]&&s.p(n,i)},i:I,o:I,d(n){n&&(v(e),v(t),v(o)),s&&s.d(n)}}}function s_(r,e,t){let{price:o}=e;function s(a){let c=ve.customCurrency;if(a.currency!==c)try{return new De(a.amount,a.currency).inCurrency(c)}catch{console.warn(`Could not convert currency ${a.currency} to ${c}`)}return null}let n=new De(o.amount,o.currency).toString(),i=s(o)?.toString();return r.$$set=a=>{"price"in a&&t(2,o=a.price)},[n,i,o]}var cn=class extends J{constructor(e){super(),Z(this,e,s_,o_,K,{price:2})}},pn=cn;function Vc(r){let e,t=f(rl)+"",o,s,n,i,a,c,l,p,_,u,x,g=f(co,{store:M.escape(r[0].current.shop.name)})+"",E,L,A,Q,D,S;c=new pn({props:{price:r[0].current.price}});let k=r[0].current.cut>0&&Kc(r),N=r[0].current.voucher&&Xc(r),U=r[2].length>0&&Yc(r);return{c(){e=b("a"),o=T(t),i=C(),a=b("span"),ce(c.$$.fragment),l=C(),p=b("a"),k&&k.c(),_=C(),N&&N.c(),u=C(),x=new At(!1),E=C(),U&&U.c(),m(e,"href",s=r[0].urls.info),m(a,"class","itad-pricing__price svelte-boic17"),x.a=E,m(p,"href",L=r[0].current.url),m(p,"class","itad-pricing__main svelte-boic17")},m(F,z){w(F,e,z),d(e,o),w(F,i,z),w(F,a,z),ae(c,a,null),w(F,l,z),w(F,p,z),k&&k.m(p,null),d(p,_),N&&N.m(p,null),d(p,u),x.m(g,p),d(p,E),U&&U.m(p,null),Q=!0,D||(S=[Ne(n=ke.call(null,e)),Ne(A=ke.call(null,p))],D=!0)},p(F,z){(!Q||z&1&&s!==(s=F[0].urls.info))&&m(e,"href",s);let X={};z&1&&(X.price=F[0].current.price),c.$set(X),F[0].current.cut>0?k?k.p(F,z):(k=Kc(F),k.c(),k.m(p,_)):k&&(k.d(1),k=null),F[0].current.voucher?N?N.p(F,z):(N=Xc(F),N.c(),N.m(p,u)):N&&(N.d(1),N=null),(!Q||z&1)&&g!==(g=f(co,{store:M.escape(F[0].current.shop.name)})+"")&&x.p(g),F[2].length>0?U?U.p(F,z):(U=Yc(F),U.c(),U.m(p,null)):U&&(U.d(1),U=null),(!Q||z&1&&L!==(L=F[0].current.url))&&m(p,"href",L)},i(F){Q||($(c.$$.fragment,F),Q=!0)},o(F){O(c.$$.fragment,F),Q=!1},d(F){F&&(v(e),v(i),v(a),v(l),v(p)),le(c),k&&k.d(),N&&N.d(),U&&U.d(),D=!1,we(S)}}}function Kc(r){let e,t,o=r[0].current.cut+"",s,n;return{c(){e=b("span"),t=T("-"),s=T(o),n=T("%"),m(e,"class","itad-pricing__cut svelte-boic17")},m(i,a){w(i,e,a),d(e,t),d(e,s),d(e,n)},p(i,a){a&1&&o!==(o=i[0].current.cut+"")&&V(s,o)},d(i){i&&v(e)}}}function Xc(r){let e,t=f(Fr,{voucher:r[0].current.voucher})+"",o;return{c(){e=b("span"),o=T(t),m(e,"class","itad-pricing__voucher svelte-boic17")},m(s,n){w(s,e,n),d(e,o)},p(s,n){n&1&&t!==(t=f(Fr,{voucher:s[0].current.voucher})+"")&&V(o,t)},d(s){s&&v(e)}}}function Yc(r){let e,t,o=r[2].join(", ")+"",s,n;return{c(){e=b("span"),t=T("("),s=T(o),n=T(")"),m(e,"class","itad-pricing__drm svelte-boic17")},m(i,a){w(i,e,a),d(e,t),d(e,s),d(e,n)},p(i,a){a&4&&o!==(o=i[2].join(", ")+"")&&V(s,o)},d(i){i&&v(e)}}}function ep(r){let e,t=f(nl)+"",o,s,n,i,a,c,l,p,_,u,x=f(co,{store:M.escape(r[0].lowest.shop.name)})+"",g,E=new Date(r[0].lowest.timestamp).toLocaleDateString()+"",L,A,Q,D;c=new pn({props:{price:r[0].lowest.price}});let S=r[0].lowest.cut>0&&tp(r);return{c(){e=b("a"),o=T(t),i=C(),a=b("span"),ce(c.$$.fragment),l=C(),p=b("div"),S&&S.c(),_=C(),u=new At(!1),g=C(),L=T(E),m(e,"href",s=r[0].urls.history),m(a,"class","itad-pricing__price svelte-boic17"),u.a=g,m(p,"class","itad-pricing__main svelte-boic17")},m(k,N){w(k,e,N),d(e,o),w(k,i,N),w(k,a,N),ae(c,a,null),w(k,l,N),w(k,p,N),S&&S.m(p,null),d(p,_),u.m(x,p),d(p,g),d(p,L),A=!0,Q||(D=Ne(n=ke.call(null,e)),Q=!0)},p(k,N){(!A||N&1&&s!==(s=k[0].urls.history))&&m(e,"href",s);let U={};N&1&&(U.price=k[0].lowest.price),c.$set(U),k[0].lowest.cut>0?S?S.p(k,N):(S=tp(k),S.c(),S.m(p,_)):S&&(S.d(1),S=null),(!A||N&1)&&x!==(x=f(co,{store:M.escape(k[0].lowest.shop.name)})+"")&&u.p(x),(!A||N&1)&&E!==(E=new Date(k[0].lowest.timestamp).toLocaleDateString()+"")&&V(L,E)},i(k){A||($(c.$$.fragment,k),A=!0)},o(k){O(c.$$.fragment,k),A=!1},d(k){k&&(v(e),v(i),v(a),v(l),v(p)),le(c),S&&S.d(),Q=!1,D()}}}function tp(r){let e,t,o=r[0].lowest.cut+"",s,n;return{c(){e=b("span"),t=T("-"),s=T(o),n=T("%"),m(e,"class","itad-pricing__cut svelte-boic17")},m(i,a){w(i,e,a),d(e,t),d(e,s),d(e,n)},p(i,a){a&1&&o!==(o=i[0].lowest.cut+"")&&V(s,o)},d(i){i&&v(e)}}}function op(r){let e,t=f(il)+"",o,s,n,i,a,c=f(Er,{count:r[0].bundled})+"",l,p,_;return{c(){e=b("a"),o=T(t),i=C(),a=b("div"),l=T(c),m(e,"href",s=r[0].urls.info),m(a,"class","itad-pricing__bundled svelte-boic17")},m(u,x){w(u,e,x),d(e,o),w(u,i,x),w(u,a,x),d(a,l),p||(_=Ne(n=ke.call(null,e)),p=!0)},p(u,x){x&1&&s!==(s=u[0].urls.info)&&m(e,"href",s),x&1&&c!==(c=f(Er,{count:u[0].bundled})+"")&&V(l,c)},d(u){u&&(v(e),v(i),v(a)),p=!1,_()}}}function r_(r){let e,t,o,s,n=r[0].current&&Vc(r),i=r[0].lowest&&ep(r),a=r[0].bundled&&op(r);return{c(){e=b("div"),n&&n.c(),t=C(),i&&i.c(),o=C(),a&&a.c(),m(e,"class","itad-pricing svelte-boic17")},m(c,l){w(c,e,l),n&&n.m(e,null),d(e,t),i&&i.m(e,null),d(e,o),a&&a.m(e,null),r[5](e),s=!0},p(c,[l]){c[0].current?n?(n.p(c,l),l&1&&$(n,1)):(n=Vc(c),n.c(),$(n,1),n.m(e,t)):n&&(Ue(),O(n,1,1,()=>{n=null}),Te()),c[0].lowest?i?(i.p(c,l),l&1&&$(i,1)):(i=ep(c),i.c(),$(i,1),i.m(e,o)):i&&(Ue(),O(i,1,1,()=>{i=null}),Te()),c[0].bundled?a?a.p(c,l):(a=op(c),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(c){s||($(n),$(i),s=!0)},o(c){O(n),O(i),s=!1},d(c){c&&v(e),n&&n.d(),i&&i.d(),a&&a.d(),r[5](null)}}}function n_(r,e,t){let{data:o}=e,{setBottom:s=!1}=e,{height:n=void 0}=e,i,a;o.current&&(a=o.current.drm.filter(l=>l.id!==61).map(l=>l.name)),jr(()=>{s&&(t(3,n=Math.ceil(i.getBoundingClientRect().height)),t(1,i.style.bottom=`${-n}px`,i))});function c(l){ot[l?"unshift":"push"](()=>{i=l,t(1,i)})}return r.$$set=l=>{"data"in l&&t(0,o=l.data),"setBottom"in l&&t(4,s=l.setBottom),"height"in l&&t(3,n=l.height)},[o,i,a,n,s,c]}var un=class extends J{constructor(e){super(),Z(this,e,n_,r_,K,{data:0,setBottom:4,height:3})}get data(){return this.$$.ctx[0]}set data(e){this.$$set({data:e}),St()}get setBottom(){return this.$$.ctx[4]}set setBottom(e){this.$$set({setBottom:e}),St()}get height(){return this.$$.ctx[3]}set height(e){this.$$set({height:e}),St()}},sp=un;var me=class{static getStoreList(){return W.send("itad.storelist")}static authorize(){return W.send("itad.authorize")}static disconnect(){return W.send("itad.disconnect")}static isConnected(){return W.send("itad.isconnected")}static sync(e=!1){return W.send("itad.sync",{force:e})}static getLastImport(){return W.send("itad.lastimport")}static async inWaitlist(e){return W.send("itad.inwaitlist",{storeIds:e})}static async addToWaitlist(...e){return W.send("itad.addtowaitlist",{appids:e})}static async removeFromWaitlist(...e){return W.send("itad.removefromwaitlist",{appids:e})}static async inCollection(e){return W.send("itad.incollection",{storeIds:e})}static async getFromCollection(e){return W.send("itad.getfromcollection",{storeId:e})}static async pullNotes(){return W.send("itad.notes.pull")}static async pushNotes(e){return W.send("itad.notes.push",{notes:e})}static async pushNote(e,t){return W.send("itad.notes.push",{notes:[[e,t]]})}static async deleteNote(e){return W.send("itad.notes.delete",{appids:[e]})}};var Ut=class{static escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}static clearSpecialSymbols(e){return e.replace(/[\u00AE\u00A9\u2122]/g,"")}static levenshtein(e,t){let o=e.length,s=t.length;if(o===0)return s;if(s===0)return o;let n,i,a,c,l,p,_,u,x,g,E;for(o>s&&(n=e,e=t,t=n),p=new Int8Array(o+1),i=0;i<=o;i++)p[i]=i;for(i=1;i<=s;i++){for(c=i,E=t[i-1],a=1;a<=o;a++)E===e[a-1]?l=p[a-1]:(_=c+1,u=p[a]+1,x=_-(_-u&u-_>>7),g=p[a-1]+1,l=x-(x-g&g-x>>7)),p[a-1]=c,c=l;p[o]=c}return p[o]}};var lt=class{static fetchBadgeInfo(e,t){return W.send("community.badgeinfo",{steamId:e,appid:t})}static getWorkshopFileSize(e,t){return W.send("community.workshopFileSize",{id:e,preventFetch:t})}static getReviews(e,t){return W.send("community.reviews",{steamId:e,pages:t})}static login(e){return W.send("community.login",{profilePath:e})}static logout(e=void 0){return W.send("community.logout",{force:e})}static setStoreCountry(e){return W.send("community.storecountry.set",{newCountry:e})}static getStoreCountry(){return W.send("community.storecountry.get")}};var _n=class extends Error{constructor(e){super(e),this.name="LoginError"}},mn=class extends Error{constructor(e){super(e),this.name="ServerOutageError"}},dn=class extends Error{constructor(e){super(e),this.name="OAuth Unauthorized"}},fn=class extends Error{constructor(e,t){super(t),this.code=e}},gn=class extends Error{constructor(e,t){super(e),this.featureName=t}},yo={LoginError:_n,ServerOutageError:mn,HTTPError:fn,FeatureDependencyError:gn,OAuthUnauthorized:dn};var rt=class r{static{this._fetchFn=typeof content<"u"&&content&&content.fetch||fetch.bind(window)}static async getHttp(e,t={}){let o={method:"GET",credentials:"include",headers:{origin:window.location.origin},referrer:window.location.origin+window.location.pathname,...t};document.dispatchEvent(new CustomEvent("asRequestStart"));let s;try{if(s=await r._fetchFn(e,o),!s.ok)throw new yo.HTTPError(s.status,`HTTP ${s.status} ${s.statusText} for ${s.url}`)}catch(n){throw document.dispatchEvent(new CustomEvent("asRequestError",{detail:n})),n}return document.dispatchEvent(new CustomEvent("asRequestDone")),s}static async getText(e,t={}){return(await this.getHttp(e,t)).text()}static async getJson(e,t={}){return(await this.getHttp(e,t)).json()}static async getBlob(e,t={}){return(await this.getHttp(e,t)).blob()}static async post(e,t,o={}){let s={method:"POST",body:new URLSearchParams(t),credentials:"include",headers:{origin:window.location.origin},referrer:window.location.origin+window.location.pathname,...o};return await r._fetchFn(e,s)}};var pe=class r{static init(){return this.promise||(this.promise=(async()=>{let e=document.querySelector("#global_actions > a.user_avatar");try{if(e){this._profileUrl=e.href,this._profilePath=e.pathname;let t=await lt.login(this._profilePath);this._signedIn=!0,this._steamId=t.steamId}else await lt.logout()}catch(t){console.log(t)}try{let t=await lt.getStoreCountry();if(t){this._storeCountry=t;return}let o=null,s=document.querySelector("#webui_config, #application_config");if(s?o=s.dataset.config?JSON.parse(s.dataset.config).COUNTRY:null:window.location.hostname==="steamcommunity.com"?o=st.getStringVariable("g_strCountryCode"):o=st.getStringVariable(/GDynamicStore\.Init\(.+?,\s*'([A-Z]{2})'/),!o)throw new Error("Script with user store country not found");r._storeCountry=o,await lt.setStoreCountry(o)}catch(t){console.group("Store country detection"),console.warn("Failed to detect store country from page"),console.error(t),console.groupEnd()}})()),this.promise}static get isSignedIn(){return this._signedIn}static get steamId(){return this._steamId}static get storeCountry(){let e,t=new URLSearchParams(window.location.search);return t.has("cc")?e=t.get("cc"):e=r._storeCountry,e||(console.warn("Failed to detect store country, falling back to US"),e="US"),e}static get profileUrl(){return this._profileUrl}static get profilePath(){return this._profilePath}static get sessionId(){return this._sessionId||(this._sessionId=st.getStringVariable("g_sessionID")),this._sessionId}static getPurchaseDate(e,t){let o=Ut.clearSpecialSymbols(t);return Be.getPurchaseDate(o,e)}static async getWebApiToken(){if(!this._webApiToken){let e=await rt.getJson(`${window.location.origin}/pointssummary/ajaxgetasyncconfig`);if(!e.success||!e.data?.webapi_token)throw new Error("Failed to get webapi token");this._webApiToken=e.data.webapi_token}return this._webApiToken}};var So=class{async _getShops(){let e=h.excluded_stores;if(!h.showallstores&&e.length>0){let t=await me.getStoreList().catch(o=>console.error(o));if(t)return t.map(({id:o})=>o).filter(o=>!e.includes(o))}return[]}async load(e){let t=await He.fetchPrices(pe.storeCountry??"US",e.apps??[],e.subs??[],e.bundles??[],h.showlowestpricecoupon,await this._getShops()),o={prices:[],bundles:[]};for(let[s,n]of Object.entries(t.prices)){let[i,a]=s.split("/");o.prices.push({type:i,id:Number(a),data:n})}return o.bundles=t.bundles,o}};var Qo=class extends B{checkPrerequisites(){return h.showlowestprice}insertPrices(e,t,o){let s=null;if(e==="sub"){let n=document.querySelector(`input[name=subid][value="${t}"]`);n&&(s=n.closest(".game_area_purchase_game_wrapper")||n.closest(".game_area_purchase_game"))}else e==="bundle"&&(s=document.querySelector(`.game_area_purchase_game_wrapper[data-ds-bundleid="${t}"]`)||document.querySelector(`.game_area_purchase_game[data-ds-bundleid="${t}"]`));s&&new sp({target:s.parentElement,anchor:s,props:{data:o}})}insertBundles(e){let t=document.querySelector("#game_area_purchase")?.nextElementSibling;t&&new Zc({target:t.parentElement,anchor:t,props:{data:e}})}async apply(){let e=new So,t=this.context.getAllSubids().map(Number),o=[];for(let s of document.querySelectorAll("[data-ds-bundleid]"))o.push(Number(s.dataset.dsBundleid));t.length===0&&o.length===0||e.load({subs:t,bundles:o}).then(({prices:s,bundles:n})=>{for(let{type:i,id:a,data:c}of s)this.insertPrices(i,a,c);this.insertBundles(n)})}};function i_(r){let e,t;return{c(){e=b("span"),m(e,"class",t="es-flag-"+r[0]+" svelte-1l58fp6")},m(o,s){w(o,e,s)},p(o,[s]){s&1&&t!==(t="es-flag-"+o[0]+" svelte-1l58fp6")&&m(e,"class",t)},i:I,o:I,d(o){o&&v(e)}}}function a_(r,e,t){let{country:o}=e;return r.$$set=s=>{"country"in s&&t(0,o=s.country)},[o]}var hn=class extends J{constructor(e){super(),Z(this,e,a_,i_,K,{country:0})}},rp=hn;function np(r,e,t){let o=r.slice();o[9]=e[t];let s=o[1][o[9]];return o[10]=s,o}function bn(r){let e=r.slice(),t=Number((e[14].value/e[2].value*100-100).toFixed(2));return e[15]=t,e}function l_(r){let e=r.slice(),t=new De(e[10].final/100,e[10].currency);e[13]=t;let o=e[4](e[13],e[9]);return e[14]=o,e}function c_(r){let e;return{c(){e=b("div"),m(e,"class","es_regional_arrow svelte-tc81l5")},m(t,o){w(t,e,o)},d(t){t&&v(e)}}}function p_(r){let e;return{c(){e=b("span"),e.textContent=`${f(Ja)}`,m(e,"class","es-none svelte-tc81l5")},m(t,o){w(t,e,o)},p:I,d(t){t&&v(e)}}}function ip(r){let e=r[13].toString()+"",t,o,s,n=r[2]&&r[14]&&ap(bn(r));return{c(){t=T(e),o=C(),n&&n.c(),s=Pe()},m(i,a){w(i,t,a),w(i,o,a),n&&n.m(i,a),w(i,s,a)},p(i,a){a&3&&e!==(e=i[13].toString()+"")&&V(t,e),i[2]&&i[14]?n?n.p(bn(i),a):(n=ap(bn(i)),n.c(),n.m(s.parentNode,s)):n&&(n.d(1),n=null)},d(i){i&&(v(t),v(o),v(s)),n&&n.d(i)}}}function ap(r){let e,t=r[14].toString()+"",o,s,n,i=Math.abs(r[15])+"",a,c;return{c(){e=b("span"),o=T(t),s=C(),n=b("span"),a=T(i),c=T("%"),m(e,"class","es-converted svelte-tc81l5"),m(n,"class","es-perc svelte-tc81l5"),te(n,"es-perc--higher",r[15]>0),te(n,"es-perc--lower",r[15]<0),te(n,"es-perc--equal",r[15]===0)},m(l,p){w(l,e,p),d(e,o),w(l,s,p),w(l,n,p),d(n,a),d(n,c)},p(l,p){p&3&&t!==(t=l[14].toString()+"")&&V(o,t),p&7&&i!==(i=Math.abs(l[15])+"")&&V(a,i),p&23&&te(n,"es-perc--higher",l[15]>0),p&23&&te(n,"es-perc--lower",l[15]<0),p&23&&te(n,"es-perc--equal",l[15]===0)},d(l){l&&(v(e),v(s),v(n))}}}function lp(r){let e,t,o,s,n;t=new rp({props:{country:r[9]}});function i(p,_){return p[10]?ip:p_}function a(p,_){return _===ip?l_(p):p}let c=i(r,-1),l=c(a(r,c));return{c(){e=b("div"),ce(t.$$.fragment),o=C(),l.c(),s=C(),m(e,"class","es-regprice svelte-tc81l5")},m(p,_){w(p,e,_),ae(t,e,null),d(e,o),l.m(e,null),d(e,s),n=!0},p(p,_){let u={};_&1&&(u.country=p[9]),t.$set(u),c===(c=i(p,_))&&l?l.p(a(p,c),_):(l.d(1),l=c(a(p,c)),l&&(l.c(),l.m(e,s)))},i(p){n||($(t.$$.fragment,p),n=!0)},o(p){O(t.$$.fragment,p),n=!1},d(p){p&&v(e),le(t),l.d()}}}function u_(r){let e,t,o,s=h.showregionalprice==="mouse"&&c_(r),n=be(r[0]),i=[];for(let c=0;c<n.length;c+=1)i[c]=lp(np(r,n,c));let a=c=>O(i[c],1,1,()=>{i[c]=null});return{c(){e=b("div"),s&&s.c(),t=C();for(let c=0;c<i.length;c+=1)i[c].c();m(e,"class","es_regional svelte-tc81l5"),te(e,"es_regional--always",h.showregionalprice==="always"),te(e,"es_regional--onmouse",h.showregionalprice==="mouse")},m(c,l){w(c,e,l),s&&s.m(e,null),d(e,t);for(let p=0;p<i.length;p+=1)i[p]&&i[p].m(e,null);r[7](e),o=!0},p(c,[l]){if(l&23){n=be(c[0]);let p;for(p=0;p<n.length;p+=1){let _=np(c,n,p);i[p]?(i[p].p(_,l),$(i[p],1)):(i[p]=lp(_),i[p].c(),$(i[p],1),i[p].m(e,null))}for(Ue(),p=n.length;p<i.length;p+=1)a(p);Te()}},i(c){if(!o){for(let l=0;l<n.length;l+=1)$(i[l]);o=!0}},o(c){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)O(i[l]);o=!1},d(c){c&&v(e),s&&s.d(),Ke(i,c),r[7](null)}}}function __(r,e,t){let{countries:o}=e,{prices:s}=e,{errors:n}=e,{priceNode:i=null}=e,a=null;try{let u=s[pe.storeCountry.toLowerCase()];a=new De(u.final/100,u.currency).inCurrency(ve.customCurrency)}catch(u){l(u)}function c(u,x){try{return u.inCurrency(ve.customCurrency)}catch(g){return l(g,x),null}}function l(u,x){let g=x?`Can't show converted price and relative price differences for country code ${x.toUpperCase()}`:"Can't show relative price differences to any other currencies";n.has(g)||(n.add(g),console.group("Regional pricing"),console.warn(g),console.error(u),console.groupEnd())}let p;h.showregionalprice==="mouse"&&(i.classList.add("es_regional_onmouse"),h.regional_hideworld||i.classList.add("es_regional_icon"),i.addEventListener("mouseenter",()=>{let u=i.getBoundingClientRect();t(3,p.style.display="block",p),t(3,p.style.top=`${u.top+window.scrollY-5}px`,p),t(3,p.style.left=`${u.left-p.getBoundingClientRect().width}px`,p)}),i.addEventListener("mouseleave",()=>{t(3,p.style.display="none",p)}));function _(u){ot[u?"unshift":"push"](()=>{p=u,t(3,p)})}return r.$$set=u=>{"countries"in u&&t(0,o=u.countries),"prices"in u&&t(1,s=u.prices),"errors"in u&&t(5,n=u.errors),"priceNode"in u&&t(6,i=u.priceNode)},[o,s,a,p,c,n,i,_]}var xn=class extends J{constructor(e){super(),Z(this,e,__,u_,K,{countries:0,prices:1,errors:5,priceNode:6})}},vn=xn;var ko=class extends B{checkPrerequisites(){let e=h.regional_countries;return e&&e.length>0&&h.showregionalprice!=="off"}async apply(){let e=h.regional_countries,t=pe.storeCountry.toLowerCase();e.includes(t)||e.push(t);let o=new Set;for(let s of this.context.getAllSubids()){let n={};if(await Promise.all(e.map(async c=>{let l=await rt.getJson(`https://store.steampowered.com/api/packagedetails/?packageids=${s}&cc=${c}`,{credentials:"omit"});if(!l)return;let p=l[s];!p||!p.success||!p.data.price||(n[c]=p.data.price)})),n[t]===void 0)continue;let i=document.querySelector(`input[name=subid][value="${s}"]`).closest(".game_area_purchase_game_wrapper, #game_area_purchase").querySelector(".game_purchase_action"),a=i.closest(".game_area_purchase_game");if(a.classList.add("es_regional_prices"),h.showregionalprice==="always")a.classList.add("es_regional_always"),new vn({target:i.parentElement,anchor:i,props:{countries:e,prices:n,errors:o}});else if(h.showregionalprice==="mouse"){let c=i.querySelector(".price, .discount_prices");new vn({target:document.body,props:{countries:e,prices:n,errors:o,priceNode:c}})}}}};function m_(r){let e,t,o,s,n,i=`${r[0]}%`;return{c(){e=b("div"),t=b("div"),t.textContent=`${r[1]}`,o=C(),s=b("div"),n=b("div"),m(n,"class","es_achievebar_progress svelte-n7asem"),at(n,"width",i),m(s,"class","es_achievebar svelte-n7asem"),m(e,"class","es_achievebar_ctn svelte-n7asem")},m(a,c){w(a,e,c),d(e,t),d(e,o),d(e,s),d(s,n)},p(a,[c]){c&1&&i!==(i=`${a[0]}%`)&&at(n,"width",i)},i:I,o:I,d(a){a&&v(e)}}}function d_(r,e,t){let{unlocked:o}=e,{total:s}=e,{percentage:n}=e,i=f(cl,{unlocked:o,total:s,percentage:n});return r.$$set=a=>{"unlocked"in a&&t(2,o=a.unlocked),"total"in a&&t(3,s=a.total),"percentage"in a&&t(0,n=a.percentage)},[n,i,o,s]}var wn=class extends J{constructor(e){super(),Z(this,e,d_,m_,K,{unlocked:2,total:3,percentage:0})}},cp=wn;var Lo=class{static async getAchievementsProgress(e){let t;try{let s=await pe.getWebApiToken(),n=pe.steamId;t=await(await rt.post(`https://api.steampowered.com/IPlayerService/GetAchievementsProgress/v1/?access_token=${s}`,{steamid:n,"appids[0]":String(e)},{credentials:"omit"})).json()}catch{throw new Error("Failed to fetch achievements")}let o=t?.response?.achievement_progress?.[0];if(!o)throw new Error("Failed to find achievements data");return o}};var No=class extends B{checkPrerequisites(){return h.showachinstore&&this.context.hasAchievements&&this.context.isOwnedAndPlayed}async apply(){let{unlocked:e,total:t,percentage:o}=await Lo.getAchievementsProgress(this.context.communityAppid),s=document.querySelector("#my_activity");new cp({target:s,anchor:s.firstElementChild??void 0,props:{unlocked:e,total:t,percentage:Math.round(o)}})}};var Do=class extends B{checkPrerequisites(){return h.showastatslink&&this.context.hasAchievements}apply(){let e=_e.getURL("img/ico/astatsnl.png"),t=`https://astats.astats.nl/astats/Steam_Game_Info.php?AppID=${this.context.communityAppid}`;M.beforeEnd("#achievement_block",`<div class="game_area_details_specs">
                <div class="icon"><img class="astats_icon" src="${e}"></div>
                <a class="name es_external_icon" href="${t}" target="_blank">${f(ba)}</a>
            </div>`)}};function f_(r){let e,t,o,s,n,i,a=r[0].name+"",c,l,p,_=f(yr,{level:r[0].level})+"",u;return{c(){e=b("div"),t=b("img"),s=C(),n=b("div"),i=b("div"),c=T(a),l=C(),p=b("div"),u=T(_),Ve(t.src,o=r[0].iconurl)||m(t,"src",o),m(t,"class","badge_icon svelte-m0doyw"),m(t,"alt","Badge"),m(e,"class","badge_info_image svelte-m0doyw"),m(i,"class","badge_info_title svelte-m0doyw"),m(n,"class","badge_info_description svelte-m0doyw")},m(x,g){w(x,e,g),d(e,t),w(x,s,g),w(x,n,g),d(n,i),d(i,c),d(n,l),d(n,p),d(p,u)},p(x,g){g&1&&!Ve(t.src,o=x[0].iconurl)&&m(t,"src",o),g&1&&a!==(a=x[0].name+"")&&V(c,a),g&1&&_!==(_=f(yr,{level:x[0].level})+"")&&V(u,_)},d(x){x&&(v(e),v(s),v(n))}}}function g_(r){let e,t,o,s,n=r[0].nextlevelname+"",i,a,c;return{c(){e=b("div"),t=C(),o=b("div"),s=b("div"),i=T(n),a=C(),c=b("div"),c.textContent=`${f(Hi)}`,m(e,"class","badge_empty_circle svelte-m0doyw"),m(s,"class","badge_empty_name svelte-m0doyw"),m(c,"class","badge_empty_name svelte-m0doyw"),m(o,"class","badge_empty_right svelte-m0doyw")},m(l,p){w(l,e,p),w(l,t,p),w(l,o,p),d(o,s),d(s,i),d(o,a),d(o,c)},p(l,p){p&1&&n!==(n=l[0].nextlevelname+"")&&V(i,n)},d(l){l&&(v(e),v(t),v(o))}}}function h_(r){let e,t,o,s,n,i,a,c,l,p,_,u,x=f(r[0].bMaxed?kr:Sr)+"",g,E;function L(D,S){return D[0].level===0?g_:f_}let A=L(r,-1),Q=A(r);return{c(){e=b("div"),e.textContent=`${f(Yi)}`,t=C(),o=b("div"),s=b("div"),Q.c(),n=C(),i=b("div"),a=b("div"),a.textContent=`${f(Ki,{owned:r[1],possible:r[2]})}`,c=C(),l=b("div"),p=b("div"),p.innerHTML='<img src="//store.steampowered.com/public/images/v6/ico/ico_cards.png" class="category_icon" alt="Cards icon"/>',_=C(),u=b("a"),g=T(x),m(e,"class","block responsive_apppage_details_right heading"),m(a,"class","es_cards_owned svelte-m0doyw"),m(i,"class","es_cards_numbers svelte-m0doyw"),m(p,"class","icon"),m(u,"href",E="//steamcommunity.com/my/gamecards/"+r[0].appid+"/"),m(u,"class","name"),m(l,"class","game_area_details_specs"),m(s,"class","block_content_inner es_badges_progress_block svelte-m0doyw"),m(o,"class","block responsive_apppage_details_right")},m(D,S){w(D,e,S),w(D,t,S),w(D,o,S),d(o,s),Q.m(s,null),d(s,n),d(s,i),d(i,a),d(s,c),d(s,l),d(l,p),d(l,_),d(l,u),d(u,g)},p(D,[S]){A===(A=L(D,S))&&Q?Q.p(D,S):(Q.d(1),Q=A(D),Q&&(Q.c(),Q.m(s,n))),S&1&&x!==(x=f(D[0].bMaxed?kr:Sr)+"")&&V(g,x),S&1&&E!==(E="//steamcommunity.com/my/gamecards/"+D[0].appid+"/")&&m(u,"href",E)},i:I,o:I,d(D){D&&(v(e),v(t),v(o)),Q.d()}}}function b_(r,e,t){let{data:o}=e,s=o.rgCards.filter(i=>i.owned===1).length,n=o.rgCards.length;return r.$$set=i=>{"data"in i&&t(0,o=i.data)},[o,s,n]}var yn=class extends J{constructor(e){super(),Z(this,e,b_,h_,K,{data:0})}},pp=yn;var Fo=class extends B{checkPrerequisites(){return!this.context.isDlcLike&&pe.isSignedIn&&h.show_badge_progress}async apply(){let t=(await lt.fetchBadgeInfo(pe.steamId,this.context.communityAppid)).badgedata;if(!t)return;let o=document.querySelector(".rightcol.game_meta_data");if(!o)throw new Error("Node not found");new pp({target:o,anchor:o.querySelector("#category_block")?.nextElementSibling??void 0,props:{data:t}})}};var Eo=class extends B{constructor(){super(...arguments);this._demoLink=null}checkPrerequisites(){return this._demoLink=document.querySelector(".download_demo_button a.btn_medium")?.href.slice(11)??null,!!this._demoLink&&document.querySelector(".demo_above_purchase")===null}apply(){let t=document.querySelector("[data-os=win]")?'<span class="platform_img win"></span>':"",o=document.querySelector("[data-os=mac]")?'<span class="platform_img mac"></span>':"",s=document.querySelector("[data-os=linux]")?'<span class="platform_img linux"></span>':"",n=`<div class="game_area_purchase_game demo_above_purchase">
            <div class="game_area_purchase_platform">
                ${t}${o}${s}
            </div>
            <h1>${f(Ei,{gamename:this.context.appName})}</h1>
            <div class="game_purchase_action">
                <div class="game_purchase_action_bg">
                    <div id="demoGameBtn" class="btn_addtocart">
                        <span class="btn_green_steamui btn_medium">
                            <span>${f(Ga)}</span>
                        </span>
                    </div>
                </div>
            </div>
        </div>`,i=document.getElementById("purchase_note");i?M.afterEnd(i,n):M.afterBegin(document.getElementById("game_area_purchase"),n),document.querySelector("#demoGameBtn > .btn_green_steamui").setAttribute("onclick",this._demoLink)}};var Co=class extends B{checkPrerequisites(){return document.querySelector(".game_area_dlc_section .game_area_dlc_list input[name^=subid]")!==null}apply(){let e=document.querySelector(".game_area_dlc_section");if(!e)return;for(let i of e.querySelectorAll(".game_area_dlc_row")){let a=i.querySelector("input[name^=subid]");if(!a)continue;let c=document.createElement("label");c.classList.add("es_dlc_label"),i.classList.contains("ds_wishlist")?c.classList.add("es_dlc_wishlist"):i.classList.contains("ds_owned")&&c.classList.add("es_dlc_owned");let l=document.createElement("input");l.type="checkbox",l.dataset.esDlcSubid=a.value;let p=i.querySelector(".discount_final_price")??i.querySelector(".game_area_dlc_price"),_=p?De.parseFromString(p.textContent):null;_!==null&&(l.dataset.esDlcPrice=String(_.value)),c.append(l),i.before(c)}new MutationObserver(i=>{for(let a of i){let c=a.target;if(!c.classList.contains("game_area_dlc_row"))continue;let l=c.previousElementSibling;l?.classList.contains("es_dlc_label")&&l.classList.toggle("es_dlc_wishlist",c.classList.contains("ds_wishlist"))}}).observe(e.querySelector(".gameDlcBlocks"),{subtree:!0,attributeFilter:["class"]});let t=`<div class="game_purchase_action game_purchase_action_bg" id="es_selected_btn">
                <div class="game_purchase_price price"></div>
                <div class="btn_addtocart">
                    <a class="btn_green_steamui btn_medium">
                        <span>${f(Gi)}</span>
                    </a>
                </div>
            </div>`,o=e.querySelector("#game_area_dlc_expanded");o?(M.afterEnd(o,t),M.afterEnd(e,'<div style="clear: both;"></div>')):M.afterEnd(e.querySelector(".gameDlcBlocks"),t);let s=new Set,n=e.querySelector("#es_selected_btn");n.addEventListener("click",()=>{Y.insertScript("scriptlets/Store/App/addItemToCart.js",{subids:Array.from(s)})}),M.afterEnd(e.querySelector(".gradientbg"),`<div id="es_dlc_option_panel">
                <div class="es_dlc_option" id="unowned_dlc_check">${f(kl)}</div>
                <div class="es_dlc_option" id="wl_dlc_check">${f(Sl)}</div>
                <div class="es_dlc_option" id="no_dlc_check">${f(Ql)}</div>
            </div>`),e.querySelector("#unowned_dlc_check").addEventListener("click",()=>{let i=e.querySelectorAll(".es_dlc_label:not(.es_dlc_owned) > input");for(let a of i)a.checked=!0;e.dispatchEvent(new Event("change"))}),e.querySelector("#wl_dlc_check").addEventListener("click",()=>{let i=e.querySelectorAll(".es_dlc_label.es_dlc_wishlist > input");for(let a of i)a.checked=!0;e.dispatchEvent(new Event("change"))}),e.querySelector("#no_dlc_check").addEventListener("click",()=>{let i=e.querySelectorAll(".es_dlc_label > input:checked");for(let a of i)a.checked=!1;e.dispatchEvent(new Event("change"))}),e.addEventListener("change",()=>{s.clear();let i=0;for(let a of e.querySelectorAll(".es_dlc_label > input:checked"))s.add(Number(a.dataset.esDlcSubid)),a.dataset.esDlcPrice&&(i+=Number(a.dataset.esDlcPrice));i>0?(n.querySelector(".game_purchase_price").textContent=new De(i).toString(),n.style.display="block"):n.style.display="none"})}};function up(r,e,t){let o=r.slice();return o[1]=e[t],o}function _p(r){let e,t,o,s,n,i,a=r[1].name+"",c,l,p;return{c(){e=b("div"),t=b("div"),o=b("img"),n=C(),i=b("a"),c=T(a),p=C(),Ve(o.src,s=_e.getURL(`/img/dlcicons/${encodeURIComponent(r[1].icon)}`))||m(o,"src",s),m(o,"alt",""),m(t,"class","icon"),m(i,"class","name"),m(i,"title",l=r[1].description),m(e,"class","game_area_details_specs")},m(_,u){w(_,e,u),d(e,t),d(t,o),d(e,n),d(e,i),d(i,c),d(e,p)},p(_,u){u&1&&!Ve(o.src,s=_e.getURL(`/img/dlcicons/${encodeURIComponent(_[1].icon)}`))&&m(o,"src",s),u&1&&a!==(a=_[1].name+"")&&V(c,a),u&1&&l!==(l=_[1].description)&&m(i,"title",l)},d(_){_&&v(e)}}}function x_(r){let e,t,o,s,n,i,a,c=be(r[0]),l=[];for(let p=0;p<c.length;p+=1)l[p]=_p(up(r,c,p));return{c(){e=b("div"),e.textContent=`${f(qi)}`,t=C(),o=b("div"),s=b("div"),n=b("div"),i=b("div"),a=T(`\`;\r
\r
                `);for(let p=0;p<l.length;p+=1)l[p].c();m(e,"class","block responsive_apppage_details_right heading"),m(i,"class","details_block"),m(n,"class","block_content_inner"),m(s,"class","block_content"),m(o,"class","block es_dlc_info")},m(p,_){w(p,e,_),w(p,t,_),w(p,o,_),d(o,s),d(s,n),d(n,i),d(i,a);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(i,null)},p(p,[_]){if(_&1){c=be(p[0]);let u;for(u=0;u<c.length;u+=1){let x=up(p,c,u);l[u]?l[u].p(x,_):(l[u]=_p(x),l[u].c(),l[u].m(i,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=c.length}},i:I,o:I,d(p){p&&(v(e),v(t),v(o)),Ke(l,p)}}}function v_(r,e,t){let{dlcInfo:o}=e;return r.$$set=s=>{"dlcInfo"in s&&t(0,o=s.dlcInfo)},[o]}var Sn=class extends J{constructor(e){super(),Z(this,e,v_,x_,K,{dlcInfo:0})}},mp=Sn;var Ao=class extends B{checkPrerequisites(){return this.context.isDlc}async apply(){let e;try{if(e=await He.fetchDlcInfo(this.context.appid),!e||!e.length)return}catch(s){console.error(s);return}let t=document.querySelector("#category_block"),o=t.parentElement;new mp({target:o,anchor:t,props:{dlcInfo:e}})}};function w_(r){let e,t,o,s,n,i,a=f($a)+"",c,l,p;return{c(){e=b("div"),t=b("div"),o=C(),s=b("div"),n=b("b"),n.textContent=`${f(Ra)}`,i=C(),c=T(a),l=C(),p=b("div"),m(t,"class","notice_box_top"),m(s,"class","notice_box_content"),m(p,"class","notice_box_bottom")},m(_,u){w(_,e,u),d(e,t),d(e,o),d(e,s),d(s,n),d(s,i),d(s,c),d(e,l),d(e,p)},p:I,i:I,o:I,d(_){_&&v(e)}}}var Qn=class extends J{constructor(e){super(),Z(this,e,null,w_,K,{})}},dp=Qn;var Bo=class extends B{async checkPrerequisites(){if(!h.exfgls)return!1;let e=await this.context.data;return e!==null&&!e.family_sharing}apply(){let e=document.querySelector("#game_area_purchase");if(!e)throw new Error("Node not found");new dp({target:e.parentElement,anchor:e})}};var Zt=class extends B{checkPrerequisites(){return h.mp4video}async apply(){let e=await fe.get("playback_hd")??!1;for(let t of document.querySelectorAll("[data-webm-source]")){let o=t.dataset.mp4Source,s=t.dataset.mp4HdSource;if(!o||!s)continue;t.dataset.webmSource=o,t.dataset.webmHdSource=s;let n=t.querySelector("video");n&&(n.dataset.hdSrc=s,this.context.toggleVideoDefinition(n,e,!0))}}};var Uo=class extends B{apply(){function e(o){document.fullscreenElement?document.exitFullscreen():o.target.closest(".screenshot_popup_modal_content").requestFullscreen()}function t(){let o=document.querySelector(".screenshot_popup_modal_footer"),s=o.querySelector(".next"),n=s.offsetWidth;s.style.display==="none"&&(s.style.display="",n=s.offsetWidth,s.style.display="none"),M.beforeEnd(o,`<div class="btnv6_blue_hoverfade btn_medium es_screenshot_fullscreen_toggle" style="right: calc(${n}px + 0.5em)"><i></i></div>`);let i=o.querySelector(".es_screenshot_fullscreen_toggle");i.addEventListener("click",e);let a=o.parentNode.querySelector(".screenshot_popup_modal_title > a");M.beforeEnd(o,`<div class="btnv6_blue_hoverfade btn_medium es_screenshot_open_btn" style="right: calc(${n+i.offsetWidth}px + 1em)"><i></i></div>`),o.querySelector(".es_screenshot_open_btn").addEventListener("click",()=>{window.open(a.href,"_blank")})}new MutationObserver(o=>{for(let{addedNodes:s}of o)for(let n of s)if(n.classList.contains("screenshot_popup_modal")){t();break}}).observe(document.body,{childList:!0})}};var kn=class{constructor(e){this.promise=new Promise(t=>setTimeout(t,e))}then(e){return this.promise.then(e)}},Ln=class{constructor(e,t){this._running=!1;this.onDone=e,this.duration=t,this.reset()}get running(){return this._running}reset(){typeof this.id<"u"&&clearTimeout(this.id),this.id=setTimeout(async()=>{await this.onDone(),this._running=!1},this.duration),this._running=!0}stop(){typeof this.id<"u"&&(clearTimeout(this.id),this.id=void 0),this._running=!1}},To=class{static timer(e){return new kn(e)}static resettableTimer(e,t){return new Ln(e,t)}static now(){return Math.trunc(Date.now()/1e3)}static isInPast(e){return e<=this.now()}static isInFuture(e){return e>this.now()}};var Vt=class extends B{checkPrerequisites(){return document.querySelector("div.highlight_movie")!==null}apply(){for(let e of document.querySelectorAll("div.highlight_movie")){if(e.children[0]instanceof HTMLVideoElement){this._addHDControl(e),this._addMouseMoveHandler(e);continue}new MutationObserver((t,o)=>{o.disconnect(),e.children[0]instanceof HTMLVideoElement&&(this._addHDControl(e),this._addMouseMoveHandler(e))}).observe(e,{childList:!0})}}async _clickHDControl(){let e=await fe.get("playback_hd")??!1;for(let t of document.querySelectorAll("video.highlight_movie"))this.context.toggleVideoDefinition(t,!e);await fe.set("playback_hd",!e)}async _addHDControl(e){let t=e.children[0],o=document.createElement("div");o.classList.add("es_hd_toggle"),o.textContent="HD",o.addEventListener("click",()=>{this._clickHDControl()}),e.querySelector(".time").after(o),t.addEventListener("dblclick",()=>{e.querySelector(".fullscreen_button").click()}),this.context.toggleVideoDefinition(t,await fe.get("playback_hd")??!1)}_addMouseMoveHandler(e){let t=e.children,o=t[0],s=t[1],n=null;o.addEventListener("mousemove",()=>{n?(n.reset(),o.style.cursor="",s.style.bottom="0px"):n=To.resettableTimer(()=>{o.style.cursor="none",s.style.bottom="-35px"},2e3)}),o.addEventListener("mouseleave",()=>{n?.stop()})}};var Io=class extends B{checkPrerequisites(){return this._yourTags=document.querySelectorAll(".app_tag.user_defined"),this._yourTags.length>0}apply(){let e=st.getArrayVariable(/\[{"tagid".+}\],\s*(\[{"tagid".+}\])/);if(!e)return;let t=new Set;for(let o of e)o.is_reported&&t.add(o.name);if(t.size!==0){for(let o of this._yourTags)t.has(o.textContent.trim())&&o.remove();Y.insertScript("scriptlets/Store/App/triggerResize.js")}}};function fp(r){let e,t,o,s,n,i=r[0]&&gp(r),a=r[1]&&hp(r),c=r[2]&&bp(r);return{c(){e=b("div"),i&&i.c(),t=C(),a&&a.c(),o=C(),c&&c.c(),s=C(),n=b("br"),m(e,"class","details_block")},m(l,p){w(l,e,p),i&&i.m(e,null),d(e,t),a&&a.m(e,null),d(e,o),c&&c.m(e,null),w(l,s,p),w(l,n,p)},p(l,p){l[0]?i?i.p(l,p):(i=gp(l),i.c(),i.m(e,t)):i&&(i.d(1),i=null),l[1]?a?a.p(l,p):(a=hp(l),a.c(),a.m(e,o)):a&&(a.d(1),a=null),l[2]?c?c.p(l,p):(c=bp(l),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(l){l&&(v(e),v(s),v(n)),i&&i.d(),a&&a.d(),c&&c.d()}}}function gp(r){let e,t,o=r[4](r[0])+"",s,n;return{c(){e=b("b"),e.textContent=`${f(vl)}:`,t=b("span"),s=T(o),n=b("br"),m(e,"class","svelte-1w0n5k8"),m(t,"class","svelte-1w0n5k8")},m(i,a){w(i,e,a),w(i,t,a),d(t,s),w(i,n,a)},p(i,a){a&1&&o!==(o=i[4](i[0])+"")&&V(s,o)},d(i){i&&(v(e),v(t),v(n))}}}function hp(r){let e,t,o=r[4](r[1])+"",s,n;return{c(){e=b("b"),e.textContent=`${f(bl)}:`,t=b("span"),s=T(o),n=b("br"),m(e,"class","svelte-1w0n5k8"),m(t,"class","svelte-1w0n5k8")},m(i,a){w(i,e,a),w(i,t,a),d(t,s),w(i,n,a)},p(i,a){a&2&&o!==(o=i[4](i[1])+"")&&V(s,o)},d(i){i&&(v(e),v(t),v(n))}}}function bp(r){let e,t,o=r[4](r[2])+"",s,n;return{c(){e=b("b"),e.textContent=`${f(xl)}:`,t=b("span"),s=T(o),n=b("br"),m(e,"class","svelte-1w0n5k8"),m(t,"class","svelte-1w0n5k8")},m(i,a){w(i,e,a),w(i,t,a),d(t,s),w(i,n,a)},p(i,a){a&4&&o!==(o=i[4](i[2])+"")&&V(s,o)},d(i){i&&(v(e),v(t),v(n))}}}function y_(r){let e,t,o,s,n,i,a,c=f(za)+"",l,p,_,u,x=(r[0]||r[1]||r[2])&&fp(r);return{c(){e=b("div"),e.textContent=`${f(hl)}`,t=C(),o=b("div"),s=b("div"),n=b("div"),x&&x.c(),i=C(),a=b("a"),l=T(c),m(e,"class","block responsive_apppage_details_right heading"),m(a,"class","linkbar es_external_icon"),m(a,"href",r[3]),m(n,"class","block_content_inner"),m(s,"class","block_content"),m(o,"class","block underlined_links es_hltb svelte-1w0n5k8")},m(g,E){w(g,e,E),w(g,t,E),w(g,o,E),d(o,s),d(s,n),x&&x.m(n,null),d(n,i),d(n,a),d(a,l),_||(u=Ne(p=ke.call(null,a)),_=!0)},p(g,[E]){g[0]||g[1]||g[2]?x?x.p(g,E):(x=fp(g),x.c(),x.m(n,i)):x&&(x.d(1),x=null),E&8&&m(a,"href",g[3])},i:I,o:I,d(g){g&&(v(e),v(t),v(o)),x&&x.d(),_=!1,u()}}}function S_(r,e,t){function o(c){return f(ia,{hours:(c/60).toFixed(1).toString()})}let{story:s}=e,{extras:n}=e,{complete:i}=e,{url:a}=e;return r.$$set=c=>{"story"in c&&t(0,s=c.story),"extras"in c&&t(1,n=c.extras),"complete"in c&&t(2,i=c.complete),"url"in c&&t(3,a=c.url)},[s,n,i,a,o]}var Nn=class extends J{constructor(e){super(),Z(this,e,S_,y_,K,{story:0,extras:1,complete:2,url:3})}},xp=Nn;var Po=class extends B{constructor(){super(...arguments);this.hltb=null}async checkPrerequisites(){if(!h.showhltb||this.context.isDlcLike||this.context.isVideoOrHardware)return!1;let t=await this.context.data;return!t||!t.hltb?!1:(this.hltb=t.hltb,!0)}apply(){if(!this.hltb)return;let t=document.querySelector("div.game_details").nextElementSibling;new xp({target:t.parentElement,anchor:t,props:{story:this.hltb.story,extras:this.hltb.extras,complete:this.hltb.complete,url:this.hltb.url}})}};var Mo=class extends B{constructor(){super(...arguments);this._review=null}async checkPrerequisites(){if(!h.showmcus||!document.querySelector("#game_area_metascore"))return!1;let t=await this.context.data;return!t||!t.reviews||!t.reviews.metauser?!1:(this._review=t.reviews.metauser,!0)}apply(){if(!this._review)return;let t=this._review.score;if(t===null)return;let o;t>=75?o="high":t>=50?o="medium":o="low",M.afterEnd("#game_area_metascore",`<div id="game_area_userscore">
                <div class="score ${o}">${t}</div>
                <div class="logo"></div>
                <div class="wordmark">
                    <div class="metacritic">${f(ll)}</div>
                </div>
            </div>`)}};var Ro=class extends B{checkPrerequisites(){return document.querySelector(".finish_queue_text")!==null}apply(){M.afterEnd(".btn_next_in_queue",`<div id="es_new_queue" class="btn_next_in_queue btn_next_in_queue_trigger" data-tooltip-text="${f(ic)}">
                <div class="next_in_queue_content">
                    <span class="finish_queue_text">${f(nc)}</span>
                </div>
            </div>`),Y.insertScript("scriptlets/Store/App/newQueue.js")}};var $o=class extends B{constructor(){super(...arguments);this._review=null}async checkPrerequisites(){if(!h.showoc)return!1;let t=await this.context.data;return!t||!t.reviews||!t.reviews.opencritic?!1:(this._review=t.reviews.opencritic,!0)}apply(){if(!this._review)return;let t=this._review,o=_e.getURL("img/opencritic.png"),s=t.verdict??"NA",n=document.querySelector("#game_area_metascore");n?n=n.parentNode:n=document.querySelector(".game_details"),M.afterEnd(n,`<div class="block responsive_apppage_reviewblock">
                <div id="game_area_opencritic">
                    <div class="score ${s.toLowerCase()}">${t.score?t.score:"--"}</div>
                    <div class="logo"><img src="${o}"></div>
                    <div class="wordmark">
                        <div class="metacritic">OpenCritic</div>
                        <div id="game_area_metalink">${s} - <a href="${t.url}?utm_source=enhanced-steam-itad&utm_medium=average" target="_blank">${f(wa)}</a>
                            <img src="//store.cloudflare.steamstatic.com/public/images/ico/iconExternalLink.gif" border="0" align="bottom">
                        </div>
                    </div>
                </div>
                <div style="clear: both;"></div>
            </div>`)}};var Oo=class extends B{checkPrerequisites(){return pe.isSignedIn&&document.querySelector(".game_area_play_stats .already_owned_actions")!==null}apply(){let e=document.querySelector(".game_area_play_stats .already_owned_actions"),t=this.context.appid,o=e.querySelector("a[href^='https://store.steampowered.com/about/']"),s=h.installsteam;s==="hide"?o.remove():s==="replace"&&(o.querySelector("span").textContent=f(Is),o.href=`steam://store/${t}`),h.showviewinlibrary&&M.afterBegin(e,`<div class="game_area_already_owned_btn">
                    <a class="btnv6_lightblue_blue btnv6_border_2px btn_medium" href="steam://nav/games/details/${t}">
                        <span>${f(Ri)}</span>
                    </a>
                </div>`),M.afterEnd(e,`<div class="game_area_already_owned_btn">
                <a class="btnv6_lightblue_blue btnv6_border_2px btn_medium" href="//help.steampowered.com/wizard/HelpWithGame/?appid=${t}">
                    <span>${f(Ji)}</span>
                </a>
            </div>`)}};function Q_(r){let e;return{c(){e=b("i"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svelte-1kun4wk"><path d="M144 144l0 48 160 0 0-48c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192l0-48C80 64.5 144.5 0 224 0s144 64.5 144 144l0 48 16 0c35.3 0 64 28.7 64 64l0 192c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 256c0-35.3 28.7-64 64-64l16 0z"></path></svg>',m(e,"class","svelte-1kun4wk")},m(t,o){w(t,e,o)},p:I,i:I,o:I,d(t){t&&v(e)}}}var Dn=class extends J{constructor(e){super(),Z(this,e,null,Q_,K,{})}},vp=Dn;function k_(r){let e;return{c(){e=b("i"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svelte-1kun4wk"><path d="M336 352c97.2 0 176-78.8 176-176S433.2 0 336 0S160 78.8 160 176c0 18.7 2.9 36.8 8.3 53.7L7 391c-4.5 4.5-7 10.6-7 17l0 80c0 13.3 10.7 24 24 24l80 0c13.3 0 24-10.7 24-24l0-40 40 0c13.3 0 24-10.7 24-24l0-40 40 0c6.4 0 12.5-2.5 17-7l33.3-33.3c16.9 5.4 35 8.3 53.7 8.3zM376 96a40 40 0 1 1 0 80 40 40 0 1 1 0-80z"></path></svg>',m(e,"class","svelte-1kun4wk")},m(t,o){w(t,e,o)},p:I,i:I,o:I,d(t){t&&v(e)}}}var Fn=class extends J{constructor(e){super(),Z(this,e,null,k_,K,{})}},wp=Fn;function yp(r,e,t){let o=r.slice();return o[2]=e[t],o}function Sp(r,e,t){let o=r.slice();return o[5]=e[t],o}function L_(r){let e,t;return e=new wp({}),{c(){ce(e.$$.fragment)},m(o,s){ae(e,o,s),t=!0},i(o){t||($(e.$$.fragment,o),t=!0)},o(o){O(e.$$.fragment,o),t=!1},d(o){le(e,o)}}}function N_(r){let e,t;return e=new vp({}),{c(){ce(e.$$.fragment)},m(o,s){ae(e,o,s),t=!0},i(o){t||($(e.$$.fragment,o),t=!0)},o(o){O(e.$$.fragment,o),t=!1},d(o){le(e,o)}}}function Qp(r){let e=r[2].shop+"",t;return{c(){t=T(e)},m(o,s){w(o,t,s)},p(o,s){s&2&&e!==(e=o[2].shop+"")&&V(t,e)},d(o){o&&v(t)}}}function kp(r){let e,t=r[5]+"",o;return{c(){e=b("span"),o=T(t),m(e,"class","tag svelte-1evt7bg")},m(s,n){w(s,e,n),d(e,o)},p(s,n){n&2&&t!==(t=s[5]+"")&&V(o,t)},d(s){s&&v(e)}}}function Lp(r){let e,t=r[2].note+"",o;return{c(){e=b("div"),o=T(t),m(e,"class","note svelte-1evt7bg")},m(s,n){w(s,e,n),d(e,o)},p(s,n){n&2&&t!==(t=s[2].note+"")&&V(o,t)},d(s){s&&v(e)}}}function Np(r){let e,t,o,s,n,i,a,c,l,p=r[2].redeemed?"redeemed":"redeemable",_,u,x,g,E,L,A=[N_,L_],Q=[];function D(F,z){return F[2].redeemed?0:1}o=D(r,-1),s=Q[o]=A[o](r);let S=r[2].shop&&Qp(r),k=be(r[2].tags??[]),N=[];for(let F=0;F<k.length;F+=1)N[F]=kp(Sp(r,k,F));let U=r[2].note&&Lp(r);return{c(){e=b("div"),t=b("div"),s.c(),n=C(),i=b("div"),a=b("div"),S&&S.c(),c=C(),l=b("div"),_=T(p),u=C(),x=b("div");for(let F=0;F<N.length;F+=1)N[F].c();g=C(),U&&U.c(),E=C(),m(t,"class","icon svelte-1evt7bg"),m(l,"class","label svelte-1evt7bg"),m(i,"class","shop svelte-1evt7bg"),m(e,"class","copy svelte-1evt7bg")},m(F,z){w(F,e,z),d(e,t),Q[o].m(t,null),d(e,n),d(e,i),d(i,a),S&&S.m(a,null),d(i,c),d(i,l),d(l,_),d(e,u),d(e,x);for(let X=0;X<N.length;X+=1)N[X]&&N[X].m(x,null);d(x,g),U&&U.m(x,null),d(e,E),L=!0},p(F,z){let X=o;if(o=D(F,z),o!==X&&(Ue(),O(Q[X],1,1,()=>{Q[X]=null}),Te(),s=Q[o],s||(s=Q[o]=A[o](F),s.c()),$(s,1),s.m(t,null)),F[2].shop?S?S.p(F,z):(S=Qp(F),S.c(),S.m(a,null)):S&&(S.d(1),S=null),(!L||z&2)&&p!==(p=F[2].redeemed?"redeemed":"redeemable")&&V(_,p),z&2){k=be(F[2].tags??[]);let q;for(q=0;q<k.length;q+=1){let de=Sp(F,k,q);N[q]?N[q].p(de,z):(N[q]=kp(de),N[q].c(),N[q].m(x,g))}for(;q<N.length;q+=1)N[q].d(1);N.length=k.length}F[2].note?U?U.p(F,z):(U=Lp(F),U.c(),U.m(x,null)):U&&(U.d(1),U=null)},i(F){L||($(s),L=!0)},o(F){O(s),L=!1},d(F){F&&v(e),Q[o].d(),S&&S.d(),Ke(N,F),U&&U.d()}}}function D_(r){let e,t,o,s,n=f(Qr,{gametitle:r[0]})+"",i,a,c,l=be(r[1]),p=[];for(let u=0;u<l.length;u+=1)p[u]=Np(yp(r,l,u));let _=u=>O(p[u],1,1,()=>{p[u]=null});return{c(){e=b("div"),t=b("div"),t.textContent=`${f(jl).toUpperCase()}\xA0\xA0`,o=C(),s=b("div"),i=T(n),a=C();for(let u=0;u<p.length;u+=1)p[u].c();m(t,"class","ds_owned_flag ds_flag svelte-1evt7bg"),m(s,"class","already_in_library svelte-1evt7bg"),m(e,"class","game_area_already_owned page_content svelte-1evt7bg")},m(u,x){w(u,e,x),d(e,t),d(e,o),d(e,s),d(s,i),d(s,a);for(let g=0;g<p.length;g+=1)p[g]&&p[g].m(s,null);c=!0},p(u,[x]){if((!c||x&1)&&n!==(n=f(Qr,{gametitle:u[0]})+"")&&V(i,n),x&2){l=be(u[1]);let g;for(g=0;g<l.length;g+=1){let E=yp(u,l,g);p[g]?(p[g].p(E,x),$(p[g],1)):(p[g]=Np(E),p[g].c(),$(p[g],1),p[g].m(s,null))}for(Ue(),g=l.length;g<p.length;g+=1)_(g);Te()}},i(u){if(!c){for(let x=0;x<l.length;x+=1)$(p[x]);c=!0}},o(u){p=p.filter(Boolean);for(let x=0;x<p.length;x+=1)O(p[x]);c=!1},d(u){u&&v(e),Ke(p,u)}}}function F_(r,e,t){let{appName:o}=e,{copies:s}=e;return r.$$set=n=>{"appName"in n&&t(0,o=n.appName),"copies"in n&&t(1,s=n.copies)},[o,s]}var En=class extends J{constructor(e){super(),Z(this,e,F_,D_,K,{appName:0,copies:1})}},Dp=En;var Wo=class extends B{async checkPrerequisites(){return(!this.context.isOwned||!h.collection_banner_notowned)&&await me.isConnected()}async apply(){let e=await me.getFromCollection(this.context.storeid);if(e===null)return;let t=document.querySelector(".queue_overflow_ctn");new Dp({target:t.parentElement,anchor:t.nextElementSibling,props:{appName:this.context.appName,copies:e}})}};var Kt=class extends B{checkPrerequisites(){return h.show_package_info}apply(){let e=[".bundle_hidden_by_preferences",".game_purchase_sub_dropdown",".dynamic_bundle_description"].join(",");for(let t of document.querySelectorAll(`.game_area_purchase_game_wrapper:not(${e})`)){if(t.querySelector(".btn_packageinfo"))return;let o=t.querySelector("input[name=subid]");o&&M.afterBegin(t.querySelector(".game_purchase_action"),`<div class="game_purchase_action_bg">
                    <div class="btn_addtocart btn_packageinfo">
                        <a class="btn_blue_steamui btn_medium" href="//store.steampowered.com/sub/${o.value}/">
                            <span>${f(Qa)}</span>
                        </a>
                    </div>
                </div>`)}}};var Xt=class extends B{apply(){for(let e of document.querySelectorAll(".game_area_purchase_game_wrapper:not(.bundle_hidden_by_preferences)")){if(e.querySelector(".btn_packageinfo"))continue;let t=e.querySelector("h1").textContent;t=t.toLowerCase().replace(/-/g," ");let o="";e.querySelector("p")&&(o=e.querySelector("p").textContent),t.includes("2 pack")||t.includes("two pack")||t.includes("tower wars friend pack")||o.includes("gift copy")||o.includes("extra copy")?this._splitPack(e,2):t.includes("3 pack")||t.includes("three pack")||t.includes("tower wars team pack")?this._splitPack(e,3):t.includes("4 pack")||t.includes("four pack")||t.includes("clan pack")?this._splitPack(e,4):t.includes("5 pack")||t.includes("five pack")?this._splitPack(e,5):(t.includes("6 pack")||t.includes("six pack"))&&this._splitPack(e,6)}}_splitPack(e,t){let o=e.querySelector("[data-price-final]");if(!o)return;let n=10**ve.getCurrencyInfo(ve.storeCurrency).format.places,i=Number(o.dataset.priceFinal)/100/t;i=Math.ceil(i*n)/n,M.afterBegin(e.querySelector(".game_purchase_action_bg"),`<div class="es_each_box">
                <div class="es_each_price">${new De(i)}</div>
                <div class="es_each">${f(zi)}</div>
            </div>`)}};var qo=class extends B{apply(){Y.insertScript("scriptlets/Store/App/patchHighlightPlayer.js")}};function E_(r){let e,t,o,s,n,i,a,c=r[3].format(r[0])+"",l,p,_,u,x,g=r[3].format(r[1])+"",E,L,A,Q,D,S=r[3].format(r[2])+"",k;return{c(){e=b("div"),e.textContent=`${f(dl)}`,t=C(),o=b("div"),s=b("div"),n=b("div"),i=b("span"),i.textContent=`${f(fl)}`,a=C(),l=T(c),p=C(),_=b("div"),u=b("span"),u.textContent=`${f(gl)}`,x=C(),E=T(g),L=C(),A=b("div"),Q=b("span"),Q.textContent=`${f(ml)}`,D=C(),k=T(S),m(e,"class","block responsive_apppage_details_right heading"),m(i,"class","svelte-1xun2sl"),m(n,"class","as_stat svelte-1xun2sl"),m(u,"class","svelte-1xun2sl"),m(_,"class","as_stat svelte-1xun2sl"),m(Q,"class","svelte-1xun2sl"),m(A,"class","as_stat svelte-1xun2sl"),m(s,"class","block_content_inner as_players svelte-1xun2sl"),m(o,"class","block responsive_apppage_details_right")},m(N,U){w(N,e,U),w(N,t,U),w(N,o,U),d(o,s),d(s,n),d(n,i),d(n,a),d(n,l),d(s,p),d(s,_),d(_,u),d(_,x),d(_,E),d(s,L),d(s,A),d(A,Q),d(A,D),d(A,k)},p(N,[U]){U&1&&c!==(c=N[3].format(N[0])+"")&&V(l,c),U&2&&g!==(g=N[3].format(N[1])+"")&&V(E,g),U&4&&S!==(S=N[3].format(N[2])+"")&&V(k,S)},i:I,o:I,d(N){N&&(v(e),v(t),v(o))}}}function C_(r,e,t){let{recent:o}=e,{peakToday:s}=e,{peakAll:n}=e,i=new Intl.NumberFormat(navigator.language);return r.$$set=a=>{"recent"in a&&t(0,o=a.recent),"peakToday"in a&&t(1,s=a.peakToday),"peakAll"in a&&t(2,n=a.peakAll)},[o,s,n,i]}var Cn=class extends J{constructor(e){super(),Z(this,e,C_,E_,K,{recent:0,peakToday:1,peakAll:2})}},Fp=Cn;var Ho=class extends B{async checkPrerequisites(){if(this.context.isDlcLike||this.context.isVideoOrHardware||!h.show_players_info)return!1;let e=await this.context.data;return!e||!e.players?!1:(this._data=e.players,!0)}apply(){let e=document.querySelector(".rightcol.game_meta_data");if(!e)throw new Error("Node not found");new Fp({target:e,anchor:e.firstElementChild??void 0,props:{recent:Number(this._data.recent),peakToday:Number(this._data.peak_today),peakAll:Number(this._data.peak_all)}})}};var zo=class extends B{constructor(){super(...arguments);this._node=null}checkPrerequisites(){return pe.isSignedIn&&h.purchase_dates&&(this._node=document.querySelector(".game_area_already_owned .already_in_library")),this._node!==null}async apply(){let t=qe.getCurrentSteamLanguage();if(!t){console.warn("Unknown language");return}let o=this.context.appName.replace(/:/g,"").trim(),s=await pe.getPurchaseDate(t,o);if(!s){console.warn("Failed to retrieve purchase date");return}this._node.textContent+=` ${f(qa,{date:s})}`}};var Jo=class extends B{checkPrerequisites(){return h.removebroadcasts&&document.querySelector("[data-featuretarget=broadcast-embed]")!==null}apply(){document.querySelector("[data-featuretarget=broadcast-embed]")?.remove(),Y.insertScript("scriptlets/Store/App/stopBroadcast.js")}};var Go=class extends B{checkPrerequisites(){return this._screenshots=document.querySelectorAll(".highlight_screenshot"),this._screenshots.length>1}apply(){let e=new Set;for(let t of this._screenshots){let o=CSS.escape(t.id);e.has(o)?(t.remove(),document.querySelectorAll(`#${o.replace("highlight_","thumb_")}`)[1].remove()):e.add(o)}}};var xe=class{static{this.id=0}static dispatchEvent(e,t,o=[],s=void 0){Y.insertScript("scriptlets/event.js",{handler:e,detail:{action:t,params:o,id:s}})}static call(e,t,o=[]){this.dispatchEvent(e,t,o)}static get(e,t,o=[]){return new Promise(s=>{let n=`as_msg_${this.id++}`;document.addEventListener(n,i=>s(i.detail),{once:!0}),this.dispatchEvent(e,t,o,n)})}};var Fe=class{static global(e){return xe.get("as_SteamFacade","global",[e])}static globalSet(e,t){xe.call("as_SteamFacade","globalSet",[e,t])}static showDialog(e,t,o=void 0){xe.call("as_SteamFacade","showDialog",[e,t,o])}static showConfirmDialog(e,t,o=null,s=null,n=null){return xe.get("as_SteamFacade","showConfirmDialog",[e,t,o,s,n])}static showAlertDialog(e,t,o=null){return xe.get("as_SteamFacade","showAlertDialog",[e,t,o])}static showBlockingWaitDialog(e,t){return xe.get("as_SteamFacade","showBlockingWaitDialog",[e,t])}static dismissActiveModal(){xe.call("as_SteamFacade","dismissActiveModal")}static showMenu(e,t,o,s,n){xe.call("as_SteamFacade","showMenu",[e,t,o,s,n])}static hideMenu(e,t){xe.call("as_SteamFacade","hideMenu",[e,t])}static changeLanguage(e,t){xe.call("as_SteamFacade","changeLanguage",[e,t])}static collapseLongStrings(e){xe.call("as_SteamFacade","collapseLongStrings",[e])}static removeFromWishlist(e,t,o,s,n,i){xe.call("as_SteamFacade","removeFromWishlist",[e,t,o,s,n,i])}static addToWishlist(e,t,o,s,n,i){xe.call("as_SteamFacade","addToWishlist",[e,t,o,s,n,i])}static bindAutoFlyoutEvents(){xe.call("as_SteamFacade","bindAutoFlyoutEvents")}static vTooltip(e,t=!1){xe.call("as_SteamFacade","vTooltip",[e,t])}static calculateFeeAmount(e,t){return xe.get("as_SteamFacade","calculateFeeAmount",[e,t])}static vCurrencyFormat(e,t){return xe.get("as_SteamFacade","vCurrencyFormat",[e,t])}static openFriendChatInWebChat(e,t){xe.call("as_SteamFacade","openFriendChatInWebChat",[e,t])}};var jo=class extends B{apply(){let e=[...document.querySelectorAll("#genresAndManufacturer > .dev_row:first-of-type > a")],t=document.getElementById("developers_list")?.parentElement;t&&e.push(...t.querySelectorAll("a"));let o=[...document.querySelectorAll("#genresAndManufacturer > .dev_row:nth-of-type(2) > a")],s=t?.nextElementSibling;s&&o.push(...s.querySelectorAll("a"));let n=document.querySelector(".details_block > .dev_row:nth-of-type(3) > a"),i=n?[n]:[];for(let a of[...e,...o,...i]){let c=new URL(a.href);if(c.pathname.startsWith("/search/"))continue;let l;e.includes(a)?l="developer":o.includes(a)?l="publisher":n===a&&(l="franchise"),l&&(a.href=`https://store.steampowered.com/search/?${l}=${encodeURIComponent(a.textContent)}`,M.afterEnd(a,` (<a href="${c.href}">${f(wl)}</a>)`))}for(let a of document.querySelectorAll(".dev_row > .more_btn"))a.remove();Fe.collapseLongStrings(".dev_row .summary.column")}};function B_(r){let e,t,o,s,n,i,a,c;return{c(){e=b("button"),t=b("div"),t.textContent="\u25BC",s=C(),n=b("div"),n.textContent="\u25B2",m(t,"data-tooltip-text",o=f(Ms)),m(t,"class","svelte-beepgd"),te(t,"inactive",r[0]),m(n,"data-tooltip-text",i=f(Rs)),m(n,"class","svelte-beepgd"),te(n,"inactive",!r[0]),m(e,"class","btnv6_lightblue_blue btn_medium es_review_toggle svelte-beepgd")},m(l,p){w(l,e,p),d(e,t),d(e,s),d(e,n),a||(c=ye(e,"click",r[1]),a=!0)},p(l,[p]){p&1&&te(t,"inactive",l[0]),p&1&&te(n,"inactive",!l[0])},i:I,o:I,d(l){l&&v(e),a=!1,c()}}}function U_(r,e,t){let{reviewSection:o}=e,s=!0;async function n(i){i?(t(0,s=!s),fe.set("show_review_section",s)):t(0,s=await fe.get("show_review_section")??!0),t(2,o.style.maxHeight=s?"":"0",o)}return tt(()=>{n()}),r.$$set=i=>{"reviewSection"in i&&t(2,o=i.reviewSection)},[s,n,o]}var An=class extends J{constructor(e){super(),Z(this,e,U_,B_,K,{reviewSection:2})}},Ep=An;var Zo=class extends B{constructor(){super(...arguments);this.node=null}checkPrerequisites(){return this.node=document.getElementById("review_create"),this.node!==null}apply(){let t=this.node.querySelector("h1");if(!t)throw new Error("Node not found");let o=document.createElement("div");o.classList.add("es_review_section"),o.append(...this.node.querySelectorAll("p, .avatar_block, .content")),t.after(o),new Ep({target:t,props:{reviewSection:o}})}};var Vo=class extends B{checkPrerequisites(){return!document.querySelector("#noReviewsWriteOne")}async apply(){document.addEventListener("as_filtersChanged",async()=>{let e=document.querySelector("input[name=review_context]:checked")?.id,t=document.querySelector("input[name=review_language]:checked")?.id,o=document.querySelector("#app_reviews_playtime_range_min")?.value,s=document.querySelector("#app_reviews_playtime_range_max")?.value,n=await fe.get("review_filters")??{};e&&(n.context=e),t&&(n.language=t),o&&(n.minPlaytime=o),s&&(n.maxPlaytime=s),fe.set("review_filters",n)}),Y.insertScript("scriptlets/Store/App/saveReviewFilters.js",await fe.get("review_filters")??{})}};var gt=class{static getCoupon(e){return W.send("inventory.coupon",{appid:e})}static async getCouponsAppids(e){return new Set(await W.send("inventory.getCouponAppids",{appids:e}))}static async getGiftsAppids(e){return new Set(await W.send("inventory.getGiftsAppids",{appids:e}))}static async getPassesAppids(e){return new Set(await W.send("inventory.getPassesAppids",{appids:e}))}static hasItem(e){return W.send("inventory.hasItem",{hashes:e})}};var Ko=class extends B{checkPrerequisites(){return h.show_coupon}async apply(){let e=await gt.getCoupon(this.context.appid);if(!e)return;let t=e.valid&&e.valid.replace(/\[date](.+)\[\/date]/,(p,_)=>new Date(_*1e3).toLocaleString());M.beforeBegin("#game_area_purchase",`<div class="early_access_header es_coupon_info">
                <div class="heading">
                    <h1 class="inset">${f(ja)}</h1>
                    <h2 class="inset">${f(Zi)}</h2>
                    <p>${f(ha,{linkdesc:`<a href="https://support.steampowered.com/kb_article.php?ref=4210-YIPC-0275">${f(ga)}</a>`})}</p>
                </div>
                <div class="devnotes">
                    <div style="display:flex;padding-top:10px">
                        <img src="//community.cloudflare.steamstatic.com/economy/image/${e.image_url}" style="width:96px;height:64px;">
                        <div style="display:flex;flex-direction:column;margin-left:10px">
                            <h1 style="margin-top:2px">${e.title}</h1>
                            <div>${e.discount_note||""}</div>
                            <div style="color:#a75124">${t}</div>
                        </div>
                    </div>
                </div>
            </div>`);let o=document.querySelector(".game_area_purchase_game_wrapper .game_purchase_action");if(!o||o.querySelector(".game_purchase_discount")&&e.discount_doesnt_stack)return;let s=o.querySelector("[data-price-final]");if(!s)return;let i=10**ve.getCurrencyInfo(ve.storeCurrency).format.places,a=Number(s.dataset.priceFinal)/100,c=Math.floor(a*(e.discount/100)*i)/i,l=a-c;M.replace(s,`<div class="discount_block game_purchase_discount">
                <div class="discount_pct">-${e.discount}%</div>
                <div class="discount_prices">
                    <div class="discount_original_price">${new De(a)}</div>
                    <div class="discount_final_price">${new De(l)}</div>
                </div>
            </div>`)}};var Xo=class extends B{checkPrerequisites(){return h.showdeckcompat&&!this.context.isDlcLike&&!this.context.isVideoOrHardware}async apply(){let e=document.querySelector("[data-featuretarget=deck-verified-results]");if(e){document.querySelector("#category_block")?.insertAdjacentElement("afterbegin",e);return}let t=await rt.getJson(`https://store.steampowered.com/saleaction/ajaxgetdeckappcompatibilityreport?nAppID=${this.context.appid}`);if(!t||!t.success)return;let o,s,n,i=t.results.resolved_category;switch(i){case 0:o="unknown",s="1a3a76c9e8dacf756b822247a23bef435768a5ff.png",n=Ai;break;case 1:o="unsupported",s="dd56b9d37f5b5bf4da236b9bd3d62e3d120d7df5.png",n=Bi;break;case 2:o="playable",s="16e802051c2a3b99c7f1720b7de7fad6e540e02a.png",n=Ui;break;case 3:o="verified",s="82a3cff3038fbb4c36fabb5dd79540b23fa9a4d4.png",n=Ti;break;default:console.error("Unknown Steam Deck compatibility status code: %s",i);return}M.afterBegin("#category_block",`<div class="as_deckverified_BannerContainer">
                <div class="as_deckverified_BannerHeader">${f(Ci)}</div>
                <div class="as_deckverified_BannerContent">
                    <img class="as_svg_SteamDeckCompatIcon" src="//cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/39049601/${s}">
                    <span class="as_deckverified_CompatibilityDetailRatingDescription">${f(n)}</span>
                </div>
            </div>`)}};var Yo=class extends B{constructor(){super(...arguments);this._moreLikeThis=null}checkPrerequisites(){return this._moreLikeThis=document.querySelector("#recommended_block"),this._moreLikeThis!==null}async apply(){if(!this._moreLikeThis)return;M.afterEnd(this._moreLikeThis.querySelector(".block_header"),`<div class="es_tabs">
                <div class="home_tabs_row">
                    <div id="es_tab_steamsimilar" class="es_tab home_tab active">
                        <div class="tab_content">Steam</div>
                    </div>
                    <div id="es_tab_steampeek" class="es_tab home_tab">
                        <div class="tab_content">SteamPeek</div>
                    </div>
                </div>
            </div>`);let t=this._moreLikeThis.querySelector("#es_tab_steamsimilar"),o=this._moreLikeThis.querySelector("#es_tab_steampeek"),s=this._moreLikeThis.querySelector("#recommended_block_content");t.addEventListener("click",()=>{o.classList.remove("active"),t.classList.add("active"),s.classList.remove("es_sp_active"),s.classList.add("es_steam_active"),fe.set("steampeek",!1),this._adjustScroller()});let n=!1;o.addEventListener("click",async()=>{if(o.classList.add("active"),t.classList.remove("active"),s.classList.add("es_sp_active"),s.classList.remove("es_steam_active"),fe.set("steampeek",!0),!n){n=!0;for(let c of s.querySelectorAll(":scope > a"))c.classList.add("es_steam_similar");let i=await He.fetchSteamPeek(this.context.appid);if(!i)return;let a=s.querySelector(":scope > :last-child");for(let{title:c,appid:l}of i)M.beforeBegin(a,`<a class="small_cap es_sp_similar" data-ds-appid="${l}" href="https://store.steampowered.com/app/${l}/">
                            <img src="//cdn.cloudflare.steamstatic.com/steam/apps/${l}/capsule_184x69.jpg" class="small_cap_img">
                            <h4>${c}</h4>
                        </a>`);Y.insertScript("scriptlets/Store/App/SteamPeek/decorateItems.js",{appids:i.map(({appid:c})=>c)}),this.context.decorateStoreCapsules(s.querySelectorAll("a.es_sp_similar")),M.beforeBegin(a,`<a class="small_cap es_sp_similar" href="http://steampeek.hu/?appid=${this.context.appid}" target="_blank">
                        <div class="es_sp_similar__link">${f(Mi)}</div>
                    </a>`)}this._adjustScroller()}),await fe.get("steampeek")&&o.click()}_adjustScroller(){Y.insertScript("scriptlets/Store/App/SteamPeek/adjustScroller.js")}};var es=class extends B{constructor(){super(...arguments);this._supportInfo=null}async checkPrerequisites(){if(!h.showsupportinfo)return!1;let t=await fe.get("support_info")??null;(!t||!t.expiry||t.expiry<Date.now())&&(t={data:{},expiry:Date.now()+31*86400*1e3});let o=Ie.fromElement(document.querySelector(".glance_details a"))||this.context.appid;if(this._supportInfo=t.data[o],!this._supportInfo){let s=await Be.fetchAppDetails(o,"support_info");if(!s)return console.warn("Failed to retrieve support info"),!1;this._supportInfo=s.support_info,t.data[o]=this._supportInfo,fe.set("support_info",t)}return!!(this._supportInfo.url||this._supportInfo.email)}apply(){let{url:t,email:o}=this._supportInfo,s=[];t&&(t=M.formatUrl(t),s.push(`<a href="${t}">${f(Ts)}</a>`)),o&&(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(o)?s.push(`<a href="mailto:${o}">${f(Oi)}</a>`):s.push(`<a href="${o}">${f(Wi)}</a>`)),M.beforeEnd(".glance_ctn_responsive_left",`<div class="release_date" style="padding-bottom: 0;">
                <div class="subtitle column">${f($i)}:</div>
                <div class="summary column">${s.join(", ")}</div>
            </div>`)}};var ht=class{constructor(e=!1,t=null){this.closeToFull=e,this.utilization=t}};var Qt=class extends Error{constructor(e,t=void 0){super(t),this.name="OutOfCapacityError",this.ratio=e}};var ts=class{async getNotesMap(){return new Map(Object.entries(await it.get("user_notes")??{}).map(([e,t])=>[Number(e),t]))}async get(...e){let t=new Map(e.map(s=>[s,null])),o=await it.get("user_notes");if(o)for(let[s,n]of Object.entries(o)){let i=Number(s);t.has(i)&&t.set(i,n)}return t}async set(e,t){let o=await this.getNotesMap();o.set(e,t);let s=Object.fromEntries(o.entries()),n=this.getNotesSize(s)/it.QUOTA_BYTES_PER_ITEM;if(n>1)throw new Qt(n,"Can't set this user note, out of capacity");return await it.set("user_notes",s),new ht(n>.85,n)}async delete(e){let t=await this.getNotesMap();return t.delete(e),t.size>0?it.set("user_notes",Object.fromEntries(t.entries())):it.remove("user_notes")}async export(){let e=await this.getNotesMap();return Object.fromEntries(e.entries())}async import(e){let t=this.getNotesSize(e)/it.QUOTA_BYTES_PER_ITEM;if(t>1)throw new Qt(t,"Import to synced storage failed, too much data for this adapter");return it.set("user_notes",e)}clear(){return it.remove("user_notes")}getNotesSize(e){return 10+JSON.stringify(e).length}};var os=class{async get(...e){let t=await W.send("notes.get",{appids:e});return new Map(Object.entries(t).map(([o,s])=>[Number(o),s??null]))}async set(e,t){return await W.send("notes.set",{appid:e,note:t}),new ht(!1,null)}delete(e){return W.send("notes.delete",{appid:e})}export(){return W.send("notes.getall")}import(e){return W.send("notes.setall",{notes:e})}clear(){return W.send("notes.clear")}};function Bn(r){throw new Error}var Yt=class{static createAdapter(e){switch(e){case"synced_storage":return new ts;case"idb":return new os;default:Bn(e)}}static getAdapter(){return this.adapter===void 0&&(this.adapter=this.createAdapter(h.user_notes_adapter)),this.adapter}static async changeAdapter(e){let t=this.getAdapter();if(e===h.user_notes_adapter)return t;let o=this.createAdapter(e);return await o.import(await t.export()),await t.clear(),h.user_notes_adapter=e,this.adapter=o,this.adapter}};var ss=class{constructor(){this._adapter=Yt.getAdapter(),this.noteModalTemplate=`<div class="es_note_prompt newmodal_prompt_with_textarea gray_bevel fullwidth">
                <textarea name="es_note_input" id="es_note_input" rows="6" cols="12">__note__</textarea>
            </div>`}get(...e){return this._adapter.get(...e)}export(){return this._adapter.export()}async set(e,t){let o=null;try{if(o=await this._adapter.set(e,t),h.itad_sync_notes&&await me.isConnected()){let s=await me.pushNote(e,t);if(s.errors.length!=0){let[,n,i]=s.errors[0];await Fe.showAlertDialog(f(rc),f(n,i))}}}catch(s){if(s instanceof Qt)return await this._showOutOfCapacityDialog(!0,s.ratio)?this.set(e,t):!1;throw s}return o instanceof ht&&o.closeToFull&&await this._showOutOfCapacityDialog(!1,o.utilization),!0}async delete(e){await this._adapter.delete(e),h.itad_sync_notes&&await me.isConnected()&&await me.deleteNote(e)}async showModalDialog(e,t,o,s){let n=(await this.get(t))?.get(t)??null;Y.insertScript("scriptlets/Store/Common/userNotesModal.js",{title:f(Vl,{gamename:e}),template:this.noteModalTemplate.replace("__note__",window.sessionStorage.getItem(`es_note_autosave_${t}`)??n??""),strSave:f(Da),strCancel:f(Ya),appid:t});let i=n;if(n=await new Promise(a=>{document.addEventListener("noteClosed",c=>a(c.detail.note),{once:!0})}),!(n===null||n===i)){if(n.length===0)this.delete(t),o.textContent=f($s);else{if(!await this.set(t,n)){window.sessionStorage.setItem(`es_note_autosave_${t}`,n);return}o.textContent=`"${n}"`}s(o,n.length!==0)}}async _showOutOfCapacityDialog(e,t){return new Promise(o=>{document.addEventListener("storageOption",n=>{n.detail==="OK"?(Yt.changeAdapter("idb").then(a=>this._adapter=a),h.user_notes_adapter="idb",o(!0)):o(!1)});let s=`${f(e?Xl:ec,{perc:(t*100).toFixed(0)})}
                <br>
                ${f(tc)}`;Y.insertScript("scriptlets/Store/Common/userNotesOutOfCapacityModal.js",{title:f(e?Kl:Yl),desc:s,strCancel:f(oc),strLocalStorage:f(sc)})})}};var rs=class extends B{checkPrerequisites(){return pe.isSignedIn&&h.user_notes_app}async apply(){M.beforeBegin(".queue_actions_ctn > :last-child",`<div id="esi-user-note-button" class="queue_control_button">
                <div class="esi-add-note btnv6_blue_hoverfade btn_medium">
                    <span>${f($s)}</span>
                </div>
                <div class="esi-update-note btnv6_blue_hoverfade btn_medium">
                    <span>${f(Zl)}</span>
                </div>
            </div>`),M.beforeEnd(".queue_actions_ctn",'<div id="esi-store-user-note" class="esi-note esi-note--store ellipsis"></div>');let e=document.querySelector("#esi-user-note-button"),t=document.querySelector("#esi-store-user-note"),o=new ss,s=(await o.get(this.context.appid)).get(this.context.appid)??void 0;typeof s<"u"&&(e.classList.add("esi-has-note"),t.textContent=`"${s}"`,t.classList.add("esi-has-note"));let n=()=>{o.showModalDialog(this.context.appName,this.context.appid,t,(i,a)=>{e.classList.toggle("esi-has-note",a),i.classList.toggle("esi-has-note",a)})};e.addEventListener("click",n),t.addEventListener("click",n)}};var ns=class extends B{constructor(){super(...arguments);this._levelMap={A:["gold",Pl],B:["silver",Ml],C:["limited",Rl],Incomplete:["incomplete",Tl],Unsupported:["unsupported",Il]};this._wsgf=null}async checkPrerequisites(){if(!h.showwsgf||this.context.isDlcLike||this.context.isVideoOrHardware)return!1;let t=await this.context.data;return!t||!t.wsgf?!1:(this._wsgf=t.wsgf,!0)}_getType(t,o,s){let n="",i="",[a,c]=this._levelMap[t]??[void 0,void 0];return a&&(n=_e.getURL(`img/wsgf/${o}-${a}.png`),i=f(c,{type:s})),[n,i]}apply(){if(!this._wsgf)return;let{url:t,wide:o,multi_monitor:s,"4k":n,ultrawide:i}=this._wsgf,[a,c]=this._getType(o,"ws","Widescreen"),[l,p]=this._getType(s,"mm","Multi-Monitor"),[_,u]=this._getType(i,"uw","Ultra-Widescreen"),[x,g]=this._getType(n,"4k","4k UHD");M.afterEnd("div.game_details",`<div class="block responsive_apppage_details_right heading">${f($l)}</div>
            <div class="block underlined_links es_wsgf">
                <div class="block_content">
                    <div class="block_content_inner">
                        <div class="details_block">
                            ${o?`<img src="${M.escape(a)}" title="${M.escape(c)}" alt="">`:""}
                            ${s?`<img src="${M.escape(l)}" title="${M.escape(p)}" alt="">`:""}
                            ${i?`<img src="${M.escape(_)}" title="${M.escape(u)}" alt="">`:""}
                            ${n?`<img src="${M.escape(x)}" title="${M.escape(g)}" alt="">`:""}
                        </div>
                        <br>
                        <a class="linkbar es_external_icon" target="_blank" href="${M.escape(t)}">${f(Ma)}</a>
                    </div>
                </div>
            </div>`)}};function T_(r){let e;return{c(){e=b("i"),m(e,"class","ico16 svelte-1cf0mrd")},m(t,o){w(t,e,o)},p:I,d(t){t&&v(e)}}}function I_(r){let e;return{c(){e=b("i"),m(e,"class","ico16 svelte-1cf0mrd"),at(e,"background","url("+r[2]+")"),at(e,"background-size","contain")},m(t,o){w(t,e,o)},p(t,o){o&4&&at(e,"background","url("+t[2]+")")},d(t){t&&v(e)}}}function P_(r){let e,t,o,s,n,i,a,c;function l(g,E){return g[2]?I_:T_}let p=l(r,-1),_=p(r),u=r[5].default,x=Js(u,r,r[4],null);return{c(){e=b("a"),t=b("span"),_.c(),o=C(),x&&x.c(),m(e,"class",s="btnv6_blue_hoverfade btn_medium "+r[1]+" svelte-1cf0mrd"),m(e,"href",r[0]),te(e,"es_community_btn",r[3]),te(e,"es_app_btn",!r[3])},m(g,E){w(g,e,E),d(e,t),_.m(t,null),d(t,o),x&&x.m(t,null),i=!0,a||(c=Ne(n=ke.call(null,e)),a=!0)},p(g,[E]){p===(p=l(g,E))&&_?_.p(g,E):(_.d(1),_=p(g),_&&(_.c(),_.m(t,o))),x&&x.p&&(!i||E&16)&&js(x,u,g,g[4],i?Gs(u,g[4],E,null):Zs(g[4]),null),(!i||E&2&&s!==(s="btnv6_blue_hoverfade btn_medium "+g[1]+" svelte-1cf0mrd"))&&m(e,"class",s),(!i||E&1)&&m(e,"href",g[0]),(!i||E&10)&&te(e,"es_community_btn",g[3]),(!i||E&10)&&te(e,"es_app_btn",!g[3])},i(g){i||($(x,g),i=!0)},o(g){O(x,g),i=!1},d(g){g&&v(e),_.d(),x&&x.d(g),a=!1,c()}}}function M_(r,e,t){let{$$slots:o={},$$scope:s}=e,{href:n}=e,{icon:i=""}=e,{iconUrl:a=null}=e,{isCommunity:c=!1}=e;return r.$$set=l=>{"href"in l&&t(0,n=l.href),"icon"in l&&t(1,i=l.icon),"iconUrl"in l&&t(2,a=l.iconUrl),"isCommunity"in l&&t(3,c=l.isCommunity),"$$scope"in l&&t(4,s=l.$$scope)},[n,i,a,c,s,o]}var Un=class extends J{constructor(e){super(),Z(this,e,M_,P_,K,{href:0,icon:1,iconUrl:2,isCommunity:3})}},je=Un;function R_(r){let e,t;return e=new je({props:{href:"https://isthereanydeal.com/steam/"+r[0]+"/"+r[1]+"/",icon:"itad_ico",isCommunity:r[2],$$slots:{default:[$_]},$$scope:{ctx:r}}}),{c(){ce(e.$$.fragment)},m(o,s){ae(e,o,s),t=!0},p(o,s){let n={};s&3&&(n.href="https://isthereanydeal.com/steam/"+o[0]+"/"+o[1]+"/"),s&4&&(n.isCommunity=o[2]),s&12&&(n.$$scope={dirty:s,ctx:o}),e.$set(n)},i(o){t||($(e.$$.fragment,o),t=!0)},o(o){O(e.$$.fragment,o),t=!1},d(o){le(e,o)}}}function $_(r){let e=(r[2]?"ITAD":f(Ge,{website:"IsThereAnyDeal"}))+"",t;return{c(){t=T(e)},m(o,s){w(o,t,s)},p(o,s){s&4&&e!==(e=(o[2]?"ITAD":f(Ge,{website:"IsThereAnyDeal"}))+"")&&V(t,e)},d(o){o&&v(t)}}}function O_(r){let e,t;return e=new je({props:{href:"https://steamdb.info/"+r[0]+"/"+r[1]+"/",icon:"steamdb_ico",isCommunity:r[2],$$slots:{default:[W_]},$$scope:{ctx:r}}}),{c(){ce(e.$$.fragment)},m(o,s){ae(e,o,s),t=!0},p(o,s){let n={};s&3&&(n.href="https://steamdb.info/"+o[0]+"/"+o[1]+"/"),s&4&&(n.isCommunity=o[2]),s&12&&(n.$$scope={dirty:s,ctx:o}),e.$set(n)},i(o){t||($(e.$$.fragment,o),t=!0)},o(o){O(e.$$.fragment,o),t=!1},d(o){le(e,o)}}}function W_(r){let e=(r[2]?"SteamDB":f(Ge,{website:"SteamDB"}))+"",t;return{c(){t=T(e)},m(o,s){w(o,t,s)},p(o,s){s&4&&e!==(e=(o[2]?"SteamDB":f(Ge,{website:"SteamDB"}))+"")&&V(t,e)},d(o){o&&v(t)}}}function q_(r){let e,t;return e=new je({props:{href:"https://barter.vg/steam/"+r[0]+"/"+r[1]+"/",icon:"bartervg_ico",isCommunity:r[2],$$slots:{default:[H_]},$$scope:{ctx:r}}}),{c(){ce(e.$$.fragment)},m(o,s){ae(e,o,s),t=!0},p(o,s){let n={};s&3&&(n.href="https://barter.vg/steam/"+o[0]+"/"+o[1]+"/"),s&4&&(n.isCommunity=o[2]),s&12&&(n.$$scope={dirty:s,ctx:o}),e.$set(n)},i(o){t||($(e.$$.fragment,o),t=!0)},o(o){O(e.$$.fragment,o),t=!1},d(o){le(e,o)}}}function H_(r){let e=(r[2]?"Barter.vg":f(Ge,{website:"Barter.vg"}))+"",t;return{c(){t=T(e)},m(o,s){w(o,t,s)},p(o,s){s&4&&e!==(e=(o[2]?"Barter.vg":f(Ge,{website:"Barter.vg"}))+"")&&V(t,e)},d(o){o&&v(t)}}}function z_(r){let e,t,o,s,n=h.showitadlinks&&R_(r),i=h.showsteamdb&&O_(r),a=h.showbartervg&&q_(r);return{c(){n&&n.c(),e=C(),i&&i.c(),t=C(),a&&a.c(),o=Pe()},m(c,l){n&&n.m(c,l),w(c,e,l),i&&i.m(c,l),w(c,t,l),a&&a.m(c,l),w(c,o,l),s=!0},p(c,[l]){h.showitadlinks&&n.p(c,l),h.showsteamdb&&i.p(c,l),h.showbartervg&&a.p(c,l)},i(c){s||($(n),$(i),$(a),s=!0)},o(c){O(n),O(i),O(a),s=!1},d(c){c&&(v(e),v(t),v(o)),n&&n.d(c),i&&i.d(c),a&&a.d(c)}}}function J_(r,e,t){let{type:o}=e,{gameid:s}=e,{isCommunity:n=!1}=e;return r.$$set=i=>{"type"in i&&t(0,o=i.type),"gameid"in i&&t(1,s=i.gameid),"isCommunity"in i&&t(2,n=i.isCommunity)},[o,s,n]}var Tn=class extends J{constructor(e){super(),Z(this,e,J_,z_,K,{type:0,gameid:1,isCommunity:2})}},Cp=Tn;function Ap(r,e,t){let o=r.slice();return o[3]=e[t],o}function G_(r){let e,t;return e=new je({props:{href:"https://www.steamcardexchange.net/index.php?gamepage-appid-"+r[1]+"/",icon:"cardexchange_btn",$$slots:{default:[j_]},$$scope:{ctx:r}}}),{c(){ce(e.$$.fragment)},m(o,s){ae(e,o,s),t=!0},p(o,s){let n={};s&2&&(n.href="https://www.steamcardexchange.net/index.php?gamepage-appid-"+o[1]+"/"),s&64&&(n.$$scope={dirty:s,ctx:o}),e.$set(n)},i(o){t||($(e.$$.fragment,o),t=!0)},o(o){O(e.$$.fragment,o),t=!1},d(o){le(e,o)}}}function j_(r){let e=f(Ge,{website:"Steam Card Exchange"})+"",t;return{c(){t=T(e)},m(o,s){w(o,t,s)},p:I,d(o){o&&v(t)}}}function Z_(r){let e,t;return e=new je({props:{href:"https://www.protondb.com/app/"+r[0]+"/",icon:"protondb_btn",$$slots:{default:[V_]},$$scope:{ctx:r}}}),{c(){ce(e.$$.fragment)},m(o,s){ae(e,o,s),t=!0},p(o,s){let n={};s&1&&(n.href="https://www.protondb.com/app/"+o[0]+"/"),s&64&&(n.$$scope={dirty:s,ctx:o}),e.$set(n)},i(o){t||($(e.$$.fragment,o),t=!0)},o(o){O(e.$$.fragment,o),t=!1},d(o){le(e,o)}}}function V_(r){let e=f(Ge,{website:"ProtonDB"})+"",t;return{c(){t=T(e)},m(o,s){w(o,t,s)},p:I,d(o){o&&v(t)}}}function K_(r){let e,t;return e=new je({props:{href:"https://completionist.me/steam/app/"+r[0]+"/",icon:"completionistme_btn",$$slots:{default:[X_]},$$scope:{ctx:r}}}),{c(){ce(e.$$.fragment)},m(o,s){ae(e,o,s),t=!0},p(o,s){let n={};s&1&&(n.href="https://completionist.me/steam/app/"+o[0]+"/"),s&64&&(n.$$scope={dirty:s,ctx:o}),e.$set(n)},i(o){t||($(e.$$.fragment,o),t=!0)},o(o){O(e.$$.fragment,o),t=!1},d(o){le(e,o)}}}function X_(r){let e=f(Ge,{website:"Completionist.me"})+"",t;return{c(){t=T(e)},m(o,s){w(o,t,s)},p:I,d(o){o&&v(t)}}}function Y_(r){let e,t;return e=new je({props:{href:"https://pcgamingwiki.com/api/appid.php?appid="+r[0],icon:"pcgw_btn",$$slots:{default:[em]},$$scope:{ctx:r}}}),{c(){ce(e.$$.fragment)},m(o,s){ae(e,o,s),t=!0},p(o,s){let n={};s&1&&(n.href="https://pcgamingwiki.com/api/appid.php?appid="+o[0]),s&64&&(n.$$scope={dirty:s,ctx:o}),e.$set(n)},i(o){t||($(e.$$.fragment,o),t=!0)},o(o){O(e.$$.fragment,o),t=!1},d(o){le(e,o)}}}function em(r){let e=f(el,{pcgw:"PCGamingWiki"})+"",t;return{c(){t=T(e)},m(o,s){w(o,t,s)},p:I,d(o){o&&v(t)}}}function Bp(r){let e,t,o,s,n,i=h.showtwitch&&tm(r),a=h.showyoutube&&sm(r),c=h.showyoutubegameplay&&nm(r),l=h.showyoutubereviews&&am(r);return{c(){i&&i.c(),e=C(),a&&a.c(),t=C(),c&&c.c(),o=C(),l&&l.c(),s=Pe()},m(p,_){i&&i.m(p,_),w(p,e,_),a&&a.m(p,_),w(p,t,_),c&&c.m(p,_),w(p,o,_),l&&l.m(p,_),w(p,s,_),n=!0},p(p,_){h.showtwitch&&i.p(p,_),h.showyoutube&&a.p(p,_),h.showyoutubegameplay&&c.p(p,_),h.showyoutubereviews&&l.p(p,_)},i(p){n||($(i),$(a),$(c),$(l),n=!0)},o(p){O(i),O(a),O(c),O(l),n=!1},d(p){p&&(v(e),v(t),v(o),v(s)),i&&i.d(p),a&&a.d(p),c&&c.d(p),l&&l.d(p)}}}function tm(r){let e,t;return e=new je({props:{href:"https://www.twitch.tv/directory/game/"+encodeURIComponent(r[2]),icon:"twitch_btn",$$slots:{default:[om]},$$scope:{ctx:r}}}),{c(){ce(e.$$.fragment)},m(o,s){ae(e,o,s),t=!0},p(o,s){let n={};s&4&&(n.href="https://www.twitch.tv/directory/game/"+encodeURIComponent(o[2])),s&64&&(n.$$scope={dirty:s,ctx:o}),e.$set(n)},i(o){t||($(e.$$.fragment,o),t=!0)},o(o){O(e.$$.fragment,o),t=!1},d(o){le(e,o)}}}function om(r){let e=f(Ge,{website:"Twitch"})+"",t;return{c(){t=T(e)},m(o,s){w(o,t,s)},p:I,d(o){o&&v(t)}}}function sm(r){let e,t;return e=new je({props:{href:"https://www.youtube.com/results?search_query="+encodeURIComponent(r[2]),icon:"as_youtube_btn",$$slots:{default:[rm]},$$scope:{ctx:r}}}),{c(){ce(e.$$.fragment)},m(o,s){ae(e,o,s),t=!0},p(o,s){let n={};s&4&&(n.href="https://www.youtube.com/results?search_query="+encodeURIComponent(o[2])),s&64&&(n.$$scope={dirty:s,ctx:o}),e.$set(n)},i(o){t||($(e.$$.fragment,o),t=!0)},o(o){O(e.$$.fragment,o),t=!1},d(o){le(e,o)}}}function rm(r){let e=f(Ge,{website:"YouTube"})+"",t;return{c(){t=T(e)},m(o,s){w(o,t,s)},p:I,d(o){o&&v(t)}}}function nm(r){let e,t;return e=new je({props:{href:"https://www.youtube.com/results?search_query="+encodeURIComponent(`${r[2]} "PC" Gameplay`),icon:"as_youtube_btn",$$slots:{default:[im]},$$scope:{ctx:r}}}),{c(){ce(e.$$.fragment)},m(o,s){ae(e,o,s),t=!0},p(o,s){let n={};s&4&&(n.href="https://www.youtube.com/results?search_query="+encodeURIComponent(`${o[2]} "PC" Gameplay`)),s&64&&(n.$$scope={dirty:s,ctx:o}),e.$set(n)},i(o){t||($(e.$$.fragment,o),t=!0)},o(o){O(e.$$.fragment,o),t=!1},d(o){le(e,o)}}}function im(r){let e=f(ya)+"",t;return{c(){t=T(e)},m(o,s){w(o,t,s)},p:I,d(o){o&&v(t)}}}function am(r){let e,t;return e=new je({props:{href:"https://www.youtube.com/results?search_query="+encodeURIComponent(`${r[2]} "PC" Review`),icon:"as_youtube_btn",$$slots:{default:[lm]},$$scope:{ctx:r}}}),{c(){ce(e.$$.fragment)},m(o,s){ae(e,o,s),t=!0},p(o,s){let n={};s&4&&(n.href="https://www.youtube.com/results?search_query="+encodeURIComponent(`${o[2]} "PC" Review`)),s&64&&(n.$$scope={dirty:s,ctx:o}),e.$set(n)},i(o){t||($(e.$$.fragment,o),t=!0)},o(o){O(e.$$.fragment,o),t=!1},d(o){le(e,o)}}}function lm(r){let e=f(Sa)+"",t;return{c(){t=T(e)},m(o,s){w(o,t,s)},p:I,d(o){o&&v(t)}}}function cm(r){let e,t;return e=new je({props:{href:M.formatUrl(r[3].url.replace("[NAME]",r[2]?encodeURIComponent(r[2]):"").replace("[ID]",String(r[0]))),iconUrl:r[3].icon?M.formatUrl(r[3].icon):null,$$slots:{default:[pm]},$$scope:{ctx:r}}}),{c(){ce(e.$$.fragment)},m(o,s){ae(e,o,s),t=!0},p(o,s){let n={};s&5&&(n.href=M.formatUrl(o[3].url.replace("[NAME]",o[2]?encodeURIComponent(o[2]):"").replace("[ID]",String(o[0])))),s&64&&(n.$$scope={dirty:s,ctx:o}),e.$set(n)},i(o){t||($(e.$$.fragment,o),t=!0)},o(o){O(e.$$.fragment,o),t=!1},d(o){le(e,o)}}}function pm(r){let e=f(Ge,{website:r[3].name})+"",t,o;return{c(){t=T(e),o=C()},m(s,n){w(s,t,n),w(s,o,n)},p:I,d(s){s&&(v(t),v(o))}}}function Up(r){let e,t,o=r[3].enabled&&cm(r);return{c(){o&&o.c(),e=Pe()},m(s,n){o&&o.m(s,n),w(s,e,n),t=!0},p(s,n){s[3].enabled&&o.p(s,n)},i(s){t||($(o),t=!0)},o(s){O(o),t=!1},d(s){s&&v(e),o&&o.d(s)}}}function um(r){let e,t,o,s,n,i,a,c,l;e=new Cp({props:{type:"app",gameid:r[0]}});let p=h.showsteamcardexchange&&G_(r),_=h.showprotondb&&Z_(r),u=h.showcompletionistme&&K_(r),x=h.showpcgw&&Y_(r),g=r[2]&&Bp(r),E=be(h.app_custom_link),L=[];for(let Q=0;Q<E.length;Q+=1)L[Q]=Up(Ap(r,E,Q));let A=Q=>O(L[Q],1,1,()=>{L[Q]=null});return{c(){ce(e.$$.fragment),t=C(),p&&p.c(),o=C(),_&&_.c(),s=C(),u&&u.c(),n=C(),x&&x.c(),i=C(),g&&g.c(),a=C();for(let Q=0;Q<L.length;Q+=1)L[Q].c();c=Pe()},m(Q,D){ae(e,Q,D),w(Q,t,D),p&&p.m(Q,D),w(Q,o,D),_&&_.m(Q,D),w(Q,s,D),u&&u.m(Q,D),w(Q,n,D),x&&x.m(Q,D),w(Q,i,D),g&&g.m(Q,D),w(Q,a,D);for(let S=0;S<L.length;S+=1)L[S]&&L[S].m(Q,D);w(Q,c,D),l=!0},p(Q,[D]){let S={};if(D&1&&(S.gameid=Q[0]),e.$set(S),h.showsteamcardexchange&&p.p(Q,D),h.showprotondb&&_.p(Q,D),h.showcompletionistme&&u.p(Q,D),h.showpcgw&&x.p(Q,D),Q[2]?g?(g.p(Q,D),D&4&&$(g,1)):(g=Bp(Q),g.c(),$(g,1),g.m(a.parentNode,a)):g&&(Ue(),O(g,1,1,()=>{g=null}),Te()),D&5){E=be(h.app_custom_link);let k;for(k=0;k<E.length;k+=1){let N=Ap(Q,E,k);L[k]?(L[k].p(N,D),$(L[k],1)):(L[k]=Up(N),L[k].c(),$(L[k],1),L[k].m(c.parentNode,c))}for(Ue(),k=E.length;k<L.length;k+=1)A(k);Te()}},i(Q){if(!l){$(e.$$.fragment,Q),$(p),$(_),$(u),$(x),$(g);for(let D=0;D<E.length;D+=1)$(L[D]);l=!0}},o(Q){O(e.$$.fragment,Q),O(p),O(_),O(u),O(x),O(g),L=L.filter(Boolean);for(let D=0;D<L.length;D+=1)O(L[D]);l=!1},d(Q){Q&&(v(t),v(o),v(s),v(n),v(i),v(a),v(c)),le(e,Q),p&&p.d(Q),_&&_.d(Q),u&&u.d(Q),x&&x.d(Q),g&&g.d(Q),Ke(L,Q)}}}function _m(r,e,t){let{appid:o}=e,{communityAppid:s}=e,{appName:n=""}=e;return r.$$set=i=>{"appid"in i&&t(0,o=i.appid),"communityAppid"in i&&t(1,s=i.communityAppid),"appName"in i&&t(2,n=i.appName)},[o,s,n]}var In=class extends J{constructor(e){super(),Z(this,e,_m,um,K,{appid:0,communityAppid:1,appName:2})}},sr=In;var is=class extends B{apply(){let e=document.querySelector("#shareEmbedRow");if(!e)throw new Error("Node not found");let t=document.querySelector(".es_side_details_wrap");t?t.insertAdjacentElement("afterend",e):document.querySelector("div.rightcol.game_meta_data").insertAdjacentElement("afterbegin",e),new sr({target:e,anchor:e.firstElementChild,props:{appid:this.context.appid,communityAppid:this.context.communityAppid,appName:Ut.clearSpecialSymbols(this.context.appName)}})}};var as=class extends B{apply(){if(M.beforeBegin("h2.pageheader",`<div class="es_apphub_OtherSiteInfo">
                <a class="btnv6_blue_hoverfade btn_medium" href="//steamcommunity.com/app/${this.context.appid}/">
                    <span>${f(ra)}</span>
                </a>
            </div>`),!this.hasExtraLinksEnabled())return;let e=document.createElement("div");e.classList.add("es_extralinks_ctn"),document.querySelector("#error_box").insertAdjacentElement("afterend",e),new sr({target:e,props:{appid:this.context.appid,communityAppid:this.context.appid}})}hasExtraLinksEnabled(){return h.showitadlinks||h.showsteamdb||h.showbartervg||h.showsteamcardexchange||h.showprotondb||h.showcompletionistme||h.showpcgw||h.app_custom_link.some(e=>e.enabled)}};var Xe=class{static{this.registered=!1}static register(){this.registered||(Y.insertScript("scriptlets/DynamicStoreScriptlet.js"),this.registered=!0)}static onReady(){return this.readyPromise||(this.readyPromise=new Promise(e=>{this.register(),window.addEventListener("DSReady",()=>e(),{once:!0}),xe.call("as_DynamicStore","onReady")})),this.readyPromise}static invalidateCacheHandler(){this.register(),window.addEventListener("DSInvalidateCache",()=>this.clear()),xe.call("as_DynamicStore","invalidateCache")}static clear(){return Be.clearDynamicStore()}static async getAppsStatus(e){let t=await Be.getDynamicStoreStatus(e);return{ignored:new Set(t.ignored),ignoredOwned:new Set(t.ignoredOwned),owned:new Set(t.owned),wishlisted:new Set(t.wishlisted)}}static async getAppStatus(e){let t=await Be.getDynamicStoreStatus([e]);return{ignored:t.ignored.length>0,ignoredOwned:t.ignoredOwned.length>0,owned:t.owned.length>0,wishlisted:t.wishlisted.length>0}}static getRandomApp(){return Be.getDynamicStoreRandomApp()}};var eo=class{static fromUrl(e){let t=e.match(/(?:store\.steampowered|steamcommunity)\.com\/sub\/(\d+)\/?/);return t&&t[1]!==void 0?Number(t[1]):null}static fromElement(e){if(!e)return null;let t=e.dataset.dsPackageid;if(t)return Number(t);let o=e.getAttribute("href");return o?this.fromUrl(o):null}};var to=class{static fromUrl(e){let t=e.match(/(?:store\.steampowered|steamcommunity)\.com\/bundle\/(\d+)\/?/);return t&&t[1]!==void 0?Number(t[1]):null}static fromElement(e){if(!e)return null;let t=e.dataset.dsBundleid;if(t)return Number(t);let o=e.getAttribute("href");return o?this.fromUrl(o):null}};var Tp=(o=>(o[o.OK=0]="OK",o[o.Loading=1]="Loading",o[o.Error=2]="Error",o))(Tp||{}),Ye=Tp;function mm(r){let e;return{c(){e=b("span"),m(e,"class","svelte-1h9tyup"),te(e,"is-loading",r[0]===Ye.Loading),te(e,"is-error",r[0]===Ye.Error)},m(t,o){w(t,e,o)},p(t,[o]){o&1&&te(e,"is-loading",t[0]===Ye.Loading),o&1&&te(e,"is-error",t[0]===Ye.Error)},i:I,o:I,d(t){t&&v(e)}}}function dm(r,e,t){let{status:o=Ye.OK}=e;return r.$$set=s=>{"status"in s&&t(0,o=s.status)},[o]}var Pn=class extends J{constructor(e){super(),Z(this,e,dm,mm,K,{status:0})}},rr=Pn;function Mn(r,{delay:e=0,duration:t=400,easing:o=zt}={}){let s=+getComputedStyle(r).opacity;return{delay:e,duration:t,easing:o,css:n=>`opacity: ${n*s}`}}function Ip(r){let e,t,o,s,n,i=[gm,fm],a=[];function c(l,p){return l[0]===Ye.Loading?0:1}return t=c(r,-1),o=a[t]=i[t](r),{c(){e=b("div"),o.c()},m(l,p){w(l,e,p),a[t].m(e,null),n=!0},p(l,p){let _=t;t=c(l,p),t===_?a[t].p(l,p):(Ue(),O(a[_],1,1,()=>{a[_]=null}),Te(),o=a[t],o?o.p(l,p):(o=a[t]=i[t](l),o.c()),$(o,1),o.m(e,null))},i(l){n||($(o),l&&yt(()=>{n&&(s||(s=en(e,Mn,{duration:200},!0)),s.run(1))}),n=!0)},o(l){O(o),l&&(s||(s=en(e,Mn,{duration:200},!1)),s.run(0)),n=!1},d(l){l&&v(e),a[t].d(),l&&s&&s.end()}}}function fm(r){let e,t,o;return{c(){e=b("button"),e.textContent=`${f(Hl)}`,m(e,"type","button"),m(e,"class","asi__sync-now svelte-1yrw4ok")},m(s,n){w(s,e,n),t||(o=ye(e,"click",r[5]),t=!0)},p:I,i:I,o:I,d(s){s&&v(e),t=!1,o()}}}function gm(r){let e,t,o,s=f(oa)+"",n,i;return t=new rr({props:{status:Ye.Loading}}),{c(){e=b("span"),ce(t.$$.fragment),o=C(),n=T(s)},m(a,c){w(a,e,c),ae(t,e,null),d(e,o),d(e,n),i=!0},p:I,i(a){i||($(t.$$.fragment,a),i=!0)},o(a){O(t.$$.fragment,a),i=!1},d(a){a&&v(e),le(t)}}}function hm(r){let e,t,o,s,n,i,a=(r[3]?new Date(r[3]*1e3).toLocaleString():f(lo))+"",c,l,p,_,u,x=(r[4]?new Date(r[4]*1e3).toLocaleString():f(lo))+"",g,E,L,A=r[1]&&r[2]&&Ip(r);return{c(){e=b("div"),t=b("div"),t.textContent=`${f(Ol)}`,o=C(),s=b("div"),n=b("div"),n.textContent=`${f(Wl)}`,i=C(),c=T(a),l=C(),p=b("div"),_=b("div"),_.textContent=`${f(ql)}`,u=C(),g=T(x),E=C(),A&&A.c(),m(t,"class","asi-head svelte-1yrw4ok"),m(n,"class","asi-label svelte-1yrw4ok"),m(s,"class","asi-status svelte-1yrw4ok"),m(_,"class","asi-label svelte-1yrw4ok"),m(p,"class","asi-status svelte-1yrw4ok"),m(e,"class","asi-container svelte-1yrw4ok")},m(Q,D){w(Q,e,D),d(e,t),d(e,o),d(e,s),d(s,n),d(s,i),d(s,c),d(e,l),d(e,p),d(p,_),d(p,u),d(p,g),d(e,E),A&&A.m(e,null),L=!0},p(Q,[D]){(!L||D&8)&&a!==(a=(Q[3]?new Date(Q[3]*1e3).toLocaleString():f(lo))+"")&&V(c,a),(!L||D&16)&&x!==(x=(Q[4]?new Date(Q[4]*1e3).toLocaleString():f(lo))+"")&&V(g,x),Q[1]&&Q[2]?A?(A.p(Q,D),D&6&&$(A,1)):(A=Ip(Q),A.c(),$(A,1),A.m(e,null)):A&&(Ue(),O(A,1,1,()=>{A=null}),Te())},i(Q){L||($(A),L=!0)},o(Q){O(A),L=!1},d(Q){Q&&v(e),A&&A.d()}}}function bm(r,e,t){let{isConnected:o}=e,{enableSync:s}=e,{status:n=Ye.OK}=e,i=null,a=null;async function c(){let p=await me.getLastImport();t(3,i=p.from),t(4,a=p.to)}async function l(){t(0,n=Ye.Loading);try{await me.sync(!0),t(0,n=Ye.OK),await c()}catch(p){t(0,n=Ye.Error),console.group("ITAD sync"),console.error("Failed to sync with ITAD"),console.error(p),console.groupEnd()}}return r.$$set=p=>{"isConnected"in p&&t(1,o=p.isConnected),"enableSync"in p&&t(2,s=p.enableSync),"status"in p&&t(0,n=p.status)},[n,o,s,i,a,l,c]}var Rn=class extends J{constructor(e){super(),Z(this,e,bm,hm,K,{isConnected:1,enableSync:2,status:0,updateLastImport:6})}get updateLastImport(){return this.$$.ctx[6]}},Pp=Rn;function xm(r){let e,t,o,s,n,i,a,c,l,p,_,u,x;n=new rr({props:{status:r[1]}});function g(L){r[3](L)}let E={isConnected:!0,enableSync:h.itad_sync_library||h.itad_sync_wishlist};return r[1]!==void 0&&(E.status=r[1]),l=new Pp({props:E}),ot.push(()=>Bc(l,"status",g)),r[4](l),{c(){e=b("div"),t=b("img"),s=C(),ce(n.$$.fragment),i=C(),a=b("div"),c=b("div"),ce(l.$$.fragment),m(t,"class","asi__logo svelte-169w6z4"),Ve(t.src,o=r[2])||m(t,"src",o),m(t,"alt","ITAD logo"),m(c,"class","asi__content svelte-169w6z4"),m(a,"class","asi__hover svelte-169w6z4"),m(e,"class","asi svelte-169w6z4")},m(L,A){w(L,e,A),d(e,t),d(e,s),ae(n,e,null),d(e,i),d(e,a),d(a,c),ae(l,c,null),_=!0,u||(x=ye(e,"mouseenter",r[5]),u=!0)},p(L,[A]){let Q={};A&2&&(Q.status=L[1]),n.$set(Q);let D={};!p&&A&2&&(p=!0,D.status=L[1],Fc(()=>p=!1)),l.$set(D)},i(L){_||($(n.$$.fragment,L),$(l.$$.fragment,L),_=!0)},o(L){O(n.$$.fragment,L),O(l.$$.fragment,L),_=!1},d(L){L&&v(e),le(n),r[4](null),le(l),u=!1,x()}}}function vm(r,e,t){let o=_e.getURL("img/itad.png"),s,n;function i(l){n=l,t(1,n)}function a(l){ot[l?"unshift":"push"](()=>{s=l,t(0,s)})}return[s,n,o,i,a,()=>s.updateLastImport()]}var $n=class extends J{constructor(e){super(),Z(this,e,vm,xm,K,{})}},Mp=$n;var kt=class{static async init(){if(!await me.isConnected())return;let e=document.querySelector("#global_action_menu");if(e){let t=e.firstElementChild??void 0;new Mp({target:e,anchor:t})}pe.isSignedIn&&await me.sync()}static async getInCollection(e){let t=new Set;if(await me.isConnected()){let o=await me.inCollection(e);for(let[s,n]of Object.entries(o))n&&t.add(s)}return t}static async getInWaitlist(e){let t=new Set;if(await me.isConnected()){let o=await me.inWaitlist(e);for(let[s,n]of Object.entries(o))n&&t.add(s)}return t}};var bt=class{static{this._highlightCssLoaded=!1}static{this._tagCssLoaded=!1}static{this._selector=[".tab_item",".newonsteam_headercap",".comingsoon_headercap",".store_capsule",".dailydeal_ctn",".special.special_img_ctn",".special > .special_img_ctn",".store_main_capsule",".home_marketing_message[data-ds-appid]",".home_area_spotlight",".curator_giant_capsule",".home_content_item",".home_content.single > .gamelink",".highlighted_app_header","body.dlc_curator #curator_avatar_image",".curator_featured .capsule",".recommendation",".search_result_row",".small_cap",".game_area_dlc_row",".browse_tag_game",".recommendation_highlight > .header_image",".similar_grid_item",".friend_game_block > .game_capsule",".friendactivity_tab_row",".recommendation_app",".recommendation_carousel_item",".app_header",".friendplaytime_appheader"].join(",")}static highlightTitle(e){let t=document.querySelector(".apphub_AppName");return t?(t.dataset.dsAppid=String(e),this.highlightAndTag([t])):Promise.resolve()}static async highlightAndTag(e=void 0,t={}){let o={owned:h.highlight_owned||h.tag_owned,wishlisted:h.highlight_wishlist||h.tag_wishlist,ignored:h.highlight_notinterested||h.tag_notinterested,ignoredOwned:h.highlight_ignored_owned||h.tag_ignored_owned,collected:h.highlight_collection||h.tag_collection,waitlisted:h.highlight_waitlist||h.tag_waitlist,gift:h.highlight_inv_gift||h.tag_inv_gift,guestPass:h.highlight_inv_guestpass||h.tag_inv_guestpass,coupon:h.highlight_coupon||h.tag_coupon};for(let[L,A]of Object.entries(t))o[L]&&=A;if(!Object.values(o).some(L=>L))return;let s=e??document.querySelectorAll(this._selector);if(s.length===0)return;let n=[],i=new Map;for(let L of s){if(L.classList.contains("es_highlight_checked"))continue;L.classList.add("es_highlight_checked");let A=L.querySelector("a"),Q=null,D=Ie.fromElement(L)??Ie.fromElement(A);if(D)Q=`app/${D}`,n.push(D);else{let S=eo.fromElement(L)??eo.fromElement(A);if(S)Q=`sub/${S}`;else{let k=to.fromElement(L)??to.fromElement(A);k&&(Q=`bundle/${k}`)}}Q?i.has(Q)?i.get(Q).push(L):i.set(Q,[L]):console.warn("FHighlightsTags: Couldn't find storeId for node %o",L)}let a=Array.from(i.keys());if(a.length===0)return;let l=o.owned||o.wishlisted||o.ignored||o.ignoredOwned?await Xe.getAppsStatus(a):{ignored:new Set,ignoredOwned:new Set,owned:new Set,wishlisted:new Set},[p,_]=await Promise.all([o.collected?kt.getInCollection(a):Promise.resolve(new Set),o.waitlisted?kt.getInWaitlist(a):Promise.resolve(new Set)]),[u,x,g]=await Promise.all([o.gift?gt.getGiftsAppids(n):Promise.resolve(new Set),o.guestPass?gt.getPassesAppids(n):Promise.resolve(new Set),o.coupon?gt.getCouponsAppids(n):Promise.resolve(new Set)]),E={owned:[],wishlist:[],ignored:[],ignoredOwned:[],collection:[],waitlist:[],gifts:[],passes:[],coupons:[]};for(let[L,A]of i)o.owned&&l.owned.has(L)&&E.owned.push(...A),o.wishlisted&&l.wishlisted.has(L)&&E.wishlist.push(...A),o.ignored&&l.ignored.has(L)&&E.ignored.push(...A),o.ignoredOwned&&l.ignoredOwned.has(L)&&E.ignoredOwned.push(...A),p.has(L)&&E.collection.push(...A),_.has(L)&&E.waitlist.push(...A),u.has(L)&&E.gifts.push(...A),x.has(L)&&E.passes.push(...A),g.has(L)&&E.coupons.push(...A);this.highlightOwned(E.owned),this.highlightWishlist(E.wishlist),this.highlightIgnored(E.ignored),this.highlightIgnoredOwnedElsewhere(E.ignoredOwned),this.highlightCollection(E.collection),this.highlightWaitlist(E.waitlist),this.highlightInvGift(E.gifts),this.highlightInvGuestpass(E.passes),this.highlightInvCoupon(E.coupons)}static _addTag(e,t){let o={owned:El,wishlist:Ll,coupon:Nl,inv_gift:Dl,inv_guestpass:Fl,notinterested:Cl,ignored_owned:Al,waitlist:Ul,collection:Bl}[t]??Ii;if(!this._tagCssLoaded){this._tagCssLoaded=!0;let n=[],i={owned:h.tag_owned_color,wishlist:h.tag_wishlist_color,coupon:h.tag_coupon_color,inv_gift:h.tag_inv_gift_color,inv_guestpass:h.tag_inv_guestpass_color,notinterested:h.tag_notinterested_color,ignored_owned:h.tag_ignored_owned_color,waitlist:h.tag_waitlist_color,collection:h.tag_collection_color};for(let[a,c]of Object.entries(i))n.push(`.es_tag_${a} { background-color: ${c}; }`);Y.insertCSS(n.join(`
`))}let s=e.querySelector(".es_tags");s||(s=document.createElement("div"),s.classList.add("es_tags"),h.tag_short&&s.classList.add("es_tags_short"),e.classList.contains("tab_item")?e.querySelector(".tab_item_details").prepend(s):e.classList.contains("store_main_capsule")?e.querySelector(".platforms").prepend(s):e.classList.contains("newonsteam_headercap")||e.classList.contains("comingsoon_headercap")?e.querySelector(".discount_block").before(s):e.classList.contains("search_result_row")?e.querySelector(".search_name > div").prepend(s):e.classList.contains("browse_tag_game")?e.querySelector(".browse_tag_game_price").after(s):e.classList.contains("game_area_dlc_row")?(e.querySelector(".discount_block")||e.querySelector(".game_area_dlc_price")).prepend(s):e.classList.contains("wishlist_row")?e.querySelector(".addedon").prepend(s):e.classList.contains("match_app")?e.querySelector(".match_subtitle").prepend(s):e.classList.contains("header_image")?e.parentNode.querySelector(".highlight_description").prepend(s):e.classList.contains("similar_grid_item")?e.querySelector(".regular_price, .discount_block").append(s):e.classList.contains("recommendation_carousel_item")?e.querySelector(".buttons").before(s):e.classList.contains("friendplaytime_game")&&e.querySelector(".friendplaytime_buttons").before(s)),M.beforeEnd(s,`<span class="es_tag_${t}">${f(o)}</span>`)}static _highlightNode(e,t){if(h.highlight_excludef2p){let s=e.querySelector("[data-ds-tagids]")??e.closest("[data-ds-tagids]");if(s&&JSON.parse(s.dataset.dsTagids).includes(113)||(s=e.querySelector(".discount_final_price, .regular_price, .search_price, .game_area_dlc_price, .browse_tag_game_price"),s&&/\bFree\b/.test(s.textContent??"")))return}if(!this._highlightCssLoaded){this._highlightCssLoaded=!0;let s=[],n={ignored_owned:h.highlight_ignored_owned_color,notinterested:h.highlight_notinterested_color,waitlist:h.highlight_waitlist_color,wishlist:h.highlight_wishlist_color,collection:h.highlight_collection_color,owned:h.highlight_owned_color,coupon:h.highlight_coupon_color,inv_guestpass:h.highlight_inv_guestpass_color,inv_gift:h.highlight_inv_gift_color};for(let[i,a]of Object.entries(n))s.push(`.es_highlighted_${i} {
                        background: ${a} linear-gradient(135deg, rgba(0, 0, 0, 0.70) 10%, rgba(0, 0, 0, 0) 100%) !important;
                    }
                    .curator_giant_capsule.es_highlighted_${i},
                    .blotter_userstatus_game.es_highlighted_${i},
                    #curator_avatar_image.es_highlighted_${i} .curator_avatar,
                    .app_header.es_highlighted_${i} {
                        outline: solid ${a};
                    }
                    .apphub_AppName.es_highlighted_${i} {
                        background: none !important; color: ${a};
                    }`);Y.insertCSS(s.join(`
`))}let o=e;e.classList.contains("item")?o=e.querySelector(".info"):e.classList.contains("home_area_spotlight")?o=e.querySelector(".spotlight_content"):e.classList.contains("special_img_ctn")&&e.parentElement?.classList.contains("special")?o=e.parentElement:e.classList.contains("store_capsule")?e.parentElement?.classList.contains("steam_curator_recommendation")&&e.parentElement?.classList.contains("big")?o=e.nextElementSibling:e.parentNode?.parentElement?.classList.contains("curations")&&(o=e.parentElement):(e.classList.contains("blotter_userstats_game")||e.classList.contains("gamelink")||e.classList.contains("recommendation_app")||e.classList.contains("header_image")||e.classList.contains("game_capsule")||e.classList.contains("highlighted_app_header")||e.classList.contains("friendplaytime_appheader"))&&(o=e.parentNode),o?.classList.add("es_highlighted",`es_highlighted_${t}`),e.querySelectorAll(".ds_flag").forEach(s=>s.remove()),e.querySelectorAll(".ds_flagged").forEach(s=>s.classList.remove("ds_flagged")),e.classList.remove("ds_flagged")}static _highlightItems(e,t,o,s){for(let n of e){if(s)try{this._highlightNode(n,t)}catch(i){console.error("Failed to highlight node",i)}if(o)try{this._addTag(n,t)}catch(i){console.error("Failed to tag node",i)}}}static highlightOwned(e){this._highlightItems(e,"owned",h.tag_owned,h.highlight_owned)}static highlightWishlist(e){this._highlightItems(e,"wishlist",h.tag_wishlist,h.highlight_wishlist)}static highlightInvCoupon(e){this._highlightItems(e,"coupon",h.tag_coupon,h.highlight_coupon)}static highlightInvGift(e){this._highlightItems(e,"inv_gift",h.tag_inv_gift,h.highlight_inv_gift)}static highlightInvGuestpass(e){this._highlightItems(e,"inv_guestpass",h.tag_inv_guestpass,h.highlight_inv_guestpass)}static highlightIgnored(e){this._highlightItems(e,"notinterested",h.tag_notinterested,h.highlight_notinterested)}static highlightIgnoredOwnedElsewhere(e){this._highlightItems(e,"ignored_owned",h.tag_ignored_owned,h.highlight_ignored_owned)}static highlightCollection(e){this._highlightItems(e,"collection",h.tag_collection,h.highlight_collection)}static highlightWaitlist(e){this._highlightItems(e,"waitlist",h.tag_waitlist,h.highlight_waitlist)}};var ls=class extends B{async apply(){await Xe.onReady(),await bt.highlightAndTag()}};var cs=class extends B{checkPrerequisites(){return h.show_alternative_linux_icon}apply(){let t=`span.platform_img.linux { background-image: url(${_e.getURL("img/alternative_linux_icon.png")}) !important; }`;this.context.type===Oe.STORE_FRONT&&(t+=".tab_item.focus .tab_item_details span.platform_img.linux { filter: brightness(0%); }"),Y.insertCSS(t)}};var ps=class extends B{checkPrerequisites(){return h.skip_got_steam}apply(){Y.insertScript("scriptlets/Store/Common/skipGotSteamDialog.js")}};var us=class extends B{checkPrerequisites(){return h.horizontalscrolling}apply(){for(let e of document.querySelectorAll(".slider_ctn:not(.spotlight)"))this._initHorizontalScroll(e.parentNode.querySelector("#highlight_strip, .store_horizontal_autoslider_ctn"),e.querySelector(".slider_left"),e.querySelector(".slider_right"))}_initHorizontalScroll(e,t,o){let s=0;e.addEventListener("wheel",n=>{if(n.preventDefault(),n.stopPropagation(),Date.now()-s<200)return;s=Date.now(),n.deltaY>0?o.click():t.click()})}};var _s=class extends B{checkPrerequisites(){return h.hidetmsymbols}apply(){let e="title, .apphub_AppName, .breadcrumbs, h1, h4";this.context.type===Oe.STORE_DEFAULT?e+=".game_area_already_owned, .details_block, .game_description_snippet, .game_area_description p, .glance_details, .game_area_dlc_bubble game_area_bubble, .package_contents, .game_area_dlc_name, .tab_desc, .tab_item_name":e+=".game_suggestion, .appHubShortcut_Title, .apphub_CardContentNewsTitle, .apphub_CardTextContent, .apphub_CardContentAppName, .apphub_AppName";function t(n){!n||!n.innerHTML||M.inner(n,n.innerHTML.replace(/[\u00AE\u00A9\u2122]/g,""))}for(let n of document.querySelectorAll(e))t(n);let o=new MutationObserver(n=>{n.forEach(i=>{i.addedNodes.forEach(a=>{t(a)})})}),s=document.querySelectorAll("#game_select_suggestions,#search_suggestion_contents,.tab_content_ctn");for(let n of s)o.observe(n,{childList:!0,subtree:!0})}};var ms=class extends B{checkPrerequisites(){return h.disablelinkfilter}apply(){document.addEventListener("click",e=>{if(!e.target)return;let t=e.target;if(t.tagName!=="A")return;let o=t.href;if(!/\/linkfilter\//.test(o))return;let s=new URL(o).searchParams,n=s.get("u")??s.get("url");n&&(n.includes("%E2%99%A5")||(e.preventDefault(),window.location.href=n))})}};var ds=class extends B{apply(){let e=["input#market_sell_dialog_accept_ssa","input#market_buyorder_dialog_accept_ssa","input#accept_ssa"].join(",");for(let t of document.querySelectorAll(e))t.checked=h.keepssachecked,t.addEventListener("click",()=>{h.keepssachecked=t.checked})}};var fs=class extends B{checkPrerequisites(){return h.community_default_tab!==""}apply(){let e=h.community_default_tab,t=document.querySelectorAll("a[href^='https://steamcommunity.com/app/']");for(let o of t)o.classList.contains("apphub_sectionTab")||/^\/app\/[0-9]+\/?$/.test(o.pathname)&&(o.pathname.endsWith("/")||(o.pathname+="/"),o.pathname+=`${e}/`)}};var gs=class{constructor(e,t){this.featureMap=new Map;this.promiseMap=new Map;this.dependencies=new Map;this.stats={completed:0,failed:0,dependency:0};this.type=e;for(let o of t){let s=new o(this);this.featureMap.set(s.constructor,s)}}dependency(e,...t){this.dependencies.set(e,new Map(t))}async applyFeatures(){let e=[...this.featureMap.values()].map(t=>this.getFeaturePromise(t));await Promise.allSettled(e),console.log("Feature loading complete, %i successfully loaded, %i failed to load, %i didn't load due to dependency errors",this.stats.completed,this.stats.failed,this.stats.dependency)}getFeaturePromise(e){let t=e.constructor,o=this.promiseMap.get(t);return o||(o=this.applyInternal(e),this.promiseMap.set(t,o)),o}async applyInternal(e){let t=e.constructor,o=this.dependencies.get(t);if(o)try{let n=[];for(let[i,a]of o)n.push((async()=>{let c=this.featureMap.get(i);if(!c)throw new yo.FeatureDependencyError("Dependency feature not found",i.name);let l=await this.getFeaturePromise(c);return a||l})());if(!(await Promise.all(n)).every(i=>i))return!1}catch{console.warn("Not applying feature %s due to an error in the dependency chain",t.name),++this.stats.dependency}let s=!!await e.checkPrerequisites();if(s)try{await e.apply(),++this.stats.completed}catch(n){let i=t.name;throw console.group(i),console.error("Error while applying feature %s",i),console.error(n),console.groupEnd(),++this.stats.failed,new yo.FeatureDependencyError("Failed to apply",i)}return s}};function wm(r){let e,t,o,s,n;return{c(){e=b("span"),t=b("span"),o=b("img"),m(o,"title",s=f(al)),Ve(o.src,n=r[0])||m(o,"src",n),m(o,"alt","Early Access banner"),m(o,"class","svelte-52sejw"),m(t,"class","es_overlay svelte-52sejw"),m(e,"class","es_overlay_container svelte-52sejw")},m(i,a){w(i,e,a),d(e,t),d(t,o),r[3](e)},p(i,[a]){a&1&&!Ve(o.src,n=i[0])&&m(o,"src",n)},i:I,o:I,d(i){i&&v(e),r[3](null)}}}function ym(r,e,t){let{imageUrl:o}=e,{imgHeader:s}=e,n;tt(()=>{n.append(s)});function i(a){ot[a?"unshift":"push"](()=>{n=a,t(1,n)})}return r.$$set=a=>{"imageUrl"in a&&t(0,o=a.imageUrl),"imgHeader"in a&&t(2,s=a.imgHeader)},[o,n,s,i]}var On=class extends J{constructor(e){super(),Z(this,e,ym,wm,K,{imageUrl:0,imgHeader:2})}},Rp=On;var Tt=class{static{this.storeSelectors=[".tab_item",".newonsteam_headercap",".comingsoon_headercap",".store_capsule",".dailydeal_ctn",".special.special_img_ctn",".home_area_spotlight",".curator_giant_capsule",".home_content_item",".home_content.single > .gamelink",".highlighted_app_header","body.dlc_curator #curator_avatar_image",".curator_featured .capsule",".search_result_row",".small_cap",".browse_tag_game_cap",".recommendation_highlight > .header_image",".similar_grid_item",".friend_game_block > .game_capsule",".friendactivity_tab_row",".recommendation_app",".recommendation_carousel_item",".app_header",".friendplaytime_appheader"]}static{this.communitySelectors=[".gameLogo",".blotter_gamepurchase_logo",".gameLogoHolder_default",".game_capsule_ctn"]}static{this.selector=(window.location.hostname==="store.steampowered.com"?this.storeSelectors:this.communitySelectors).join(",")}static async show(e){if(!h.show_early_access)return;let t=e??document.querySelectorAll(this.selector);if(t.length===0)return;let o="img/overlay/early_access_banner_english.png";qe.isCurrentLanguageOneOf("brazilian","french","italian","japanese","koreana","polish","portuguese","russian","schinese","spanish","latam","tchinese","thai")&&(o=`img/overlay/early_access_banner_${qe.getCurrentSteamLanguage()}.png`);let s=_e.getURL(o);for(let n of await this.getEaNodes(t)){if(n.querySelector(".es_overlay_container")!==null)continue;n.classList.add("es_early_access");let i=n.querySelector("img");i&&new Rp({target:i.parentElement,anchor:i,props:{imageUrl:s,imgHeader:i}})}}static async getEaNodes(e){let t=new Map;for(let s of e){if(s.classList.contains("es_ea_checked")||(s.classList.add("es_ea_checked"),s.classList.contains("store_capsule")&&s.querySelector(".capsule[id^=broadcast]")!==null))continue;let n=Ie.fromElement(s)||Ie.fromElement(s.querySelector("a"))||Ie.fromElement(s.querySelector("img"));if(n){let i=t.get(n)??[];i.push(s),t.set(n,i)}}if(t.size===0)return[];let o=await He.isEarlyAccess([...t.keys()]);return Array.from(t).flatMap(([s,n])=>o[s]?n:[])}};var hs=class extends B{async apply(){await Tt.show()}};var bs=class extends gs{constructor(e,t=[]){t.push(hs,_s,ms,ds,fs),super(e,t)}};var xs=class extends bs{constructor(e=Oe.STORE_DEFAULT,t=[]){t.push(ls,cs,ps,us),super(e,t),this._observeChanges()}getAllSubids(){let e=[];for(let t of document.querySelectorAll("input[name=subid]"))t.value&&e.push(t.value);return e}_observeChanges(){let e=document.querySelector("#search_suggestion_contents");e&&new MutationObserver(n=>{let i=Array.from(n[0].addedNodes).filter(a=>a.classList.contains("match_app"));this.decorateStoreCapsules(i)}).observe(e,{childList:!0});let t=document.querySelector(".tab_content_ctn");if(t){new MutationObserver(n=>{for(let i of n){let a=i.addedNodes;if(a.length>1){let c=Array.from(a).filter(l=>l instanceof Element&&l.classList.contains("tab_item"));this.decorateStoreCapsules(c)}}}).observe(t,{childList:!0,subtree:!0});return}let o=document.querySelector("#friendactivity_tabarea");if(o){new MutationObserver(n=>{for(let i of n){let a=i.addedNodes;if(a.length>1){let c=Array.from(a).filter(l=>l instanceof Element&&l.querySelector(".friendactivity_game_link")!==null);this.decorateStoreCapsules(c)}}}).observe(o,{childList:!0,subtree:!0});return}let s=document.querySelector(["#tag_browse_games_ctn","#RecommendationsRows","#CuratorsRows"].join(","));s&&new MutationObserver(n=>{for(let{addedNodes:i}of n)if(i.length>0&&i[0]instanceof Element){let a=i[0].querySelectorAll(".browse_tag_game, .store_capsule, .recommendation");this.decorateStoreCapsules(a)}}).observe(s,{childList:!0,subtree:!0})}decorateStoreCapsules(e){bt.highlightAndTag(e),Tt.show(e)}};var vs=class extends B{async checkPrerequisites(){return h.add_to_waitlist&&document.querySelector("#add_to_wishlist_area")!==null&&await me.isConnected()}async apply(){let e=document.querySelector(".queue_actions_ctn");if(!e)return;let t=this.context.appid,o=this.context.storeid,s=document.querySelector("img[src$='/ico_demo.gif']")!==null;if(s){let S=document.querySelector("a[href^='https://steamcommunity.com/app/']");S&&(t=Ie.fromUrl(S.href),o=`app/${t}`)}let n=e.querySelector("#add_to_wishlist_area"),i=e.querySelector("#add_to_wishlist_area_success");for(let S of i.querySelectorAll(":scope > div"))S.remove();M.beforeBegin(n,`<div style="position: relative; display: inline-block;">
                <div class="queue_control_button as_btn_wishlist"></div>
            </div>`);let a=e.querySelector(".as_btn_wishlist");a.append(n,i),M.afterEnd(a,`<div class="queue_control_button queue_btn_menu as_btn_wishlist_menu">
                <div class="queue_menu_arrow btn_medium">
                    <span><img src="//store.cloudflare.steamstatic.com/public/images/v6/btn_arrow_down_padded.png"></span>
                </div>
                <div class="queue_menu_flyout">
                    <div class="queue_menu_flyout_content">
                        <div class="queue_menu_option" id="queue_menu_option_on_wishlist">
                            <div>
                                <img class="queue_ignore_menu_option_image selected" src="//store.cloudflare.steamstatic.com/public/images/v6/ico/ico_selected_bright.png">
                                <img class="queue_ignore_menu_option_image unselected" src="//store.cloudflare.steamstatic.com/public/images/v6/ico/ico_unselected_bright.png">
                            </div>
                            <div class="queue_menu_option_label">
                                <div class="option_title">${f(Ps)} (${f(fa)})</div>
                                <div class="option_subtitle">${s?f(la):f(aa)}</div>
                            </div>
                        </div>
                        <div class="queue_menu_option" id="queue_menu_option_on_waitlist">
                            <div>
                                <img class="queue_ignore_menu_option_image selected" src="//store.cloudflare.steamstatic.com/public/images/v6/ico/ico_selected_bright.png">
                                <img class="queue_ignore_menu_option_image unselected" src="//store.cloudflare.steamstatic.com/public/images/v6/ico/ico_unselected_bright.png">
                            </div>
                            <div class="queue_menu_option_label">
                                <div class="option_title">Waitlist</div>
                                <div class="option_subtitle">${s?f(pa):f(ca)}</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>`);let c=i.querySelector("a"),l=n.querySelector("a"),p=c.querySelector("img");p.classList.add("es-in-wl"),M.beforeBegin(p,`<img class="es-remove-wl" src="${_e.getURL("img/remove.png")}">
            <img class="es-loading-wl" src="//community.cloudflare.steamstatic.com/public/images/login/throbber.gif">`),M.afterBegin(l.querySelector("span"),'<img class="es-loading-wl" src="//community.cloudflare.steamstatic.com/public/images/login/throbber.gif"> '),Y.insertScript("scriptlets/Store/App/wishlistHandlers.js");let _=n.style.display==="none",u=(await me.inWaitlist([o]))[o]??!1,x=e.querySelector(".as_btn_wishlist_menu"),g=x.querySelector(".queue_menu_arrow"),E=e.querySelector("#queue_menu_option_on_wishlist"),L=e.querySelector("#queue_menu_option_on_waitlist"),A=i.querySelector("span").lastChild.textContent,Q=i.querySelector("a").dataset.tooltipText;function D(){e.classList.remove("loading");let S=_||u;g.classList.toggle("queue_btn_active",S),x.classList.toggle("on_wishlist",_),x.classList.toggle("on_waitlist",u),n.style.display=S?"none":"",i.style.display=S?"":"none";let k,N;_&&!u?(k=A,N=Q):!_&&u?(k=f(Ka),N=s?f(_a):f(ua)):_&&u?(k=f(Xa),N=s?f(da):f(ma)):N=Q,k&&(i.querySelector("span").lastChild.textContent=` ${k}`),c.dataset.tooltipText=N,Fe.vTooltip("#add_to_wishlist_area_success > a")}D(),l.addEventListener("click",async()=>{e.classList.contains("loading")||(e.classList.add("loading"),await new Promise(S=>{document.addEventListener("addRemoveWishlist",k=>{k.detail?(_=!_,D()):e.classList.remove("loading"),S()},{once:!0})}))}),c.addEventListener("click",async S=>{_||S.preventDefault(),!e.classList.contains("loading")&&(e.classList.add("loading"),_&&await new Promise(k=>{document.addEventListener("addRemoveWishlist",N=>{N.detail&&(_=!_),k()},{once:!0})}),u&&(await me.removeFromWaitlist(t),u=!u),D())}),E.addEventListener("click",async()=>{e.classList.contains("loading")||(e.classList.add("loading"),await new Promise(S=>{document.addEventListener("addRemoveWishlist",k=>{k.detail?(_=!_,D()):e.classList.remove("loading"),S()},{once:!0}),_?Fe.removeFromWishlist(t,"add_to_wishlist_area_success","add_to_wishlist_area","add_to_wishlist_area_fail"):Fe.addToWishlist(t,"add_to_wishlist_area","add_to_wishlist_area_success","add_to_wishlist_area_fail")}))}),L.addEventListener("click",async()=>{e.classList.contains("loading")||(e.classList.add("loading"),u?await me.removeFromWaitlist(t):await me.addToWaitlist(t),u=!u,D())})}};var ws=class extends B{async apply(){await Xe.onReady(),await bt.highlightTitle(this.context.appid)}};var ys=class extends xs{constructor(){let t=document.getElementById("error_box")!==null;super(Oe.APP,t?[as]:[jo,Zt,Vt,rs,vs,Ro,Uo,Ko,Qo,Ao,wo,Mo,$o,Wo,zo,Yo,ns,Po,is,Bo,Xt,Kt,Ho,vo,Co,Fo,Do,No,ko,Zo,Oo,es,fo,Jo,Eo,Vo,Io,qo,Xo,Go,ws]);this.communityAppid=0;this.appName="";this.metalink=null;this.hasAchievements=!1;this.isOwned=!1;this.isOwnedAndPlayed=!1;this.isDlc=!1;this.isDlcLike=!1;this.isVideoOrHardware=!1;this.data=Promise.resolve(null);if(this.appid=Ie.fromUrl(window.location.host+window.location.pathname),this.storeid=`app/${this.appid}`,t)return;this.communityAppid=Ie.fromCDNUrl(document.querySelector(".apphub_AppIcon img")?.src??"")??this.appid,this.appName=document.querySelector(".apphub_AppName")?.textContent??"",this.metalink=document.querySelector("#game_area_metalink a")?.href??null,this.hasAchievements=document.querySelector(".communitylink_achievement_images")!==null,this.isOwned=document.querySelector(".game_area_already_owned")!==null,this.isOwnedAndPlayed=this.isOwned&&document.querySelector("#my_activity")!==null,this.isDlc=document.querySelector(".game_area_dlc_bubble")!==null,this.isDlcLike=this.isDlc||document.querySelector(".game_area_soundtrack_bubble")!==null;let o=new URLSearchParams(document.querySelector(".breadcrumbs a")?.search).get("category1");this.isVideoOrHardware=o==="992"||o==="993"||!document.querySelector(".sys_req"),this.data=He.getStorePageData(this.appid).catch(s=>(console.error(s),null)),this.dependency(Kt,[Xt,!0]),this.dependency(Vt,[Zt,!0])}toggleVideoDefinition(t,o,s=!1){let n=t.parentNode;n.classList.toggle("es_playback_hd",o);let i=t.src===t.dataset.hdSrc;if(!s&&o===i)return;let a=/\.webm/.test(t.dataset.hdSrc),c=n.offsetHeight>0&&n.offsetWidth>0,l=t.currentTime||0;t.pause(),t.preload="metadata",t.addEventListener("loadedmetadata",()=>{t.currentTime=l,c&&t.play()},{once:!0}),o?t.src=a?n.dataset.webmHdSource:n.dataset.mp4HdSource:t.src=a?n.dataset.webmSource:n.dataset.mp4Source,t.load()}};var Wn=_t(Or()),$p=!1;async function Op(){if($p)return;$p=!0,await Et.init();let r=h.openinnewtab,e={ALLOWED_URI_REGEXP:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|chrome-extension|moz-extension|steam):|[^a-z]|[a-z+.-]+(?:[^a-z+.\-:]|$))/i};r&&(e.ADD_ATTR=["target"],Wn.default.addHook("uponSanitizeAttribute",(t,o)=>{o.attrName==="target"&&(o.attrValue==="_blank"?t.setAttribute("rel","noreferrer noopener"):o.keepAttr=!1)})),Wn.default.setConfig(e)}var Ss={ApiServerHost:"https://api.augmentedsteam.com",PublicHost:"https://augmentedsteam.com",ITADApiServerHost:"https://api.isthereanydeal.com",ITADServer:"https://isthereanydeal.com",ITADClientId:"5fe78af07889f43a",ITADDiscord:"https://discord.gg/yn57q7f"};function Sm(r){let e;return{c(){e=b("div"),e.textContent=`${f(yl)}`,m(e,"class","warning svelte-1van171")},m(t,o){w(t,e,o)},p:I,d(t){t&&v(e)}}}function Qm(r){let e,t=f(Ir,{amount:r[0]})+"",o;return{c(){e=b("div"),o=T(t),m(e,"class","error svelte-1van171")},m(s,n){w(s,e,n),d(e,o)},p(s,n){n&1&&t!==(t=f(Ir,{amount:s[0]})+"")&&V(o,t)},d(s){s&&v(e)}}}function km(r){let e,t,o,s,n=`${r[2]?r[1]:18}px`,i,a;function c(_,u){if(_[4])return Qm;if(_[3])return Sm}let l=c(r,-1),p=l&&l(r);return{c(){e=b("div"),t=b("div"),o=b("div"),s=b("div"),a=C(),p&&p.c(),m(s,"class","value svelte-1van171"),at(s,"width",n),m(o,"class","bar svelte-1van171"),m(t,"class","progress svelte-1van171"),m(t,"title",i=f(r[2]?Ur:Tr)),te(t,"is-complete",!r[2]),te(t,"is-warning",r[3]),te(t,"is-error",r[4]),m(e,"class","wrapper svelte-1van171")},m(_,u){w(_,e,u),d(e,t),d(t,o),d(o,s),d(e,a),p&&p.m(e,null)},p(_,[u]){u&6&&n!==(n=`${_[2]?_[1]:18}px`)&&at(s,"width",n),u&4&&i!==(i=f(_[2]?Ur:Tr))&&m(t,"title",i),u&4&&te(t,"is-complete",!_[2]),u&8&&te(t,"is-warning",_[3]),u&16&&te(t,"is-error",_[4]),l===(l=c(_,u))&&p?p.p(_,u):(p&&p.d(1),p=l&&l(_),p&&(p.c(),p.m(e,null)))},i:I,o:I,d(_){_&&v(e),p&&p.d()}}}function Lm(r,e,t){let o=0,s=0,n=0,i=0,a=!1,c=!1,l=!1;return tt(()=>{function p(){t(5,o+=1)}function _(){t(6,s+=1)}function u(x){t(0,n+=1),(x.detail.name??null)==="ServerOutageError"?t(3,c=!0):t(4,l=!0)}return document.addEventListener("asRequestStart",p),document.addEventListener("asRequestDone",_),document.addEventListener("asRequestError",u),()=>{document.removeEventListener("asRequestStart",p),document.removeEventListener("asRequestDone",_),document.removeEventListener("asRequestError",u)}}),r.$$.update=()=>{r.$$.dirty&97&&o>0&&(t(1,i=Math.min(100,100*(s/o))),t(2,a=s+n<o))},[n,i,a,c,l,o,s]}var qn=class extends J{constructor(e){super(),Z(this,e,Lm,km,K,{})}},Wp=qn;function Hn(){if(!h.show_progressbar)return;let r=document.querySelector("#global_actions");r&&new Wp({target:r.parentElement,anchor:r.nextElementSibling??void 0})}function Nm(r){let e,t,o,s;return{c(){e=b("div"),e.innerHTML="",t=b("a"),t.textContent=`${f(Za)}`,m(e,"class","hr svelte-m6ti3g"),m(t,"id","es_random_game"),m(t,"class","popup_menu_item svelte-m6ti3g")},m(n,i){w(n,e,i),w(n,t,i),o||(s=ye(t,"click",r[4]),o=!0)},p:I,d(n){n&&(v(e),v(t)),o=!1,s()}}}function Dm(r){let e,t,o,s,n,i,a,c,l,p,_,u,x,g,E,L,A,Q,D,S,k,N,U,F,z,X,q,de,ee,Le,ge,ne,oe,Qe=r[0]&&Nm(r);return{c(){e=b("span"),e.textContent="Augmented Steam",t=C(),o=b("div"),s=b("div"),n=b("a"),n.textContent=`${f(sl)}`,c=C(),l=b("a"),l.textContent=`${f(Xi)}`,p=C(),_=b("div"),u=C(),x=b("a"),x.textContent=`${f(xa)}`,E=C(),L=b("a"),L.textContent=`${f(Pa)}`,Q=C(),D=b("div"),S=C(),k=b("a"),k.textContent=`${f(Ts)}`,F=C(),z=b("a"),z.textContent="IsThereAnyDeal",q=C(),de=b("a"),de.textContent="Discord",ge=C(),Qe&&Qe.c(),m(e,"id","es_pulldown"),m(e,"class","pulldown global_action_link svelte-m6ti3g"),m(n,"class","popup_menu_item svelte-m6ti3g"),m(n,"href",i=_e.getURL("html/options.html")),m(l,"class","popup_menu_item svelte-m6ti3g"),m(l,"id","es_clear_cache"),m(l,"href","#clear_cache"),m(_,"class","hr svelte-m6ti3g"),m(x,"class","popup_menu_item svelte-m6ti3g"),m(x,"href","https://github.com/IsThereAnyDeal/AugmentedSteam"),m(L,"class","popup_menu_item svelte-m6ti3g"),m(L,"href","https://github.com/IsThereAnyDeal/AugmentedSteam/issues"),m(D,"class","hr svelte-m6ti3g"),m(k,"class","popup_menu_item svelte-m6ti3g"),m(k,"href",N=Ss.PublicHost),m(z,"class","popup_menu_item svelte-m6ti3g"),m(z,"href","https://isthereanydeal.com/"),m(de,"class","popup_menu_item svelte-m6ti3g"),m(de,"href",ee=Ss.ITADDiscord),m(s,"class","popup_body popup_menu svelte-m6ti3g"),m(o,"id","es_popup"),m(o,"class","popup_block_new svelte-m6ti3g")},m(ue,et){w(ue,e,et),w(ue,t,et),w(ue,o,et),d(o,s),d(s,n),d(s,c),d(s,l),d(s,p),d(s,_),d(s,u),d(s,x),d(s,E),d(s,L),d(s,Q),d(s,D),d(s,S),d(s,k),d(s,F),d(s,z),d(s,q),d(s,de),d(s,ge),Qe&&Qe.m(s,null),ne||(oe=[ye(e,"click",r[1]),Ne(a=ke.call(null,n)),ye(l,"click",Ks(r[3])),Ne(g=ke.call(null,x)),Ne(A=ke.call(null,L)),Ne(U=ke.call(null,k)),Ne(X=ke.call(null,z)),Ne(Le=ke.call(null,de)),ye(o,"click",r[2])],ne=!0)},p(ue,[et]){ue[0]&&Qe.p(ue,et)},i:I,o:I,d(ue){ue&&(v(e),v(t),v(o)),Qe&&Qe.d(),ne=!1,we(oe)}}}function Fm(r){let e=pe.isSignedIn;function t(){Fe.showMenu("es_pulldown","es_popup","right","bottom",!0)}function o(){Fe.hideMenu("es_pulldown","es_popup")}async function s(){await It.clearCache(),window.location.reload()}async function n(){let i=await Xe.getRandomApp();if(!i)return;let a=await Be.fetchAppDetails(i);if(!a)return;let c=a.fullgame?.appid??i,l=a.fullgame?.name??a.name,p=await Fe.showConfirmDialog(f(Va,{gamename:l}),`<img src="//cdn.cloudflare.steamstatic.com/steam/apps/${c}/header.jpg">`,null,null,f(Oa));p==="OK"?window.location.assign(`steam://run/${c}`):p==="SECONDARY"&&window.location.assign(`//store.steampowered.com/app/${c}`)}return[e,t,o,s,n]}var zn=class extends J{constructor(e){super(),Z(this,e,Fm,Dm,K,{})}},qp=zn;var Qs=class{static clearCache(){return W.send("cache.clear")}};function Em(r){let e,t,o,s,n,i,a,c,l,p,_,u=r[2].default,x=Js(u,r,r[1],null);return{c(){e=b("div"),t=b("div"),o=b("div"),x&&x.c(),s=C(),n=b("div"),i=b("button"),i.textContent=`${f(zl)}`,a=C(),c=b("button"),c.textContent=`${f(Vi)}`,m(i,"type","button"),m(i,"class","es_warn__btn svelte-svt0j"),m(c,"type","button"),m(c,"class","es_warn__btn svelte-svt0j"),m(n,"class","es_warn__control svelte-svt0j"),m(t,"class","es_warn__cnt svelte-svt0j"),m(e,"class","es_warn svelte-svt0j")},m(g,E){w(g,e,E),d(e,t),d(t,o),x&&x.m(o,null),d(t,s),d(t,n),d(n,i),d(n,a),d(n,c),l=!0,p||(_=[ye(i,"click",r[3]),ye(c,"click",r[4])],p=!0)},p(g,[E]){x&&x.p&&(!l||E&2)&&js(x,u,g,g[1],l?Gs(u,g[1],E,null):Zs(g[1]),null)},i(g){l||($(x,g),l=!0)},o(g){O(x,g),l=!1},d(g){g&&v(e),x&&x.d(g),p=!1,we(_)}}}function Cm(r,e,t){let{$$slots:o={},$$scope:s}=e,n=Zr(),i=()=>n("close"),a=()=>n("hide");return r.$$set=c=>{"$$scope"in c&&t(1,s=c.$$scope)},[n,s,o,i,a]}var Jn=class extends J{constructor(e){super(),Z(this,e,Cm,Em,K,{})}},Gn=Jn;function Hp(r){let e,t;return e=new Gn({props:{$$slots:{default:[Am]},$$scope:{ctx:r}}}),e.$on("close",r[6]),e.$on("hide",r[10]),{c(){ce(e.$$.fragment)},m(o,s){ae(e,o,s),t=!0},p(o,s){let n={};s&32780&&(n.$$scope={dirty:s,ctx:o}),e.$set(n)},i(o){t||($(e.$$.fragment,o),t=!0)},o(o){O(e.$$.fragment,o),t=!1},d(o){le(e,o)}}}function Am(r){let e,t,o,s,n,i;return{c(){e=T(r[2]),t=C(),o=b("button"),s=T(r[3]),m(o,"type","button"),m(o,"id","es_reset_language_code")},m(a,c){w(a,e,c),w(a,t,c),w(a,o,c),d(o,s),n||(i=ye(o,"click",Ks(r[5])),n=!0)},p(a,c){c&4&&V(e,a[2]),c&8&&V(s,a[3])},d(a){a&&(v(e),v(t),v(o)),n=!1,i()}}}function zp(r){let e,t;return e=new Gn({props:{$$slots:{default:[Bm]},$$scope:{ctx:r}}}),e.$on("close",r[7]),e.$on("hide",r[11]),{c(){ce(e.$$.fragment)},m(o,s){ae(e,o,s),t=!0},p(o,s){let n={};s&32784&&(n.$$scope={dirty:s,ctx:o}),e.$set(n)},i(o){t||($(e.$$.fragment,o),t=!0)},o(o){O(e.$$.fragment,o),t=!1},d(o){le(e,o)}}}function Bm(r){let e,t=f(Nr,{link:`<a href="https://${r[4]}/login/">${r[4]}</a>`})+"",o;return{c(){e=new At(!1),o=Pe(),e.a=o},m(s,n){e.m(t,s,n),w(s,o,n)},p(s,n){n&16&&t!==(t=f(Nr,{link:`<a href="https://${s[4]}/login/">${s[4]}</a>`})+"")&&e.p(t)},d(s){s&&(v(o),e.d())}}}function Um(r){let e,t,o,s=r[0]&&Hp(r),n=r[1]&&zp(r);return{c(){s&&s.c(),e=C(),n&&n.c(),t=Pe()},m(i,a){s&&s.m(i,a),w(i,e,a),n&&n.m(i,a),w(i,t,a),o=!0},p(i,[a]){i[0]?s?(s.p(i,a),a&1&&$(s,1)):(s=Hp(i),s.c(),$(s,1),s.m(e.parentNode,e)):s&&(Ue(),O(s,1,1,()=>{s=null}),Te()),i[1]?n?(n.p(i,a),a&2&&$(n,1)):(n=zp(i),n.c(),$(n,1),n.m(t.parentNode,t)):n&&(Ue(),O(n,1,1,()=>{n=null}),Te())},i(i){o||($(s),$(n),o=!0)},o(i){O(s),O(n),o=!1},d(i){i&&(v(e),v(t)),s&&s.d(i),n&&n.d(i)}}}function Tm(r,e,t){let o=!1,s=!1,n,i,a,c,l;async function p(A,Q){n=Q;let S=(await vt.load(qe.getLanguageCode(n))).strings;t(2,i=S[Wa].replace("__current__",S[`options_lang_${A}`]??A)),t(3,a=S[Na].replace("__base__",S[`options_lang_${n}`]??n)),t(0,o=!0)}function _(){Fe.changeLanguage(n,!0)}function u(){h.showlanguagewarning=!1,t(0,o=!1)}function x(A){if(c=A,A==="store")t(4,l="store.steampowered.com");else if(A==="community")t(4,l="steamcommunity.com");else throw new Error;console.warn("Are you logged into %s?",l),t(1,s=!0)}function g(){c==="store"?fe.set("hide_login_warn_store",!0):c==="community"&&fe.set("hide_login_warn_community",!0),t(1,s=!1)}return[o,s,i,a,l,_,u,g,p,x,()=>t(0,o=!1),()=>t(1,s=!1)]}var jn=class extends J{constructor(e){super(),Z(this,e,Tm,Um,K,{showLanguageWarning:8,showLoginWarning:9})}get showLanguageWarning(){return this.$$.ctx[8]}get showLoginWarning(){return this.$$.ctx[9]}},Jp=jn;var It=class r{static addMenu(){let e=document.querySelector("#global_action_menu");new qp({target:e,anchor:e.firstElementChild})}static addBackToTop(){if(!h.show_backtotop)return;document.querySelector("#BackToTop")?.remove();let e=document.createElement("div");e.classList.add("es_btt"),e.textContent="\u25B2",document.body.append(e),e.addEventListener("click",()=>{window.scroll({top:0,left:0,behavior:"smooth"})}),window.addEventListener("scroll",()=>{e.classList.toggle("is-visible",window.scrollY>=400)})}static focusSearchBox(){let e=document.querySelector(["#store_nav_search_term","input.discussionSearchText","#wishlist_search","#workshopSearchText","#findItemsSearchBox","input#filter_control"].join(","));if(!e)return;function t(o){return o.tagName==="INPUT"||o.tagName==="TEXTAREA"||o instanceof HTMLElement&&o.isContentEditable}document.addEventListener("keydown",o=>{if(o.key!=="s"||o.ctrlKey||o.repeat)return;let s=document.activeElement;s&&t(s)||(s=s?.shadowRoot?.activeElement??null,!(s&&t(s))&&(o.preventDefault(),e.focus()))})}static bindLogout(){let e=document.querySelector("a[href$='javascript:Logout();']");e&&e.addEventListener("click",()=>{r.clearCache()})}static getWarningComponent(){if(!this.warningComponent){let e=document.querySelector("#global_header");this.warningComponent=new Jp({target:e.parentElement,anchor:e.nextElementSibling})}return this.warningComponent}static addLanguageWarning(){if(!h.showlanguagewarning)return;let e=qe.getCurrentSteamLanguage();if(!e)return;h.showlanguagewarninglanguage||(h.showlanguagewarninglanguage=e);let t=h.showlanguagewarninglanguage;e!==t&&this.getWarningComponent().showLanguageWarning(e,t)}static async addLoginWarning(e){e!=="store"&&e!=="community"||await fe.get(`hide_login_warn_${e}`)||(this.getWarningComponent().showLoginWarning(e),console.warn("Are you logged into %s?",e))}static handleInstallSteamButton(){let e=h.installsteam;if(e==="show")return;let t=document.querySelector("a.header_installsteam_btn");if(!t){console.error(`Couldn't find "Install Steam" button element.`);return}e==="hide"?t.remove():e==="replace"&&(t.querySelector("div").textContent=f(Is),t.href=`steam://openurl/${window.location.href}`,t.classList.add("es_steamclient_btn"))}static addUsernameSubmenuLinks(){for(let e of document.querySelectorAll(".submenu_username"))M.afterEnd(e.querySelector("a"),`<a class="submenuitem" href="//steamcommunity.com/my/games/">${f(ta)}</a>`),M.afterEnd(e.querySelector("a:nth-child(2)"),`<a class="submenuitem" href="//store.steampowered.com/wishlist/">${f(Ps)}</a>`),M.beforeEnd(e,`<a class="submenuitem" href="//steamcommunity.com/my/recommended/">${f(va)}</a>`)}static cartLink(){for(let e of document.querySelectorAll(".submenu_store > .submenuitem[href='https://steamcommunity.com/my/wishlist/']"))M.afterEnd(e,`<a class="submenuitem" href="https://store.steampowered.com/cart/">${f(Pi)}</a>`)}static addRedeemLink(){M.beforeBegin("#account_language_pulldown",`<a class="popup_menu_item" href="https://store.steampowered.com/account/registerkey">${f(ji)}</a>`)}static clearCache(){return Qs.clearCache()}static init(){document.addEventListener("asRequestError",e=>{let{detail:t}=e,o=t.name??null,s=t.message??null;o==="LoginError"&&s!==null&&this.addLoginWarning(s)}),this.addBackToTop(),this.focusSearchBox(),this.addMenu(),this.addLanguageWarning(),this.handleInstallSteamButton(),this.cartLink(),pe.isSignedIn&&(this.addUsernameSubmenuLinks(),this.addRedeemLink(),this.bindLogout(),Xe.invalidateCacheHandler())}};var oo=class r{constructor(e,t=0,o=0){console.assert([e,t,o].filter(Number.isInteger).length===3,`${e}.${t}.${o} must be integers`),this.major=e,this.minor=t,this.patch=o}static from(e){if(e instanceof r)return new r(e.major,e.minor,e.patch);if(typeof e=="string")return r.fromString(e);if(Array.isArray(e))return r.fromArray(e);throw new Error(`Could not construct a Version from ${e}`)}static fromArray(e){if(e.length===0)throw new Error;return new r(Number(e[0]),Number(e[1]??0),Number(e[2]??0))}static fromString(e){return r.fromArray(e.split("."))}static coerce(e){return e instanceof r?e:r.from(e)}toString(){return`${this.major}.${this.minor}.${this.patch}`}toArray(){return[this.major,this.minor,this.patch]}toJSON(){return this.toString()}isCurrent(){return this.isSameOrAfter(Ze.version)}isSame(e){let t=r.coerce(e);return this.major===t.major&&this.minor===t.minor&&this.patch===t.patch}isBefore(e){let t=r.coerce(e);return this.major<t.major?!0:this.major>t.major?!1:this.minor<t.minor?!0:this.minor>t.minor?!1:this.patch<t.patch}isSameOrBefore(e){return this.isSame(e)||this.isBefore(e)}isAfter(e){return r.coerce(e).isBefore(this)}isSameOrAfter(e){return r.coerce(e).isSameOrBefore(this)}};var ks=class{static async checkVersion(){let e=oo.fromString(h.version);oo.fromString(Ze.version).isAfter(e)&&await this._showChangelog(e),h.version=Ze.version}static async _showChangelog(e){if(h.version_show)try{let o=(await _e.getJSON("changelog.json"))[Ze.version];if(!o){console.error(`Can't find changelog for version ${Ze.version}`);return}let s=_e.getURL("img/logo/as128.png"),n=`https://github.com/IsThereAnyDeal/AugmentedSteam/compare/v${e}...v${Ze.version}`,i=`<div class="es_changelog">
                <img src="${s}">
                <div>
                    ${o}
                    <p><a href="${n}" target="_blank">${f(Gl)}</a></p>
                </div>
            </div>`;Fe.showAlertDialog(f(Jl,{version:Ze.version}),i)}catch(t){console.error("Failed to show changelog: %o",t)}}};mt.CurrentContext=2;function Im(r){let e=r.reason;!e||!e.error||(r.preventDefault(),r.stopPropagation(),console.group("An error occurred in the background context."),console.error(e.stack),console.groupEnd())}window.addEventListener("unhandledrejection",Im);Y.insertScript("scriptlets/SteamScriptlet.js");var Ls=class{async run(e){if(document.getElementById("global_header")){try{try{await Et.init(),await Op()}catch(t){console.error(t)}await Promise.all([vt.init(),pe.init(),ve.init()])}catch(t){console.group("Augmented Steam initialization"),console.error("Failed to initialize Augmented Steam"),console.error(t),console.groupEnd();return}console.log(`%c Augmented %cSteam v${Ze.version} %c ${Ss.PublicHost}`,"background: #000000; color: #046eb2","background: #000000; color: #ffffff",""),Hn(),It.init(),await ks.checkVersion(),await kt.init(),await e().applyFeatures()}}};var Ns=class extends Ls{};new Ns().run(()=>new ys);})();
/*! Bundled license information:

dompurify/dist/purify.js:
  (*! @license DOMPurify 3.0.9 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.9/LICENSE *)
*/
//# sourceMappingURL=app.js.map
